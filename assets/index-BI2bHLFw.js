function ud(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ns(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var cd={exports:{}},Li={},dd={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),fg=Symbol.for("react.portal"),pg=Symbol.for("react.fragment"),gg=Symbol.for("react.strict_mode"),mg=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),_g=Symbol.for("react.suspense"),kg=Symbol.for("react.memo"),Sg=Symbol.for("react.lazy"),pu=Symbol.iterator;function xg(t){return t===null||typeof t!="object"?null:(t=pu&&t[pu]||t["@@iterator"],typeof t=="function"?t:null)}var hd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fd=Object.assign,pd={};function tn(t,e,r){this.props=t,this.context=e,this.refs=pd,this.updater=r||hd}tn.prototype.isReactComponent={};tn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gd(){}gd.prototype=tn.prototype;function sl(t,e,r){this.props=t,this.context=e,this.refs=pd,this.updater=r||hd}var il=sl.prototype=new gd;il.constructor=sl;fd(il,tn.prototype);il.isPureReactComponent=!0;var gu=Array.isArray,md=Object.prototype.hasOwnProperty,ol={current:null},yd={key:!0,ref:!0,__self:!0,__source:!0};function vd(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)md.call(e,n)&&!yd.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ss,type:t,key:i,ref:o,props:s,_owner:ol.current}}function Eg(t,e){return{$$typeof:ss,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function al(t){return typeof t=="object"&&t!==null&&t.$$typeof===ss}function bg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var mu=/\/+/g;function co(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bg(""+t.key):e.toString(36)}function Ms(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ss:case fg:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+co(o,0):n,gu(s)?(r="",t!=null&&(r=t.replace(mu,"$&/")+"/"),Ms(s,e,r,"",function(u){return u})):s!=null&&(al(s)&&(s=Eg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",gu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+co(i,a);o+=Ms(i,e,r,l,s)}else if(l=xg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+co(i,a++),o+=Ms(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fs(t,e,r){if(t==null)return t;var n=[],s=0;return Ms(t,n,"","",function(i){return e.call(r,i,s++)}),n}function jg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _e={current:null},Bs={transition:null},Tg={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Bs,ReactCurrentOwner:ol};function wd(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:fs,forEach:function(t,e,r){fs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fs(t,function(){e++}),e},toArray:function(t){return fs(t,function(e){return e})||[]},only:function(t){if(!al(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=tn;L.Fragment=pg;L.Profiler=mg;L.PureComponent=sl;L.StrictMode=gg;L.Suspense=_g;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;L.act=wd;L.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=fd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ol.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)md.call(e,l)&&!yd.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ss,type:t.type,key:s,ref:i,props:n,_owner:o}};L.createContext=function(t){return t={$$typeof:vg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yg,_context:t},t.Consumer=t};L.createElement=vd;L.createFactory=function(t){var e=vd.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:wg,render:t}};L.isValidElement=al;L.lazy=function(t){return{$$typeof:Sg,_payload:{_status:-1,_result:t},_init:jg}};L.memo=function(t,e){return{$$typeof:kg,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=Bs.transition;Bs.transition={};try{t()}finally{Bs.transition=e}};L.unstable_act=wd;L.useCallback=function(t,e){return _e.current.useCallback(t,e)};L.useContext=function(t){return _e.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return _e.current.useDeferredValue(t)};L.useEffect=function(t,e){return _e.current.useEffect(t,e)};L.useId=function(){return _e.current.useId()};L.useImperativeHandle=function(t,e,r){return _e.current.useImperativeHandle(t,e,r)};L.useInsertionEffect=function(t,e){return _e.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return _e.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return _e.current.useMemo(t,e)};L.useReducer=function(t,e,r){return _e.current.useReducer(t,e,r)};L.useRef=function(t){return _e.current.useRef(t)};L.useState=function(t){return _e.current.useState(t)};L.useSyncExternalStore=function(t,e,r){return _e.current.useSyncExternalStore(t,e,r)};L.useTransition=function(){return _e.current.useTransition()};L.version="18.3.1";dd.exports=L;var x=dd.exports;const _d=nl(x),Cg=ud({__proto__:null,default:_d},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=x,Pg=Symbol.for("react.element"),Rg=Symbol.for("react.fragment"),Ng=Object.prototype.hasOwnProperty,Ag=Og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ig={key:!0,ref:!0,__self:!0,__source:!0};function kd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ng.call(e,n)&&!Ig.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Pg,type:t,key:i,ref:o,props:s,_owner:Ag.current}}Li.Fragment=Rg;Li.jsx=kd;Li.jsxs=kd;cd.exports=Li;var v=cd.exports,Sd={exports:{}},Ie={},xd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var I=P.length;P.push(A);e:for(;0<I;){var Q=I-1>>>1,se=P[Q];if(0<s(se,A))P[Q]=A,P[I]=se,I=Q;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var A=P[0],I=P.pop();if(I!==A){P[0]=I;e:for(var Q=0,se=P.length,ds=se>>>1;Q<ds;){var qt=2*(Q+1)-1,uo=P[qt],Ht=qt+1,hs=P[Ht];if(0>s(uo,I))Ht<se&&0>s(hs,uo)?(P[Q]=hs,P[Ht]=I,Q=Ht):(P[Q]=uo,P[qt]=I,Q=qt);else if(Ht<se&&0>s(hs,I))P[Q]=hs,P[Ht]=I,Q=Ht;else break e}}return A}function s(P,A){var I=P.sortIndex-A.sortIndex;return I!==0?I:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,g=!1,m=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(P){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=P)n(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=r(u)}}function _(P){if(w=!1,f(P),!m)if(r(l)!==null)m=!0,ao(S);else{var A=r(u);A!==null&&lo(_,A.startTime-P)}}function S(P,A){m=!1,w&&(w=!1,y(T),T=-1),g=!0;var I=h;try{for(f(A),d=r(l);d!==null&&(!(d.expirationTime>A)||P&&!Ve());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var se=Q(d.expirationTime<=A);A=t.unstable_now(),typeof se=="function"?d.callback=se:d===r(l)&&n(l),f(A)}else n(l);d=r(l)}if(d!==null)var ds=!0;else{var qt=r(u);qt!==null&&lo(_,qt.startTime-A),ds=!1}return ds}finally{d=null,h=I,g=!1}}var E=!1,b=null,T=-1,U=5,$=-1;function Ve(){return!(t.unstable_now()-$<U)}function cn(){if(b!==null){var P=t.unstable_now();$=P;var A=!0;try{A=b(!0,P)}finally{A?dn():(E=!1,b=null)}}else E=!1}var dn;if(typeof p=="function")dn=function(){p(cn)};else if(typeof MessageChannel<"u"){var fu=new MessageChannel,hg=fu.port2;fu.port1.onmessage=cn,dn=function(){hg.postMessage(null)}}else dn=function(){k(cn,0)};function ao(P){b=P,E||(E=!0,dn())}function lo(P,A){T=k(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,ao(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var I=h;h=A;try{return P()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=h;h=P;try{return A()}finally{h=I}},t.unstable_scheduleCallback=function(P,A,I){var Q=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Q+I:Q):I=Q,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=I+se,P={id:c++,callback:A,priorityLevel:P,startTime:I,expirationTime:se,sortIndex:-1},I>Q?(P.sortIndex=I,e(u,P),r(l)===null&&P===r(u)&&(w?(y(T),T=-1):w=!0,lo(_,I-Q))):(P.sortIndex=se,e(l,P),m||g||(m=!0,ao(S))),P},t.unstable_shouldYield=Ve,t.unstable_wrapCallback=function(P){var A=h;return function(){var I=h;h=A;try{return P.apply(this,arguments)}finally{h=I}}}})(Ed);xd.exports=Ed;var $g=xd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=x,Ae=$g;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bd=new Set,Ln={};function pr(t,e){qr(t,e),qr(t+"Capture",e)}function qr(t,e){for(Ln[t]=e,t=0;t<e.length;t++)bd.add(e[t])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=Object.prototype.hasOwnProperty,Ug=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yu={},vu={};function Dg(t){return qo.call(vu,t)?!0:qo.call(yu,t)?!1:Ug.test(t)?vu[t]=!0:(yu[t]=!0,!1)}function Mg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bg(t,e,r,n){if(e===null||typeof e>"u"||Mg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var ll=/[\-:]([a-z])/g;function ul(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ll,ul);de[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ll,ul);de[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ll,ul);de[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function cl(t,e,r,n){var s=de.hasOwnProperty(e)?de[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bg(e,r,s,n)&&(r=null),n||s===null?Dg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gt=Lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),br=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),dl=Symbol.for("react.strict_mode"),Ho=Symbol.for("react.profiler"),jd=Symbol.for("react.provider"),Td=Symbol.for("react.context"),hl=Symbol.for("react.forward_ref"),Ko=Symbol.for("react.suspense"),Go=Symbol.for("react.suspense_list"),fl=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),Cd=Symbol.for("react.offscreen"),wu=Symbol.iterator;function hn(t){return t===null||typeof t!="object"?null:(t=wu&&t[wu]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,ho;function _n(t){if(ho===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ho=e&&e[1]||""}return`
`+ho+t}var fo=!1;function po(t,e){if(!t||fo)return"";fo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{fo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_n(t):""}function zg(t){switch(t.tag){case 5:return _n(t.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return t=po(t.type,!1),t;case 11:return t=po(t.type.render,!1),t;case 1:return t=po(t.type,!0),t;default:return""}}function Jo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jr:return"Fragment";case br:return"Portal";case Ho:return"Profiler";case dl:return"StrictMode";case Ko:return"Suspense";case Go:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Td:return(t.displayName||"Context")+".Consumer";case jd:return(t._context.displayName||"Context")+".Provider";case hl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fl:return e=t.displayName||null,e!==null?e:Jo(t.type)||"Memo";case wt:e=t._payload,t=t._init;try{return Jo(t(e))}catch{}}return null}function Fg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jo(e);case 8:return e===dl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Od(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vg(t){var e=Od(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gs(t){t._valueTracker||(t._valueTracker=Vg(t))}function Pd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Od(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qo(t,e){var r=e.checked;return G({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function _u(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Dt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rd(t,e){e=e.checked,e!=null&&cl(t,"checked",e,!1)}function Yo(t,e){Rd(t,e);var r=Dt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Xo(t,e.type,Dt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ku(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Xo(t,e,r){(e!=="number"||ti(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var kn=Array.isArray;function Ur(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Dt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return G({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Su(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(kn(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Dt(r)}}function Nd(t,e){var r=Dt(e.value),n=Dt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function xu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ad(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ad(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ms,Id=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ms.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Un(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wg=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(t){Wg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tn[e]=Tn[t]})});function $d(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Tn.hasOwnProperty(t)&&Tn[t]?(""+e).trim():e+"px"}function Ld(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$d(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var qg=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(t,e){if(e){if(qg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function ra(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var na=null;function pl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sa=null,Dr=null,Mr=null;function Eu(t){if(t=as(t)){if(typeof sa!="function")throw Error(j(280));var e=t.stateNode;e&&(e=zi(e),sa(t.stateNode,t.type,e))}}function Ud(t){Dr?Mr?Mr.push(t):Mr=[t]:Dr=t}function Dd(){if(Dr){var t=Dr,e=Mr;if(Mr=Dr=null,Eu(t),e)for(t=0;t<e.length;t++)Eu(e[t])}}function Md(t,e){return t(e)}function Bd(){}var go=!1;function zd(t,e,r){if(go)return t(e,r);go=!0;try{return Md(t,e,r)}finally{go=!1,(Dr!==null||Mr!==null)&&(Bd(),Dd())}}function Dn(t,e){var r=t.stateNode;if(r===null)return null;var n=zi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var ia=!1;if(dt)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){ia=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{ia=!1}function Hg(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Cn=!1,ri=null,ni=!1,oa=null,Kg={onError:function(t){Cn=!0,ri=t}};function Gg(t,e,r,n,s,i,o,a,l){Cn=!1,ri=null,Hg.apply(Kg,arguments)}function Jg(t,e,r,n,s,i,o,a,l){if(Gg.apply(this,arguments),Cn){if(Cn){var u=ri;Cn=!1,ri=null}else throw Error(j(198));ni||(ni=!0,oa=u)}}function gr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Fd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bu(t){if(gr(t)!==t)throw Error(j(188))}function Qg(t){var e=t.alternate;if(!e){if(e=gr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bu(s),t;if(i===n)return bu(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function Vd(t){return t=Qg(t),t!==null?Wd(t):null}function Wd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wd(t);if(e!==null)return e;t=t.sibling}return null}var qd=Ae.unstable_scheduleCallback,ju=Ae.unstable_cancelCallback,Yg=Ae.unstable_shouldYield,Xg=Ae.unstable_requestPaint,Y=Ae.unstable_now,Zg=Ae.unstable_getCurrentPriorityLevel,gl=Ae.unstable_ImmediatePriority,Hd=Ae.unstable_UserBlockingPriority,si=Ae.unstable_NormalPriority,em=Ae.unstable_LowPriority,Kd=Ae.unstable_IdlePriority,Ui=null,st=null;function tm(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ui,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:sm,rm=Math.log,nm=Math.LN2;function sm(t){return t>>>=0,t===0?32:31-(rm(t)/nm|0)|0}var ys=64,vs=4194304;function Sn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ii(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Sn(a):(i&=o,i!==0&&(n=Sn(i)))}else o=r&~s,o!==0?n=Sn(o):i!==0&&(n=Sn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ye(e),s=1<<r,n|=t[r],e&=~s;return n}function im(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function om(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ye(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=im(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function aa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gd(){var t=ys;return ys<<=1,!(ys&4194240)&&(ys=64),t}function mo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function is(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=r}function am(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ye(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ml(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ye(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var M=0;function Jd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qd,yl,Yd,Xd,Zd,la=!1,ws=[],Ct=null,Ot=null,Pt=null,Mn=new Map,Bn=new Map,kt=[],lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(t,e){switch(t){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Mn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(e.pointerId)}}function pn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=as(e),e!==null&&yl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function um(t,e,r,n,s){switch(e){case"focusin":return Ct=pn(Ct,t,e,r,n,s),!0;case"dragenter":return Ot=pn(Ot,t,e,r,n,s),!0;case"mouseover":return Pt=pn(Pt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Mn.set(i,pn(Mn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Bn.set(i,pn(Bn.get(i)||null,t,e,r,n,s)),!0}return!1}function eh(t){var e=nr(t.target);if(e!==null){var r=gr(e);if(r!==null){if(e=r.tag,e===13){if(e=Fd(r),e!==null){t.blockedOn=e,Zd(t.priority,function(){Yd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ua(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);na=n,r.target.dispatchEvent(n),na=null}else return e=as(r),e!==null&&yl(e),t.blockedOn=r,!1;e.shift()}return!0}function Cu(t,e,r){zs(t)&&r.delete(e)}function cm(){la=!1,Ct!==null&&zs(Ct)&&(Ct=null),Ot!==null&&zs(Ot)&&(Ot=null),Pt!==null&&zs(Pt)&&(Pt=null),Mn.forEach(Cu),Bn.forEach(Cu)}function gn(t,e){t.blockedOn===e&&(t.blockedOn=null,la||(la=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,cm)))}function zn(t){function e(s){return gn(s,t)}if(0<ws.length){gn(ws[0],t);for(var r=1;r<ws.length;r++){var n=ws[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ct!==null&&gn(Ct,t),Ot!==null&&gn(Ot,t),Pt!==null&&gn(Pt,t),Mn.forEach(e),Bn.forEach(e),r=0;r<kt.length;r++)n=kt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<kt.length&&(r=kt[0],r.blockedOn===null);)eh(r),r.blockedOn===null&&kt.shift()}var Br=gt.ReactCurrentBatchConfig,oi=!0;function dm(t,e,r,n){var s=M,i=Br.transition;Br.transition=null;try{M=1,vl(t,e,r,n)}finally{M=s,Br.transition=i}}function hm(t,e,r,n){var s=M,i=Br.transition;Br.transition=null;try{M=4,vl(t,e,r,n)}finally{M=s,Br.transition=i}}function vl(t,e,r,n){if(oi){var s=ua(t,e,r,n);if(s===null)jo(t,e,n,ai,r),Tu(t,n);else if(um(s,t,e,r,n))n.stopPropagation();else if(Tu(t,n),e&4&&-1<lm.indexOf(t)){for(;s!==null;){var i=as(s);if(i!==null&&Qd(i),i=ua(t,e,r,n),i===null&&jo(t,e,n,ai,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else jo(t,e,n,null,r)}}var ai=null;function ua(t,e,r,n){if(ai=null,t=pl(n),t=nr(t),t!==null)if(e=gr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Fd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ai=t,null}function th(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zg()){case gl:return 1;case Hd:return 4;case si:case em:return 16;case Kd:return 536870912;default:return 16}default:return 16}}var bt=null,wl=null,Fs=null;function rh(){if(Fs)return Fs;var t,e=wl,r=e.length,n,s="value"in bt?bt.value:bt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Fs=s.slice(t,1<n?1-n:void 0)}function Vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function Ou(){return!1}function $e(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_s:Ou,this.isPropagationStopped=Ou,this}return G(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),e}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=$e(rn),os=G({},rn,{view:0,detail:0}),fm=$e(os),yo,vo,mn,Di=G({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mn&&(mn&&t.type==="mousemove"?(yo=t.screenX-mn.screenX,vo=t.screenY-mn.screenY):vo=yo=0,mn=t),yo)},movementY:function(t){return"movementY"in t?t.movementY:vo}}),Pu=$e(Di),pm=G({},Di,{dataTransfer:0}),gm=$e(pm),mm=G({},os,{relatedTarget:0}),wo=$e(mm),ym=G({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),vm=$e(ym),wm=G({},rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_m=$e(wm),km=G({},rn,{data:0}),Ru=$e(km),Sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Em[t])?!!e[t]:!1}function kl(){return bm}var jm=G({},os,{key:function(t){if(t.key){var e=Sm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kl,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tm=$e(jm),Cm=G({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nu=$e(Cm),Om=G({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kl}),Pm=$e(Om),Rm=G({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nm=$e(Rm),Am=G({},Di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Im=$e(Am),$m=[9,13,27,32],Sl=dt&&"CompositionEvent"in window,On=null;dt&&"documentMode"in document&&(On=document.documentMode);var Lm=dt&&"TextEvent"in window&&!On,nh=dt&&(!Sl||On&&8<On&&11>=On),Au=" ",Iu=!1;function sh(t,e){switch(t){case"keyup":return $m.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function Um(t,e){switch(t){case"compositionend":return ih(e);case"keypress":return e.which!==32?null:(Iu=!0,Au);case"textInput":return t=e.data,t===Au&&Iu?null:t;default:return null}}function Dm(t,e){if(Tr)return t==="compositionend"||!Sl&&sh(t,e)?(t=rh(),Fs=wl=bt=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nh&&e.locale!=="ko"?null:e.data;default:return null}}var Mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mm[t.type]:e==="textarea"}function oh(t,e,r,n){Ud(n),e=li(e,"onChange"),0<e.length&&(r=new _l("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pn=null,Fn=null;function Bm(t){yh(t,0)}function Mi(t){var e=Pr(t);if(Pd(e))return t}function zm(t,e){if(t==="change")return e}var ah=!1;if(dt){var _o;if(dt){var ko="oninput"in document;if(!ko){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),ko=typeof Lu.oninput=="function"}_o=ko}else _o=!1;ah=_o&&(!document.documentMode||9<document.documentMode)}function Uu(){Pn&&(Pn.detachEvent("onpropertychange",lh),Fn=Pn=null)}function lh(t){if(t.propertyName==="value"&&Mi(Fn)){var e=[];oh(e,Fn,t,pl(t)),zd(Bm,e)}}function Fm(t,e,r){t==="focusin"?(Uu(),Pn=e,Fn=r,Pn.attachEvent("onpropertychange",lh)):t==="focusout"&&Uu()}function Vm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mi(Fn)}function Wm(t,e){if(t==="click")return Mi(e)}function qm(t,e){if(t==="input"||t==="change")return Mi(e)}function Hm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ze=typeof Object.is=="function"?Object.is:Hm;function Vn(t,e){if(Ze(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!qo.call(e,s)||!Ze(t[s],e[s]))return!1}return!0}function Du(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mu(t,e){var r=Du(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Du(r)}}function uh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ch(){for(var t=window,e=ti();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ti(t.document)}return e}function xl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Km(t){var e=ch(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&uh(r.ownerDocument.documentElement,r)){if(n!==null&&xl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Mu(r,i);var o=Mu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gm=dt&&"documentMode"in document&&11>=document.documentMode,Cr=null,ca=null,Rn=null,da=!1;function Bu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;da||Cr==null||Cr!==ti(n)||(n=Cr,"selectionStart"in n&&xl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rn&&Vn(Rn,n)||(Rn=n,n=li(ca,"onSelect"),0<n.length&&(e=new _l("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Cr)))}function ks(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Or={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},So={},dh={};dt&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Bi(t){if(So[t])return So[t];if(!Or[t])return t;var e=Or[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dh)return So[t]=e[r];return t}var hh=Bi("animationend"),fh=Bi("animationiteration"),ph=Bi("animationstart"),gh=Bi("transitionend"),mh=new Map,zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(t,e){mh.set(t,e),pr(e,[t])}for(var xo=0;xo<zu.length;xo++){var Eo=zu[xo],Jm=Eo.toLowerCase(),Qm=Eo[0].toUpperCase()+Eo.slice(1);Bt(Jm,"on"+Qm)}Bt(hh,"onAnimationEnd");Bt(fh,"onAnimationIteration");Bt(ph,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(gh,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ym=new Set("cancel close invalid load scroll toggle".split(" ").concat(xn));function Fu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Jg(n,e,void 0,t),t.currentTarget=null}function yh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Fu(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Fu(s,a,u),i=l}}}if(ni)throw t=oa,ni=!1,oa=null,t}function F(t,e){var r=e[ma];r===void 0&&(r=e[ma]=new Set);var n=t+"__bubble";r.has(n)||(vh(e,t,2,!1),r.add(n))}function bo(t,e,r){var n=0;e&&(n|=4),vh(r,t,n,e)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Wn(t){if(!t[Ss]){t[Ss]=!0,bd.forEach(function(r){r!=="selectionchange"&&(Ym.has(r)||bo(r,!1,t),bo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ss]||(e[Ss]=!0,bo("selectionchange",!1,e))}}function vh(t,e,r,n){switch(th(e)){case 1:var s=dm;break;case 4:s=hm;break;default:s=vl}r=s.bind(null,e,r,t),s=void 0,!ia||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function jo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}zd(function(){var u=i,c=pl(r),d=[];e:{var h=mh.get(t);if(h!==void 0){var g=_l,m=t;switch(t){case"keypress":if(Vs(r)===0)break e;case"keydown":case"keyup":g=Tm;break;case"focusin":m="focus",g=wo;break;case"focusout":m="blur",g=wo;break;case"beforeblur":case"afterblur":g=wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Pm;break;case hh:case fh:case ph:g=vm;break;case gh:g=Nm;break;case"scroll":g=fm;break;case"wheel":g=Im;break;case"copy":case"cut":case"paste":g=_m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Nu}var w=(e&4)!==0,k=!w&&t==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,f;p!==null;){f=p;var _=f.stateNode;if(f.tag===5&&_!==null&&(f=_,y!==null&&(_=Dn(p,y),_!=null&&w.push(qn(p,_,f)))),k)break;p=p.return}0<w.length&&(h=new g(h,m,null,r,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==na&&(m=r.relatedTarget||r.fromElement)&&(nr(m)||m[ht]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=u,m=m?nr(m):null,m!==null&&(k=gr(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(w=Pu,_="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Nu,_="onPointerLeave",y="onPointerEnter",p="pointer"),k=g==null?h:Pr(g),f=m==null?h:Pr(m),h=new w(_,p+"leave",g,r,c),h.target=k,h.relatedTarget=f,_=null,nr(c)===u&&(w=new w(y,p+"enter",m,r,c),w.target=f,w.relatedTarget=k,_=w),k=_,g&&m)t:{for(w=g,y=m,p=0,f=w;f;f=vr(f))p++;for(f=0,_=y;_;_=vr(_))f++;for(;0<p-f;)w=vr(w),p--;for(;0<f-p;)y=vr(y),f--;for(;p--;){if(w===y||y!==null&&w===y.alternate)break t;w=vr(w),y=vr(y)}w=null}else w=null;g!==null&&Vu(d,h,g,w,!1),m!==null&&k!==null&&Vu(d,k,m,w,!0)}}e:{if(h=u?Pr(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=zm;else if($u(h))if(ah)S=qm;else{S=Vm;var E=Fm}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Wm);if(S&&(S=S(t,u))){oh(d,S,r,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Xo(h,"number",h.value)}switch(E=u?Pr(u):window,t){case"focusin":($u(E)||E.contentEditable==="true")&&(Cr=E,ca=u,Rn=null);break;case"focusout":Rn=ca=Cr=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,Bu(d,r,c);break;case"selectionchange":if(Gm)break;case"keydown":case"keyup":Bu(d,r,c)}var b;if(Sl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Tr?sh(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(nh&&r.locale!=="ko"&&(Tr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Tr&&(b=rh()):(bt=c,wl="value"in bt?bt.value:bt.textContent,Tr=!0)),E=li(u,T),0<E.length&&(T=new Ru(T,t,null,r,c),d.push({event:T,listeners:E}),b?T.data=b:(b=ih(r),b!==null&&(T.data=b)))),(b=Lm?Um(t,r):Dm(t,r))&&(u=li(u,"onBeforeInput"),0<u.length&&(c=new Ru("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=b))}yh(d,e)})}function qn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function li(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dn(t,r),i!=null&&n.unshift(qn(t,i,s)),i=Dn(t,e),i!=null&&n.push(qn(t,i,s))),t=t.return}return n}function vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Dn(r,i),l!=null&&o.unshift(qn(r,l,a))):s||(l=Dn(r,i),l!=null&&o.push(qn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Xm=/\r\n?/g,Zm=/\u0000|\uFFFD/g;function Wu(t){return(typeof t=="string"?t:""+t).replace(Xm,`
`).replace(Zm,"")}function xs(t,e,r){if(e=Wu(e),Wu(t)!==e&&r)throw Error(j(425))}function ui(){}var ha=null,fa=null;function pa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ga=typeof setTimeout=="function"?setTimeout:void 0,ey=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,ty=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(t){return qu.resolve(null).then(t).catch(ry)}:ga;function ry(t){setTimeout(function(){throw t})}function To(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),zn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);zn(e)}function Rt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nn=Math.random().toString(36).slice(2),nt="__reactFiber$"+nn,Hn="__reactProps$"+nn,ht="__reactContainer$"+nn,ma="__reactEvents$"+nn,ny="__reactListeners$"+nn,sy="__reactHandles$"+nn;function nr(t){var e=t[nt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ht]||r[nt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Hu(t);t!==null;){if(r=t[nt])return r;t=Hu(t)}return e}t=r,r=t.parentNode}return null}function as(t){return t=t[nt]||t[ht],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function zi(t){return t[Hn]||null}var ya=[],Rr=-1;function zt(t){return{current:t}}function V(t){0>Rr||(t.current=ya[Rr],ya[Rr]=null,Rr--)}function z(t,e){Rr++,ya[Rr]=t.current,t.current=e}var Mt={},me=zt(Mt),je=zt(!1),ur=Mt;function Hr(t,e){var r=t.type.contextTypes;if(!r)return Mt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Te(t){return t=t.childContextTypes,t!=null}function ci(){V(je),V(me)}function Ku(t,e,r){if(me.current!==Mt)throw Error(j(168));z(me,e),z(je,r)}function wh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,Fg(t)||"Unknown",s));return G({},r,n)}function di(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mt,ur=me.current,z(me,t),z(je,je.current),!0}function Gu(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=wh(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,V(je),V(me),z(me,t)):V(je),z(je,r)}var at=null,Fi=!1,Co=!1;function _h(t){at===null?at=[t]:at.push(t)}function iy(t){Fi=!0,_h(t)}function Ft(){if(!Co&&at!==null){Co=!0;var t=0,e=M;try{var r=at;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}at=null,Fi=!1}catch(s){throw at!==null&&(at=at.slice(t+1)),qd(gl,Ft),s}finally{M=e,Co=!1}}return null}var Nr=[],Ar=0,hi=null,fi=0,Ue=[],De=0,cr=null,lt=1,ut="";function Jt(t,e){Nr[Ar++]=fi,Nr[Ar++]=hi,hi=t,fi=e}function kh(t,e,r){Ue[De++]=lt,Ue[De++]=ut,Ue[De++]=cr,cr=t;var n=lt;t=ut;var s=32-Ye(n)-1;n&=~(1<<s),r+=1;var i=32-Ye(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,lt=1<<32-Ye(e)+s|r<<s|n,ut=i+t}else lt=1<<i|r<<s|n,ut=t}function El(t){t.return!==null&&(Jt(t,1),kh(t,1,0))}function bl(t){for(;t===hi;)hi=Nr[--Ar],Nr[Ar]=null,fi=Nr[--Ar],Nr[Ar]=null;for(;t===cr;)cr=Ue[--De],Ue[De]=null,ut=Ue[--De],Ue[De]=null,lt=Ue[--De],Ue[De]=null}var Ne=null,Re=null,q=!1,Qe=null;function Sh(t,e){var r=Me(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ju(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ne=t,Re=Rt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ne=t,Re=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cr!==null?{id:lt,overflow:ut}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Me(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ne=t,Re=null,!0):!1;default:return!1}}function va(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wa(t){if(q){var e=Re;if(e){var r=e;if(!Ju(t,e)){if(va(t))throw Error(j(418));e=Rt(r.nextSibling);var n=Ne;e&&Ju(t,e)?Sh(n,r):(t.flags=t.flags&-4097|2,q=!1,Ne=t)}}else{if(va(t))throw Error(j(418));t.flags=t.flags&-4097|2,q=!1,Ne=t}}}function Qu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ne=t}function Es(t){if(t!==Ne)return!1;if(!q)return Qu(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pa(t.type,t.memoizedProps)),e&&(e=Re)){if(va(t))throw xh(),Error(j(418));for(;e;)Sh(t,e),e=Rt(e.nextSibling)}if(Qu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Re=Rt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Re=null}}else Re=Ne?Rt(t.stateNode.nextSibling):null;return!0}function xh(){for(var t=Re;t;)t=Rt(t.nextSibling)}function Kr(){Re=Ne=null,q=!1}function jl(t){Qe===null?Qe=[t]:Qe.push(t)}var oy=gt.ReactCurrentBatchConfig;function yn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function bs(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yu(t){var e=t._init;return e(t._payload)}function Eh(t){function e(y,p){if(t){var f=y.deletions;f===null?(y.deletions=[p],y.flags|=16):f.push(p)}}function r(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=$t(y,p),y.index=0,y.sibling=null,y}function i(y,p,f){return y.index=f,t?(f=y.alternate,f!==null?(f=f.index,f<p?(y.flags|=2,p):f):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,f,_){return p===null||p.tag!==6?(p=$o(f,y.mode,_),p.return=y,p):(p=s(p,f),p.return=y,p)}function l(y,p,f,_){var S=f.type;return S===jr?c(y,p,f.props.children,_,f.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wt&&Yu(S)===p.type)?(_=s(p,f.props),_.ref=yn(y,p,f),_.return=y,_):(_=Qs(f.type,f.key,f.props,null,y.mode,_),_.ref=yn(y,p,f),_.return=y,_)}function u(y,p,f,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=Lo(f,y.mode,_),p.return=y,p):(p=s(p,f.children||[]),p.return=y,p)}function c(y,p,f,_,S){return p===null||p.tag!==7?(p=lr(f,y.mode,_,S),p.return=y,p):(p=s(p,f),p.return=y,p)}function d(y,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=$o(""+p,y.mode,f),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ps:return f=Qs(p.type,p.key,p.props,null,y.mode,f),f.ref=yn(y,null,p),f.return=y,f;case br:return p=Lo(p,y.mode,f),p.return=y,p;case wt:var _=p._init;return d(y,_(p._payload),f)}if(kn(p)||hn(p))return p=lr(p,y.mode,f,null),p.return=y,p;bs(y,p)}return null}function h(y,p,f,_){var S=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:a(y,p,""+f,_);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ps:return f.key===S?l(y,p,f,_):null;case br:return f.key===S?u(y,p,f,_):null;case wt:return S=f._init,h(y,p,S(f._payload),_)}if(kn(f)||hn(f))return S!==null?null:c(y,p,f,_,null);bs(y,f)}return null}function g(y,p,f,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(f)||null,a(p,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ps:return y=y.get(_.key===null?f:_.key)||null,l(p,y,_,S);case br:return y=y.get(_.key===null?f:_.key)||null,u(p,y,_,S);case wt:var E=_._init;return g(y,p,f,E(_._payload),S)}if(kn(_)||hn(_))return y=y.get(f)||null,c(p,y,_,S,null);bs(p,_)}return null}function m(y,p,f,_){for(var S=null,E=null,b=p,T=p=0,U=null;b!==null&&T<f.length;T++){b.index>T?(U=b,b=null):U=b.sibling;var $=h(y,b,f[T],_);if($===null){b===null&&(b=U);break}t&&b&&$.alternate===null&&e(y,b),p=i($,p,T),E===null?S=$:E.sibling=$,E=$,b=U}if(T===f.length)return r(y,b),q&&Jt(y,T),S;if(b===null){for(;T<f.length;T++)b=d(y,f[T],_),b!==null&&(p=i(b,p,T),E===null?S=b:E.sibling=b,E=b);return q&&Jt(y,T),S}for(b=n(y,b);T<f.length;T++)U=g(b,y,T,f[T],_),U!==null&&(t&&U.alternate!==null&&b.delete(U.key===null?T:U.key),p=i(U,p,T),E===null?S=U:E.sibling=U,E=U);return t&&b.forEach(function(Ve){return e(y,Ve)}),q&&Jt(y,T),S}function w(y,p,f,_){var S=hn(f);if(typeof S!="function")throw Error(j(150));if(f=S.call(f),f==null)throw Error(j(151));for(var E=S=null,b=p,T=p=0,U=null,$=f.next();b!==null&&!$.done;T++,$=f.next()){b.index>T?(U=b,b=null):U=b.sibling;var Ve=h(y,b,$.value,_);if(Ve===null){b===null&&(b=U);break}t&&b&&Ve.alternate===null&&e(y,b),p=i(Ve,p,T),E===null?S=Ve:E.sibling=Ve,E=Ve,b=U}if($.done)return r(y,b),q&&Jt(y,T),S;if(b===null){for(;!$.done;T++,$=f.next())$=d(y,$.value,_),$!==null&&(p=i($,p,T),E===null?S=$:E.sibling=$,E=$);return q&&Jt(y,T),S}for(b=n(y,b);!$.done;T++,$=f.next())$=g(b,y,T,$.value,_),$!==null&&(t&&$.alternate!==null&&b.delete($.key===null?T:$.key),p=i($,p,T),E===null?S=$:E.sibling=$,E=$);return t&&b.forEach(function(cn){return e(y,cn)}),q&&Jt(y,T),S}function k(y,p,f,_){if(typeof f=="object"&&f!==null&&f.type===jr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ps:e:{for(var S=f.key,E=p;E!==null;){if(E.key===S){if(S=f.type,S===jr){if(E.tag===7){r(y,E.sibling),p=s(E,f.props.children),p.return=y,y=p;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wt&&Yu(S)===E.type){r(y,E.sibling),p=s(E,f.props),p.ref=yn(y,E,f),p.return=y,y=p;break e}r(y,E);break}else e(y,E);E=E.sibling}f.type===jr?(p=lr(f.props.children,y.mode,_,f.key),p.return=y,y=p):(_=Qs(f.type,f.key,f.props,null,y.mode,_),_.ref=yn(y,p,f),_.return=y,y=_)}return o(y);case br:e:{for(E=f.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){r(y,p.sibling),p=s(p,f.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else e(y,p);p=p.sibling}p=Lo(f,y.mode,_),p.return=y,y=p}return o(y);case wt:return E=f._init,k(y,p,E(f._payload),_)}if(kn(f))return m(y,p,f,_);if(hn(f))return w(y,p,f,_);bs(y,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(r(y,p.sibling),p=s(p,f),p.return=y,y=p):(r(y,p),p=$o(f,y.mode,_),p.return=y,y=p),o(y)):r(y,p)}return k}var Gr=Eh(!0),bh=Eh(!1),pi=zt(null),gi=null,Ir=null,Tl=null;function Cl(){Tl=Ir=gi=null}function Ol(t){var e=pi.current;V(pi),t._currentValue=e}function _a(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function zr(t,e){gi=t,Tl=Ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function ze(t){var e=t._currentValue;if(Tl!==t)if(t={context:t,memoizedValue:e,next:null},Ir===null){if(gi===null)throw Error(j(308));Ir=t,gi.dependencies={lanes:0,firstContext:t}}else Ir=Ir.next=t;return e}var sr=null;function Pl(t){sr===null?sr=[t]:sr.push(t)}function jh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Pl(e)):(r.next=s.next,s.next=r),e.interleaved=r,ft(t,n)}function ft(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _t=!1;function Rl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Th(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ct(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ft(t,r)}return s=n.interleaved,s===null?(e.next=e,Pl(n)):(e.next=s.next,s.next=e),n.interleaved=e,ft(t,r)}function Ws(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ml(t,r)}}function Xu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function mi(t,e,r,n){var s=t.updateQueue;_t=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(h=e,g=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(g,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,h=typeof m=="function"?m.call(g,d,h):m,h==null)break e;d=G({},d,h);break e;case 2:_t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=d}}function Zu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var ls={},it=zt(ls),Kn=zt(ls),Gn=zt(ls);function ir(t){if(t===ls)throw Error(j(174));return t}function Nl(t,e){switch(z(Gn,e),z(Kn,t),z(it,ls),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ea(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ea(e,t)}V(it),z(it,e)}function Jr(){V(it),V(Kn),V(Gn)}function Ch(t){ir(Gn.current);var e=ir(it.current),r=ea(e,t.type);e!==r&&(z(Kn,t),z(it,r))}function Al(t){Kn.current===t&&(V(it),V(Kn))}var H=zt(0);function yi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oo=[];function Il(){for(var t=0;t<Oo.length;t++)Oo[t]._workInProgressVersionPrimary=null;Oo.length=0}var qs=gt.ReactCurrentDispatcher,Po=gt.ReactCurrentBatchConfig,dr=0,K=null,re=null,ie=null,vi=!1,Nn=!1,Jn=0,ay=0;function he(){throw Error(j(321))}function $l(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ze(t[r],e[r]))return!1;return!0}function Ll(t,e,r,n,s,i){if(dr=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qs.current=t===null||t.memoizedState===null?dy:hy,t=r(n,s),Nn){i=0;do{if(Nn=!1,Jn=0,25<=i)throw Error(j(301));i+=1,ie=re=null,e.updateQueue=null,qs.current=fy,t=r(n,s)}while(Nn)}if(qs.current=wi,e=re!==null&&re.next!==null,dr=0,ie=re=K=null,vi=!1,e)throw Error(j(300));return t}function Ul(){var t=Jn!==0;return Jn=0,t}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?K.memoizedState=ie=t:ie=ie.next=t,ie}function Fe(){if(re===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=ie===null?K.memoizedState:ie.next;if(e!==null)ie=e,re=t;else{if(t===null)throw Error(j(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ie===null?K.memoizedState=ie=t:ie=ie.next=t}return ie}function Qn(t,e){return typeof e=="function"?e(t):e}function Ro(t){var e=Fe(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=re,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((dr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,K.lanes|=c,hr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Ze(n,e.memoizedState)||(be=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function No(t){var e=Fe(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ze(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Oh(){}function Ph(t,e){var r=K,n=Fe(),s=e(),i=!Ze(n.memoizedState,s);if(i&&(n.memoizedState=s,be=!0),n=n.queue,Dl(Ah.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(r.flags|=2048,Yn(9,Nh.bind(null,r,n,s,e),void 0,null),oe===null)throw Error(j(349));dr&30||Rh(r,e,s)}return s}function Rh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Nh(t,e,r,n){e.value=r,e.getSnapshot=n,Ih(e)&&$h(t)}function Ah(t,e,r){return r(function(){Ih(e)&&$h(t)})}function Ih(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ze(t,r)}catch{return!0}}function $h(t){var e=ft(t,1);e!==null&&Xe(e,t,1,-1)}function ec(t){var e=tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},e.queue=t,t=t.dispatch=cy.bind(null,K,t),[e.memoizedState,t]}function Yn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Lh(){return Fe().memoizedState}function Hs(t,e,r,n){var s=tt();K.flags|=t,s.memoizedState=Yn(1|e,r,void 0,n===void 0?null:n)}function Vi(t,e,r,n){var s=Fe();n=n===void 0?null:n;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,n!==null&&$l(n,o.deps)){s.memoizedState=Yn(e,r,i,n);return}}K.flags|=t,s.memoizedState=Yn(1|e,r,i,n)}function tc(t,e){return Hs(8390656,8,t,e)}function Dl(t,e){return Vi(2048,8,t,e)}function Uh(t,e){return Vi(4,2,t,e)}function Dh(t,e){return Vi(4,4,t,e)}function Mh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bh(t,e,r){return r=r!=null?r.concat([t]):null,Vi(4,4,Mh.bind(null,e,t),r)}function Ml(){}function zh(t,e){var r=Fe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$l(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Fh(t,e){var r=Fe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$l(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Vh(t,e,r){return dr&21?(Ze(r,e)||(r=Gd(),K.lanes|=r,hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=r)}function ly(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=Po.transition;Po.transition={};try{t(!1),e()}finally{M=r,Po.transition=n}}function Wh(){return Fe().memoizedState}function uy(t,e,r){var n=It(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qh(t))Hh(e,r);else if(r=jh(t,e,r,n),r!==null){var s=we();Xe(r,t,n,s),Kh(r,e,n)}}function cy(t,e,r){var n=It(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qh(t))Hh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ze(a,o)){var l=e.interleaved;l===null?(s.next=s,Pl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=jh(t,e,s,n),r!==null&&(s=we(),Xe(r,t,n,s),Kh(r,e,n))}}function qh(t){var e=t.alternate;return t===K||e!==null&&e===K}function Hh(t,e){Nn=vi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Kh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ml(t,r)}}var wi={readContext:ze,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},dy={readContext:ze,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:ze,useEffect:tc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hs(4194308,4,Mh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hs(4,2,t,e)},useMemo:function(t,e){var r=tt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=tt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uy.bind(null,K,t),[n.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:ec,useDebugValue:Ml,useDeferredValue:function(t){return tt().memoizedState=t},useTransition:function(){var t=ec(!1),e=t[0];return t=ly.bind(null,t[1]),tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=K,s=tt();if(q){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),oe===null)throw Error(j(349));dr&30||Rh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,tc(Ah.bind(null,n,i,t),[t]),n.flags|=2048,Yn(9,Nh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=tt(),e=oe.identifierPrefix;if(q){var r=ut,n=lt;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ay++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hy={readContext:ze,useCallback:zh,useContext:ze,useEffect:Dl,useImperativeHandle:Bh,useInsertionEffect:Uh,useLayoutEffect:Dh,useMemo:Fh,useReducer:Ro,useRef:Lh,useState:function(){return Ro(Qn)},useDebugValue:Ml,useDeferredValue:function(t){var e=Fe();return Vh(e,re.memoizedState,t)},useTransition:function(){var t=Ro(Qn)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:Oh,useSyncExternalStore:Ph,useId:Wh,unstable_isNewReconciler:!1},fy={readContext:ze,useCallback:zh,useContext:ze,useEffect:Dl,useImperativeHandle:Bh,useInsertionEffect:Uh,useLayoutEffect:Dh,useMemo:Fh,useReducer:No,useRef:Lh,useState:function(){return No(Qn)},useDebugValue:Ml,useDeferredValue:function(t){var e=Fe();return re===null?e.memoizedState=t:Vh(e,re.memoizedState,t)},useTransition:function(){var t=No(Qn)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:Oh,useSyncExternalStore:Ph,useId:Wh,unstable_isNewReconciler:!1};function He(t,e){if(t&&t.defaultProps){e=G({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ka(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:G({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wi={isMounted:function(t){return(t=t._reactInternals)?gr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=we(),s=It(t),i=ct(n,s);i.payload=e,r!=null&&(i.callback=r),e=Nt(t,i,s),e!==null&&(Xe(e,t,s,n),Ws(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=we(),s=It(t),i=ct(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Nt(t,i,s),e!==null&&(Xe(e,t,s,n),Ws(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=we(),n=It(t),s=ct(r,n);s.tag=2,e!=null&&(s.callback=e),e=Nt(t,s,n),e!==null&&(Xe(e,t,n,r),Ws(e,t,n))}};function rc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vn(r,n)||!Vn(s,i):!0}function Gh(t,e,r){var n=!1,s=Mt,i=e.contextType;return typeof i=="object"&&i!==null?i=ze(i):(s=Te(e)?ur:me.current,n=e.contextTypes,i=(n=n!=null)?Hr(t,s):Mt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Wi.enqueueReplaceState(e,e.state,null)}function Sa(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Rl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ze(i):(i=Te(e)?ur:me.current,s.context=Hr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ka(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wi.enqueueReplaceState(s,s.state,null),mi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qr(t,e){try{var r="",n=e;do r+=zg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ao(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xa(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var py=typeof WeakMap=="function"?WeakMap:Map;function Jh(t,e,r){r=ct(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ki||(ki=!0,Aa=n),xa(t,e)},r}function Qh(t,e,r){r=ct(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){xa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xa(t,e),typeof n!="function"&&(At===null?At=new Set([this]):At.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function sc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new py;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Cy.bind(null,t,e,r),e.then(t,t))}function ic(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ct(-1,1),e.tag=2,Nt(r,e,1))),r.lanes|=1),t)}var gy=gt.ReactCurrentOwner,be=!1;function ve(t,e,r,n){e.child=t===null?bh(e,null,r,n):Gr(e,t.child,r,n)}function ac(t,e,r,n,s){r=r.render;var i=e.ref;return zr(e,s),n=Ll(t,e,r,n,i,s),r=Ul(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pt(t,e,s)):(q&&r&&El(e),e.flags|=1,ve(t,e,n,s),e.child)}function lc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Kl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Yh(t,e,i,n,s)):(t=Qs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vn,r(o,n)&&t.ref===e.ref)return pt(t,e,s)}return e.flags|=1,t=$t(i,n),t.ref=e.ref,t.return=e,e.child=t}function Yh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Vn(i,n)&&t.ref===e.ref)if(be=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,pt(t,e,s)}return Ea(t,e,r,n,s)}function Xh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(Lr,Oe),Oe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(Lr,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,z(Lr,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,z(Lr,Oe),Oe|=n;return ve(t,e,s,r),e.child}function Zh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ea(t,e,r,n,s){var i=Te(r)?ur:me.current;return i=Hr(e,i),zr(e,s),r=Ll(t,e,r,n,i,s),n=Ul(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pt(t,e,s)):(q&&n&&El(e),e.flags|=1,ve(t,e,r,s),e.child)}function uc(t,e,r,n,s){if(Te(r)){var i=!0;di(e)}else i=!1;if(zr(e,s),e.stateNode===null)Ks(t,e),Gh(e,r,n),Sa(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ze(u):(u=Te(r)?ur:me.current,u=Hr(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&nc(e,o,n,u),_t=!1;var h=e.memoizedState;o.state=h,mi(e,n,o,s),l=e.memoizedState,a!==n||h!==l||je.current||_t?(typeof c=="function"&&(ka(e,r,c,n),l=e.memoizedState),(a=_t||rc(e,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Th(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:He(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ze(l):(l=Te(r)?ur:me.current,l=Hr(e,l));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&nc(e,o,n,l),_t=!1,h=e.memoizedState,o.state=h,mi(e,n,o,s);var m=e.memoizedState;a!==d||h!==m||je.current||_t?(typeof g=="function"&&(ka(e,r,g,n),m=e.memoizedState),(u=_t||rc(e,r,u,n,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ba(t,e,r,n,i,s)}function ba(t,e,r,n,s,i){Zh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Gu(e,r,!1),pt(t,e,i);n=e.stateNode,gy.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Gr(e,t.child,null,i),e.child=Gr(e,null,a,i)):ve(t,e,a,i),e.memoizedState=n.state,s&&Gu(e,r,!0),e.child}function ef(t){var e=t.stateNode;e.pendingContext?Ku(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ku(t,e.context,!1),Nl(t,e.containerInfo)}function cc(t,e,r,n,s){return Kr(),jl(s),e.flags|=256,ve(t,e,r,n),e.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Ta(t){return{baseLanes:t,cachePool:null,transitions:null}}function tf(t,e,r){var n=e.pendingProps,s=H.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),z(H,s&1),t===null)return wa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ki(o,n,0,null),t=lr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ta(r),e.memoizedState=ja,t):Bl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return my(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=$t(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$t(a,i):(i=lr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ta(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ja,n}return i=t.child,t=i.sibling,n=$t(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Bl(t,e){return e=Ki({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function js(t,e,r,n){return n!==null&&jl(n),Gr(e,t.child,null,r),t=Bl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function my(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Ao(Error(j(422))),js(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ki({mode:"visible",children:n.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Gr(e,t.child,null,o),e.child.memoizedState=Ta(o),e.memoizedState=ja,i);if(!(e.mode&1))return js(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(j(419)),n=Ao(i,n,void 0),js(t,e,o,n)}if(a=(o&t.childLanes)!==0,be||a){if(n=oe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ft(t,s),Xe(n,t,s,-1))}return Hl(),n=Ao(Error(j(421))),js(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Oy.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Re=Rt(s.nextSibling),Ne=e,q=!0,Qe=null,t!==null&&(Ue[De++]=lt,Ue[De++]=ut,Ue[De++]=cr,lt=t.id,ut=t.overflow,cr=e),e=Bl(e,n.children),e.flags|=4096,e)}function dc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_a(t.return,e,r)}function Io(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function rf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ve(t,e,n.children,r),n=H.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dc(t,r,e);else if(t.tag===19)dc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(z(H,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&yi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Io(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Io(e,!0,r,null,i);break;case"together":Io(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=$t(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$t(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function yy(t,e,r){switch(e.tag){case 3:ef(e),Kr();break;case 5:Ch(e);break;case 1:Te(e.type)&&di(e);break;case 4:Nl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;z(pi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(z(H,H.current&1),e.flags|=128,null):r&e.child.childLanes?tf(t,e,r):(z(H,H.current&1),t=pt(t,e,r),t!==null?t.sibling:null);z(H,H.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return rf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(H,H.current),n)break;return null;case 22:case 23:return e.lanes=0,Xh(t,e,r)}return pt(t,e,r)}var nf,Ca,sf,of;nf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ca=function(){};sf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ir(it.current);var i=null;switch(r){case"input":s=Qo(t,s),n=Qo(t,n),i=[];break;case"select":s=G({},s,{value:void 0}),n=G({},n,{value:void 0}),i=[];break;case"textarea":s=Zo(t,s),n=Zo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ui)}ta(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ln.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&F("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};of=function(t,e,r,n){r!==n&&(e.flags|=4)};function vn(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vy(t,e,r){var n=e.pendingProps;switch(bl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return Te(e.type)&&ci(),fe(e),null;case 3:return n=e.stateNode,Jr(),V(je),V(me),Il(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Es(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(La(Qe),Qe=null))),Ca(t,e),fe(e),null;case 5:Al(e);var s=ir(Gn.current);if(r=e.type,t!==null&&e.stateNode!=null)sf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return fe(e),null}if(t=ir(it.current),Es(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[nt]=e,n[Hn]=i,t=(e.mode&1)!==0,r){case"dialog":F("cancel",n),F("close",n);break;case"iframe":case"object":case"embed":F("load",n);break;case"video":case"audio":for(s=0;s<xn.length;s++)F(xn[s],n);break;case"source":F("error",n);break;case"img":case"image":case"link":F("error",n),F("load",n);break;case"details":F("toggle",n);break;case"input":_u(n,i),F("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},F("invalid",n);break;case"textarea":Su(n,i),F("invalid",n)}ta(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&xs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xs(n.textContent,a,t),s=["children",""+a]):Ln.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&F("scroll",n)}switch(r){case"input":gs(n),ku(n,i,!0);break;case"textarea":gs(n),xu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ui)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ad(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[nt]=e,t[Hn]=n,nf(t,e,!1,!1),e.stateNode=t;e:{switch(o=ra(r,n),r){case"dialog":F("cancel",t),F("close",t),s=n;break;case"iframe":case"object":case"embed":F("load",t),s=n;break;case"video":case"audio":for(s=0;s<xn.length;s++)F(xn[s],t);s=n;break;case"source":F("error",t),s=n;break;case"img":case"image":case"link":F("error",t),F("load",t),s=n;break;case"details":F("toggle",t),s=n;break;case"input":_u(t,n),s=Qo(t,n),F("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=G({},n,{value:void 0}),F("invalid",t);break;case"textarea":Su(t,n),s=Zo(t,n),F("invalid",t);break;default:s=n}ta(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ld(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Id(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Un(t,l):typeof l=="number"&&Un(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ln.hasOwnProperty(i)?l!=null&&i==="onScroll"&&F("scroll",t):l!=null&&cl(t,i,l,o))}switch(r){case"input":gs(t),ku(t,n,!1);break;case"textarea":gs(t),xu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Dt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ur(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ur(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(t&&e.stateNode!=null)of(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=ir(Gn.current),ir(it.current),Es(e)){if(n=e.stateNode,r=e.memoizedProps,n[nt]=e,(i=n.nodeValue!==r)&&(t=Ne,t!==null))switch(t.tag){case 3:xs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=e,e.stateNode=n}return fe(e),null;case 13:if(V(H),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Re!==null&&e.mode&1&&!(e.flags&128))xh(),Kr(),e.flags|=98560,i=!1;else if(i=Es(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[nt]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),i=!1}else Qe!==null&&(La(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||H.current&1?ne===0&&(ne=3):Hl())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return Jr(),Ca(t,e),t===null&&Wn(e.stateNode.containerInfo),fe(e),null;case 10:return Ol(e.type._context),fe(e),null;case 17:return Te(e.type)&&ci(),fe(e),null;case 19:if(V(H),i=e.memoizedState,i===null)return fe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)vn(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yi(t),o!==null){for(e.flags|=128,vn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return z(H,H.current&1|2),e.child}t=t.sibling}i.tail!==null&&Y()>Yr&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=yi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return fe(e),null}else 2*Y()-i.renderingStartTime>Yr&&r!==1073741824&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Y(),e.sibling=null,r=H.current,z(H,n?r&1|2:r&1),e):(fe(e),null);case 22:case 23:return ql(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Oe&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function wy(t,e){switch(bl(e),e.tag){case 1:return Te(e.type)&&ci(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jr(),V(je),V(me),Il(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Al(e),null;case 13:if(V(H),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(H),null;case 4:return Jr(),null;case 10:return Ol(e.type._context),null;case 22:case 23:return ql(),null;case 24:return null;default:return null}}var Ts=!1,pe=!1,_y=typeof WeakSet=="function"?WeakSet:Set,C=null;function $r(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){J(t,e,n)}else r.current=null}function Oa(t,e,r){try{r()}catch(n){J(t,e,n)}}var hc=!1;function ky(t,e){if(ha=oi,t=ch(),xl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++c===n&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(fa={focusedElem:t,selectionRange:r},oi=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,k=m.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:He(e.type,w),k);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){J(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return m=hc,hc=!1,m}function An(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Oa(e,r,i)}s=s.next}while(s!==n)}}function qi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Pa(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function af(t){var e=t.alternate;e!==null&&(t.alternate=null,af(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nt],delete e[Hn],delete e[ma],delete e[ny],delete e[sy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lf(t){return t.tag===5||t.tag===3||t.tag===4}function fc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ra(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ui));else if(n!==4&&(t=t.child,t!==null))for(Ra(t,e,r),t=t.sibling;t!==null;)Ra(t,e,r),t=t.sibling}function Na(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Na(t,e,r),t=t.sibling;t!==null;)Na(t,e,r),t=t.sibling}var ue=null,Ge=!1;function vt(t,e,r){for(r=r.child;r!==null;)uf(t,e,r),r=r.sibling}function uf(t,e,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ui,r)}catch{}switch(r.tag){case 5:pe||$r(r,e);case 6:var n=ue,s=Ge;ue=null,vt(t,e,r),ue=n,Ge=s,ue!==null&&(Ge?(t=ue,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ue.removeChild(r.stateNode));break;case 18:ue!==null&&(Ge?(t=ue,r=r.stateNode,t.nodeType===8?To(t.parentNode,r):t.nodeType===1&&To(t,r),zn(t)):To(ue,r.stateNode));break;case 4:n=ue,s=Ge,ue=r.stateNode.containerInfo,Ge=!0,vt(t,e,r),ue=n,Ge=s;break;case 0:case 11:case 14:case 15:if(!pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Oa(r,e,o),s=s.next}while(s!==n)}vt(t,e,r);break;case 1:if(!pe&&($r(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){J(r,e,a)}vt(t,e,r);break;case 21:vt(t,e,r);break;case 22:r.mode&1?(pe=(n=pe)||r.memoizedState!==null,vt(t,e,r),pe=n):vt(t,e,r);break;default:vt(t,e,r)}}function pc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _y),e.forEach(function(n){var s=Py.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function We(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ue=a.stateNode,Ge=!1;break e;case 3:ue=a.stateNode.containerInfo,Ge=!0;break e;case 4:ue=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(ue===null)throw Error(j(160));uf(i,o,s),ue=null,Ge=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){J(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cf(e,t),e=e.sibling}function cf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(We(e,t),et(t),n&4){try{An(3,t,t.return),qi(3,t)}catch(w){J(t,t.return,w)}try{An(5,t,t.return)}catch(w){J(t,t.return,w)}}break;case 1:We(e,t),et(t),n&512&&r!==null&&$r(r,r.return);break;case 5:if(We(e,t),et(t),n&512&&r!==null&&$r(r,r.return),t.flags&32){var s=t.stateNode;try{Un(s,"")}catch(w){J(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Rd(s,i),ra(a,o);var u=ra(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Ld(s,d):c==="dangerouslySetInnerHTML"?Id(s,d):c==="children"?Un(s,d):cl(s,c,d,u)}switch(a){case"input":Yo(s,i);break;case"textarea":Nd(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ur(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hn]=i}catch(w){J(t,t.return,w)}}break;case 6:if(We(e,t),et(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){J(t,t.return,w)}}break;case 3:if(We(e,t),et(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zn(e.containerInfo)}catch(w){J(t,t.return,w)}break;case 4:We(e,t),et(t);break;case 13:We(e,t),et(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vl=Y())),n&4&&pc(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(pe=(u=pe)||c,We(e,t),pe=u):We(e,t),et(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(C=t,c=t.child;c!==null;){for(d=C=c;C!==null;){switch(h=C,g=h.child,h.tag){case 0:case 11:case 14:case 15:An(4,h,h.return);break;case 1:$r(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){J(n,r,w)}}break;case 5:$r(h,h.return);break;case 22:if(h.memoizedState!==null){mc(d);continue}}g!==null?(g.return=h,C=g):mc(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$d("display",o))}catch(w){J(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){J(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:We(e,t),et(t),n&4&&pc(t);break;case 21:break;default:We(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lf(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Un(s,""),n.flags&=-33);var i=fc(t);Na(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=fc(t);Ra(t,a,o);break;default:throw Error(j(161))}}catch(l){J(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sy(t,e,r){C=t,df(t)}function df(t,e,r){for(var n=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ts;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||pe;a=Ts;var u=pe;if(Ts=o,(pe=l)&&!u)for(C=s;C!==null;)o=C,l=o.child,o.tag===22&&o.memoizedState!==null?yc(s):l!==null?(l.return=o,C=l):yc(s);for(;i!==null;)C=i,df(i),i=i.sibling;C=s,Ts=a,pe=u}gc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):gc(t)}}function gc(t){for(;C!==null;){var e=C;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pe||qi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:He(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&zn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}pe||e.flags&512&&Pa(e)}catch(h){J(e,e.return,h)}}if(e===t){C=null;break}if(r=e.sibling,r!==null){r.return=e.return,C=r;break}C=e.return}}function mc(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var r=e.sibling;if(r!==null){r.return=e.return,C=r;break}C=e.return}}function yc(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{qi(4,e)}catch(l){J(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){J(e,s,l)}}var i=e.return;try{Pa(e)}catch(l){J(e,i,l)}break;case 5:var o=e.return;try{Pa(e)}catch(l){J(e,o,l)}}}catch(l){J(e,e.return,l)}if(e===t){C=null;break}var a=e.sibling;if(a!==null){a.return=e.return,C=a;break}C=e.return}}var xy=Math.ceil,_i=gt.ReactCurrentDispatcher,zl=gt.ReactCurrentOwner,Be=gt.ReactCurrentBatchConfig,D=0,oe=null,te=null,ce=0,Oe=0,Lr=zt(0),ne=0,Xn=null,hr=0,Hi=0,Fl=0,In=null,xe=null,Vl=0,Yr=1/0,ot=null,ki=!1,Aa=null,At=null,Cs=!1,jt=null,Si=0,$n=0,Ia=null,Gs=-1,Js=0;function we(){return D&6?Y():Gs!==-1?Gs:Gs=Y()}function It(t){return t.mode&1?D&2&&ce!==0?ce&-ce:oy.transition!==null?(Js===0&&(Js=Gd()),Js):(t=M,t!==0||(t=window.event,t=t===void 0?16:th(t.type)),t):1}function Xe(t,e,r,n){if(50<$n)throw $n=0,Ia=null,Error(j(185));is(t,r,n),(!(D&2)||t!==oe)&&(t===oe&&(!(D&2)&&(Hi|=r),ne===4&&St(t,ce)),Ce(t,n),r===1&&D===0&&!(e.mode&1)&&(Yr=Y()+500,Fi&&Ft()))}function Ce(t,e){var r=t.callbackNode;om(t,e);var n=ii(t,t===oe?ce:0);if(n===0)r!==null&&ju(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ju(r),e===1)t.tag===0?iy(vc.bind(null,t)):_h(vc.bind(null,t)),ty(function(){!(D&6)&&Ft()}),r=null;else{switch(Jd(n)){case 1:r=gl;break;case 4:r=Hd;break;case 16:r=si;break;case 536870912:r=Kd;break;default:r=si}r=wf(r,hf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function hf(t,e){if(Gs=-1,Js=0,D&6)throw Error(j(327));var r=t.callbackNode;if(Fr()&&t.callbackNode!==r)return null;var n=ii(t,t===oe?ce:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=xi(t,n);else{e=n;var s=D;D|=2;var i=pf();(oe!==t||ce!==e)&&(ot=null,Yr=Y()+500,ar(t,e));do try{jy();break}catch(a){ff(t,a)}while(!0);Cl(),_i.current=i,D=s,te!==null?e=0:(oe=null,ce=0,e=ne)}if(e!==0){if(e===2&&(s=aa(t),s!==0&&(n=s,e=$a(t,s))),e===1)throw r=Xn,ar(t,0),St(t,n),Ce(t,Y()),r;if(e===6)St(t,n);else{if(s=t.current.alternate,!(n&30)&&!Ey(s)&&(e=xi(t,n),e===2&&(i=aa(t),i!==0&&(n=i,e=$a(t,i))),e===1))throw r=Xn,ar(t,0),St(t,n),Ce(t,Y()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:Qt(t,xe,ot);break;case 3:if(St(t,n),(n&130023424)===n&&(e=Vl+500-Y(),10<e)){if(ii(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){we(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ga(Qt.bind(null,t,xe,ot),e);break}Qt(t,xe,ot);break;case 4:if(St(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Ye(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Y()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xy(n/1960))-n,10<n){t.timeoutHandle=ga(Qt.bind(null,t,xe,ot),n);break}Qt(t,xe,ot);break;case 5:Qt(t,xe,ot);break;default:throw Error(j(329))}}}return Ce(t,Y()),t.callbackNode===r?hf.bind(null,t):null}function $a(t,e){var r=In;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=xi(t,e),t!==2&&(e=xe,xe=r,e!==null&&La(e)),t}function La(t){xe===null?xe=t:xe.push.apply(xe,t)}function Ey(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ze(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function St(t,e){for(e&=~Fl,e&=~Hi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ye(e),n=1<<r;t[r]=-1,e&=~n}}function vc(t){if(D&6)throw Error(j(327));Fr();var e=ii(t,0);if(!(e&1))return Ce(t,Y()),null;var r=xi(t,e);if(t.tag!==0&&r===2){var n=aa(t);n!==0&&(e=n,r=$a(t,n))}if(r===1)throw r=Xn,ar(t,0),St(t,e),Ce(t,Y()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qt(t,xe,ot),Ce(t,Y()),null}function Wl(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Yr=Y()+500,Fi&&Ft())}}function fr(t){jt!==null&&jt.tag===0&&!(D&6)&&Fr();var e=D;D|=1;var r=Be.transition,n=M;try{if(Be.transition=null,M=1,t)return t()}finally{M=n,Be.transition=r,D=e,!(D&6)&&Ft()}}function ql(){Oe=Lr.current,V(Lr)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ey(r)),te!==null)for(r=te.return;r!==null;){var n=r;switch(bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ci();break;case 3:Jr(),V(je),V(me),Il();break;case 5:Al(n);break;case 4:Jr();break;case 13:V(H);break;case 19:V(H);break;case 10:Ol(n.type._context);break;case 22:case 23:ql()}r=r.return}if(oe=t,te=t=$t(t.current,null),ce=Oe=e,ne=0,Xn=null,Fl=Hi=hr=0,xe=In=null,sr!==null){for(e=0;e<sr.length;e++)if(r=sr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}sr=null}return t}function ff(t,e){do{var r=te;try{if(Cl(),qs.current=wi,vi){for(var n=K.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vi=!1}if(dr=0,ie=re=K=null,Nn=!1,Jn=0,zl.current=null,r===null||r.return===null){ne=1,Xn=e,te=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=ce,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=ic(o);if(g!==null){g.flags&=-257,oc(g,o,a,i,e),g.mode&1&&sc(i,u,e),e=g,l=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){sc(i,u,e),Hl();break e}l=Error(j(426))}}else if(q&&a.mode&1){var k=ic(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),oc(k,o,a,i,e),jl(Qr(l,a));break e}}i=l=Qr(l,a),ne!==4&&(ne=2),In===null?In=[i]:In.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Jh(i,l,e);Xu(i,y);break e;case 1:a=l;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(At===null||!At.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Qh(i,a,e);Xu(i,_);break e}}i=i.return}while(i!==null)}mf(r)}catch(S){e=S,te===r&&r!==null&&(te=r=r.return);continue}break}while(!0)}function pf(){var t=_i.current;return _i.current=wi,t===null?wi:t}function Hl(){(ne===0||ne===3||ne===2)&&(ne=4),oe===null||!(hr&268435455)&&!(Hi&268435455)||St(oe,ce)}function xi(t,e){var r=D;D|=2;var n=pf();(oe!==t||ce!==e)&&(ot=null,ar(t,e));do try{by();break}catch(s){ff(t,s)}while(!0);if(Cl(),D=r,_i.current=n,te!==null)throw Error(j(261));return oe=null,ce=0,ne}function by(){for(;te!==null;)gf(te)}function jy(){for(;te!==null&&!Yg();)gf(te)}function gf(t){var e=vf(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?mf(t):te=e,zl.current=null}function mf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=wy(r,e),r!==null){r.flags&=32767,te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,te=null;return}}else if(r=vy(r,e,Oe),r!==null){te=r;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);ne===0&&(ne=5)}function Qt(t,e,r){var n=M,s=Be.transition;try{Be.transition=null,M=1,Ty(t,e,r,n)}finally{Be.transition=s,M=n}return null}function Ty(t,e,r,n){do Fr();while(jt!==null);if(D&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(am(t,i),t===oe&&(te=oe=null,ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cs||(Cs=!0,wf(si,function(){return Fr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var o=M;M=1;var a=D;D|=4,zl.current=null,ky(t,r),cf(r,t),Km(fa),oi=!!ha,fa=ha=null,t.current=r,Sy(r),Xg(),D=a,M=o,Be.transition=i}else t.current=r;if(Cs&&(Cs=!1,jt=t,Si=s),i=t.pendingLanes,i===0&&(At=null),tm(r.stateNode),Ce(t,Y()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ki)throw ki=!1,t=Aa,Aa=null,t;return Si&1&&t.tag!==0&&Fr(),i=t.pendingLanes,i&1?t===Ia?$n++:($n=0,Ia=t):$n=0,Ft(),null}function Fr(){if(jt!==null){var t=Jd(Si),e=Be.transition,r=M;try{if(Be.transition=null,M=16>t?16:t,jt===null)var n=!1;else{if(t=jt,jt=null,Si=0,D&6)throw Error(j(331));var s=D;for(D|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(C=u;C!==null;){var c=C;switch(c.tag){case 0:case 11:case 15:An(8,c,i)}var d=c.child;if(d!==null)d.return=c,C=d;else for(;C!==null;){c=C;var h=c.sibling,g=c.return;if(af(c),c===u){C=null;break}if(h!==null){h.return=g,C=h;break}C=g}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:An(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,C=y;break e}C=i.return}}var p=t.current;for(C=p;C!==null;){o=C;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,C=f;else e:for(o=p;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qi(9,a)}}catch(S){J(a,a.return,S)}if(a===o){C=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,C=_;break e}C=a.return}}if(D=s,Ft(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ui,t)}catch{}n=!0}return n}finally{M=r,Be.transition=e}}return!1}function wc(t,e,r){e=Qr(r,e),e=Jh(t,e,1),t=Nt(t,e,1),e=we(),t!==null&&(is(t,1,e),Ce(t,e))}function J(t,e,r){if(t.tag===3)wc(t,t,r);else for(;e!==null;){if(e.tag===3){wc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(At===null||!At.has(n))){t=Qr(r,t),t=Qh(e,t,1),e=Nt(e,t,1),t=we(),e!==null&&(is(e,1,t),Ce(e,t));break}}e=e.return}}function Cy(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=we(),t.pingedLanes|=t.suspendedLanes&r,oe===t&&(ce&r)===r&&(ne===4||ne===3&&(ce&130023424)===ce&&500>Y()-Vl?ar(t,0):Fl|=r),Ce(t,e)}function yf(t,e){e===0&&(t.mode&1?(e=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):e=1);var r=we();t=ft(t,e),t!==null&&(is(t,e,r),Ce(t,r))}function Oy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),yf(t,r)}function Py(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),yf(t,r)}var vf;vf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||je.current)be=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return be=!1,yy(t,e,r);be=!!(t.flags&131072)}else be=!1,q&&e.flags&1048576&&kh(e,fi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ks(t,e),t=e.pendingProps;var s=Hr(e,me.current);zr(e,r),s=Ll(null,e,n,t,s,r);var i=Ul();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Te(n)?(i=!0,di(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rl(e),s.updater=Wi,e.stateNode=s,s._reactInternals=e,Sa(e,n,t,r),e=ba(null,e,n,!0,i,r)):(e.tag=0,q&&i&&El(e),ve(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ks(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Ny(n),t=He(n,t),s){case 0:e=Ea(null,e,n,t,r);break e;case 1:e=uc(null,e,n,t,r);break e;case 11:e=ac(null,e,n,t,r);break e;case 14:e=lc(null,e,n,He(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),Ea(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),uc(t,e,n,s,r);case 3:e:{if(ef(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Th(t,e),mi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qr(Error(j(423)),e),e=cc(t,e,n,r,s);break e}else if(n!==s){s=Qr(Error(j(424)),e),e=cc(t,e,n,r,s);break e}else for(Re=Rt(e.stateNode.containerInfo.firstChild),Ne=e,q=!0,Qe=null,r=bh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),n===s){e=pt(t,e,r);break e}ve(t,e,n,r)}e=e.child}return e;case 5:return Ch(e),t===null&&wa(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,pa(n,s)?o=null:i!==null&&pa(n,i)&&(e.flags|=32),Zh(t,e),ve(t,e,o,r),e.child;case 6:return t===null&&wa(e),null;case 13:return tf(t,e,r);case 4:return Nl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gr(e,null,n,r):ve(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),ac(t,e,n,s,r);case 7:return ve(t,e,e.pendingProps,r),e.child;case 8:return ve(t,e,e.pendingProps.children,r),e.child;case 12:return ve(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,z(pi,n._currentValue),n._currentValue=o,i!==null)if(Ze(i.value,o)){if(i.children===s.children&&!je.current){e=pt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ct(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),_a(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),_a(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,zr(e,r),s=ze(s),n=n(s),e.flags|=1,ve(t,e,n,r),e.child;case 14:return n=e.type,s=He(n,e.pendingProps),s=He(n.type,s),lc(t,e,n,s,r);case 15:return Yh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),Ks(t,e),e.tag=1,Te(n)?(t=!0,di(e)):t=!1,zr(e,r),Gh(e,n,s),Sa(e,n,s,r),ba(null,e,n,!0,t,r);case 19:return rf(t,e,r);case 22:return Xh(t,e,r)}throw Error(j(156,e.tag))};function wf(t,e){return qd(t,e)}function Ry(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,r,n){return new Ry(t,e,r,n)}function Kl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ny(t){if(typeof t=="function")return Kl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hl)return 11;if(t===fl)return 14}return 2}function $t(t,e){var r=t.alternate;return r===null?(r=Me(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Kl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jr:return lr(r.children,s,i,e);case dl:o=8,s|=8;break;case Ho:return t=Me(12,r,e,s|2),t.elementType=Ho,t.lanes=i,t;case Ko:return t=Me(13,r,e,s),t.elementType=Ko,t.lanes=i,t;case Go:return t=Me(19,r,e,s),t.elementType=Go,t.lanes=i,t;case Cd:return Ki(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jd:o=10;break e;case Td:o=9;break e;case hl:o=11;break e;case fl:o=14;break e;case wt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Me(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function lr(t,e,r,n){return t=Me(7,t,n,e),t.lanes=r,t}function Ki(t,e,r,n){return t=Me(22,t,n,e),t.elementType=Cd,t.lanes=r,t.stateNode={isHidden:!1},t}function $o(t,e,r){return t=Me(6,t,null,e),t.lanes=r,t}function Lo(t,e,r){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ay(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gl(t,e,r,n,s,i,o,a,l){return t=new Ay(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Me(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(i),t}function Iy(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:br,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function _f(t){if(!t)return Mt;t=t._reactInternals;e:{if(gr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Te(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Te(r))return wh(t,r,e)}return e}function kf(t,e,r,n,s,i,o,a,l){return t=Gl(r,n,!0,t,s,i,o,a,l),t.context=_f(null),r=t.current,n=we(),s=It(r),i=ct(n,s),i.callback=e??null,Nt(r,i,s),t.current.lanes=s,is(t,s,n),Ce(t,n),t}function Gi(t,e,r,n){var s=e.current,i=we(),o=It(s);return r=_f(r),e.context===null?e.context=r:e.pendingContext=r,e=ct(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Nt(s,e,o),t!==null&&(Xe(t,s,o,i),Ws(t,s,o)),o}function Ei(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _c(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Jl(t,e){_c(t,e),(t=t.alternate)&&_c(t,e)}function $y(){return null}var Sf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ql(t){this._internalRoot=t}Ji.prototype.render=Ql.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Gi(t,e,null,null)};Ji.prototype.unmount=Ql.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Gi(null,t,null,null)}),e[ht]=null}};function Ji(t){this._internalRoot=t}Ji.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<kt.length&&e!==0&&e<kt[r].priority;r++);kt.splice(r,0,t),r===0&&eh(t)}};function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kc(){}function Ly(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ei(o);i.call(u)}}var o=kf(e,n,t,0,null,!1,!1,"",kc);return t._reactRootContainer=o,t[ht]=o.current,Wn(t.nodeType===8?t.parentNode:t),fr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ei(l);a.call(u)}}var l=Gl(t,0,!1,null,null,!1,!1,"",kc);return t._reactRootContainer=l,t[ht]=l.current,Wn(t.nodeType===8?t.parentNode:t),fr(function(){Gi(e,l,r,n)}),l}function Yi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ei(o);a.call(l)}}Gi(e,o,t,s)}else o=Ly(r,e,t,s,n);return Ei(o)}Qd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sn(e.pendingLanes);r!==0&&(ml(e,r|1),Ce(e,Y()),!(D&6)&&(Yr=Y()+500,Ft()))}break;case 13:fr(function(){var n=ft(t,1);if(n!==null){var s=we();Xe(n,t,1,s)}}),Jl(t,1)}};yl=function(t){if(t.tag===13){var e=ft(t,134217728);if(e!==null){var r=we();Xe(e,t,134217728,r)}Jl(t,134217728)}};Yd=function(t){if(t.tag===13){var e=It(t),r=ft(t,e);if(r!==null){var n=we();Xe(r,t,e,n)}Jl(t,e)}};Xd=function(){return M};Zd=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};sa=function(t,e,r){switch(e){case"input":if(Yo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=zi(n);if(!s)throw Error(j(90));Pd(n),Yo(n,s)}}}break;case"textarea":Nd(t,r);break;case"select":e=r.value,e!=null&&Ur(t,!!r.multiple,e,!1)}};Md=Wl;Bd=fr;var Uy={usingClientEntryPoint:!1,Events:[as,Pr,zi,Ud,Dd,Wl]},wn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dy={bundleType:wn.bundleType,version:wn.version,rendererPackageName:wn.rendererPackageName,rendererConfig:wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vd(t),t===null?null:t.stateNode},findFiberByHostInstance:wn.findFiberByHostInstance||$y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Ui=Os.inject(Dy),st=Os}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uy;Ie.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yl(e))throw Error(j(200));return Iy(t,e,null,r)};Ie.createRoot=function(t,e){if(!Yl(t))throw Error(j(299));var r=!1,n="",s=Sf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gl(t,1,!1,null,null,r,!1,n,s),t[ht]=e.current,Wn(t.nodeType===8?t.parentNode:t),new Ql(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Vd(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return fr(t)};Ie.hydrate=function(t,e,r){if(!Qi(e))throw Error(j(200));return Yi(null,t,e,!0,r)};Ie.hydrateRoot=function(t,e,r){if(!Yl(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Sf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=kf(e,null,t,1,r??null,s,!1,i,o),t[ht]=e.current,Wn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ji(e)};Ie.render=function(t,e,r){if(!Qi(e))throw Error(j(200));return Yi(null,t,e,!1,r)};Ie.unmountComponentAtNode=function(t){if(!Qi(t))throw Error(j(40));return t._reactRootContainer?(fr(function(){Yi(null,null,t,!1,function(){t._reactRootContainer=null,t[ht]=null})}),!0):!1};Ie.unstable_batchedUpdates=Wl;Ie.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qi(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Yi(t,e,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function xf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xf)}catch(t){console.error(t)}}xf(),Sd.exports=Ie;var My=Sd.exports,Ef,Sc=My;Ef=Sc.createRoot,Sc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zn.apply(this,arguments)}var Tt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tt||(Tt={}));const xc="popstate";function By(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=mr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ua("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:bi(i))}function n(s,i){Xi(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Fy(e,r,n,t)}function X(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zy(){return Math.random().toString(36).substr(2,8)}function Ec(t,e){return{usr:t.state,key:t.key,idx:e}}function Ua(t,e,r,n){return r===void 0&&(r=null),Zn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mr(e):e,{state:r,key:e&&e.key||n||zy()})}function bi(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Fy(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Tt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Zn({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Tt.Pop;let k=c(),y=k==null?null:k-u;u=k,l&&l({action:a,location:w.location,delta:y})}function h(k,y){a=Tt.Push;let p=Ua(w.location,k,y);r&&r(p,k),u=c()+1;let f=Ec(p,u),_=w.createHref(p);try{o.pushState(f,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:w.location,delta:1})}function g(k,y){a=Tt.Replace;let p=Ua(w.location,k,y);r&&r(p,k),u=c();let f=Ec(p,u),_=w.createHref(p);o.replaceState(f,"",_),i&&l&&l({action:a,location:w.location,delta:0})}function m(k){let y=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof k=="string"?k:bi(k);return p=p.replace(/ $/,"%20"),X(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let w={get action(){return a},get location(){return t(s,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(xc,d),l=k,()=>{s.removeEventListener(xc,d),l=null}},createHref(k){return e(s,k)},createURL:m,encodeLocation(k){let y=m(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(k){return o.go(k)}};return w}var bc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bc||(bc={}));function Vy(t,e,r){return r===void 0&&(r="/"),Wy(t,e,r)}function Wy(t,e,r,n){let s=typeof e=="string"?mr(e):e,i=Xl(s.pathname||"/",r);if(i==null)return null;let o=bf(t);qy(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=n0(i);a=e0(o[l],u)}return a}function bf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(X(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Lt([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(X(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bf(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Xy(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of jf(i.path))s(i,o,l)}),e}function jf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=jf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function qy(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Zy(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Hy=/^:[\w-]+$/,Ky=3,Gy=2,Jy=1,Qy=10,Yy=-2,jc=t=>t==="*";function Xy(t,e){let r=t.split("/"),n=r.length;return r.some(jc)&&(n+=Yy),e&&(n+=Gy),r.filter(s=>!jc(s)).reduce((s,i)=>s+(Hy.test(i)?Ky:i===""?Jy:Qy),n)}function Zy(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function e0(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=t0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Lt([i,d.pathname]),pathnameBase:l0(Lt([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Lt([i,d.pathnameBase]))}return o}function t0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=r0(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:g}=c;if(h==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[d];return g&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function r0(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function n0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i0=t=>s0.test(t);function o0(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?mr(t):t,i;if(r)if(i0(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Xi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Tc(r.substring(1),"/"):i=Tc(r,e)}else i=e;return{pathname:i,search:u0(n),hash:c0(s)}}function Tc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Uo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Zl(t,e){let r=a0(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function eu(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=mr(t):(s=Zn({},t),X(!s.pathname||!s.pathname.includes("?"),Uo("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),Uo("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),Uo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=o0(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Lt=t=>t.join("/").replace(/\/\/+/g,"/"),l0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function d0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tf=["post","put","patch","delete"];new Set(Tf);const h0=["get",...Tf];new Set(h0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},es.apply(this,arguments)}const tu=x.createContext(null),f0=x.createContext(null),Vt=x.createContext(null),Zi=x.createContext(null),mt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Cf=x.createContext(null);function p0(t,e){let{relative:r}=e===void 0?{}:e;sn()||X(!1);let{basename:n,navigator:s}=x.useContext(Vt),{hash:i,pathname:o,search:a}=Pf(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Lt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function sn(){return x.useContext(Zi)!=null}function on(){return sn()||X(!1),x.useContext(Zi).location}function Of(t){x.useContext(Vt).static||x.useLayoutEffect(t)}function ru(){let{isDataRoute:t}=x.useContext(mt);return t?O0():g0()}function g0(){sn()||X(!1);let t=x.useContext(tu),{basename:e,future:r,navigator:n}=x.useContext(Vt),{matches:s}=x.useContext(mt),{pathname:i}=on(),o=JSON.stringify(Zl(s,r.v7_relativeSplatPath)),a=x.useRef(!1);return Of(()=>{a.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=eu(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Lt([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,i,t])}const m0=x.createContext(null);function y0(t){let e=x.useContext(mt).outlet;return e&&x.createElement(m0.Provider,{value:t},e)}function Pf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Vt),{matches:s}=x.useContext(mt),{pathname:i}=on(),o=JSON.stringify(Zl(s,n.v7_relativeSplatPath));return x.useMemo(()=>eu(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function v0(t,e){return w0(t,e)}function w0(t,e,r,n){sn()||X(!1);let{navigator:s}=x.useContext(Vt),{matches:i}=x.useContext(mt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=on(),c;if(e){var d;let k=typeof e=="string"?mr(e):e;l==="/"||(d=k.pathname)!=null&&d.startsWith(l)||X(!1),c=k}else c=u;let h=c.pathname||"/",g=h;if(l!=="/"){let k=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let m=Vy(t,{pathname:g}),w=E0(m&&m.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Lt([l,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:Lt([l,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,r,n);return e&&w?x.createElement(Zi.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Tt.Pop}},w):w}function _0(){let t=C0(),e=d0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:s},r):null,null)}const k0=x.createElement(_0,null);class S0 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(mt.Provider,{value:this.props.routeContext},x.createElement(Cf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x0(t){let{routeContext:e,match:r,children:n}=t,s=x.useContext(tu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(mt.Provider,{value:e},n)}function E0(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||X(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:g}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let g,m=!1,w=null,k=null;r&&(g=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||k0,l&&(u<0&&h===0?(P0("route-fallback"),m=!0,k=null):u===h&&(m=!0,k=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),p=()=>{let f;return g?f=w:m?f=k:d.route.Component?f=x.createElement(d.route.Component,null):d.route.element?f=d.route.element:f=c,x.createElement(x0,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:f})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(S0,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var Rf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Rf||{}),Nf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nf||{});function b0(t){let e=x.useContext(tu);return e||X(!1),e}function j0(t){let e=x.useContext(f0);return e||X(!1),e}function T0(t){let e=x.useContext(mt);return e||X(!1),e}function Af(t){let e=T0(),r=e.matches[e.matches.length-1];return r.route.id||X(!1),r.route.id}function C0(){var t;let e=x.useContext(Cf),r=j0(),n=Af();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function O0(){let{router:t}=b0(Rf.UseNavigateStable),e=Af(Nf.UseNavigateStable),r=x.useRef(!1);return Of(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,es({fromRouteId:e},i)))},[t,e])}const Cc={};function P0(t,e,r){Cc[t]||(Cc[t]=!0)}function R0(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function N0(t){let{to:e,replace:r,state:n,relative:s}=t;sn()||X(!1);let{future:i,static:o}=x.useContext(Vt),{matches:a}=x.useContext(mt),{pathname:l}=on(),u=ru(),c=eu(e,Zl(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return x.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function If(t){return y0(t.context)}function Yt(t){X(!1)}function A0(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Tt.Pop,navigator:i,static:o=!1,future:a}=t;sn()&&X(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:es({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=mr(n));let{pathname:c="/",search:d="",hash:h="",state:g=null,key:m="default"}=n,w=x.useMemo(()=>{let k=Xl(c,l);return k==null?null:{location:{pathname:k,search:d,hash:h,state:g,key:m},navigationType:s}},[l,c,d,h,g,m,s]);return w==null?null:x.createElement(Vt.Provider,{value:u},x.createElement(Zi.Provider,{children:r,value:w}))}function I0(t){let{children:e,location:r}=t;return v0(Da(e),r)}new Promise(()=>{});function Da(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,s)=>{if(!x.isValidElement(n))return;let i=[...e,s];if(n.type===x.Fragment){r.push.apply(r,Da(n.props.children,i));return}n.type!==Yt&&X(!1),!n.props.index||!n.props.children||X(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Da(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ma.apply(this,arguments)}function $0(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function L0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U0(t,e){return t.button===0&&(!e||e==="_self")&&!L0(t)}const D0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M0="6";try{window.__reactRouterVersion=M0}catch{}const B0="startTransition",Oc=Cg[B0];function z0(t){let{basename:e,children:r,future:n,window:s}=t,i=x.useRef();i.current==null&&(i.current=By({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=x.useCallback(d=>{u&&Oc?Oc(()=>l(d)):l(d)},[l,u]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.useEffect(()=>R0(n),[n]),x.createElement(A0,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pc=x.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=$0(e,D0),{basename:g}=x.useContext(Vt),m,w=!1;if(typeof u=="string"&&V0.test(u)&&(m=u,F0))try{let f=new URL(window.location.href),_=u.startsWith("//")?new URL(f.protocol+u):new URL(u),S=Xl(_.pathname,g);_.origin===f.origin&&S!=null?u=S+_.search+_.hash:w=!0}catch{}let k=p0(u,{relative:s}),y=W0(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function p(f){n&&n(f),f.defaultPrevented||y(f)}return x.createElement("a",Ma({},h,{href:m||k,onClick:w||i?n:p,ref:r,target:l}))});var Rc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rc||(Rc={}));var Nc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Nc||(Nc={}));function W0(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ru(),u=on(),c=Pf(t,{relative:o});return x.useCallback(d=>{if(U0(d,r)){d.preventDefault();let h=n!==void 0?n:bi(u)===bi(c);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,t,i,o,a])}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>x.createElement("svg",{ref:c,...q0,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${H0(t)}`,a].join(" "),...u},[...e.map(([d,h])=>x.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ye("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rv={},Uc=t=>{let e;const r=new Set,n=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const g=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(m=>m(e,g))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(rv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,s,l);return l},nv=t=>t?Uc(t):Uc;var Df={exports:{}},Mf={},Bf={exports:{}},zf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=x;function sv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iv=typeof Object.is=="function"?Object.is:sv,ov=Xr.useState,av=Xr.useEffect,lv=Xr.useLayoutEffect,uv=Xr.useDebugValue;function cv(t,e){var r=e(),n=ov({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return lv(function(){s.value=r,s.getSnapshot=e,Do(s)&&i({inst:s})},[t,r,e]),av(function(){return Do(s)&&i({inst:s}),t(function(){Do(s)&&i({inst:s})})},[t]),uv(r),r}function Do(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!iv(t,r)}catch{return!0}}function dv(t,e){return e()}var hv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dv:cv;zf.useSyncExternalStore=Xr.useSyncExternalStore!==void 0?Xr.useSyncExternalStore:hv;Bf.exports=zf;var fv=Bf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=x,pv=fv;function gv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mv=typeof Object.is=="function"?Object.is:gv,yv=pv.useSyncExternalStore,vv=eo.useRef,wv=eo.useEffect,_v=eo.useMemo,kv=eo.useDebugValue;Mf.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=vv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=_v(function(){function l(g){if(!u){if(u=!0,c=g,g=n(g),s!==void 0&&o.hasValue){var m=o.value;if(s(m,g))return d=m}return d=g}if(m=d,mv(c,g))return m;var w=n(g);return s!==void 0&&s(m,w)?(c=g,m):(c=g,d=w)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,s]);var a=yv(t,i[0],i[1]);return wv(function(){o.hasValue=!0,o.value=a},[a]),kv(a),a};Df.exports=Mf;var Sv=Df.exports;const xv=nl(Sv),Ff={},{useDebugValue:Ev}=_d,{useSyncExternalStoreWithSelector:bv}=xv;let Dc=!1;const jv=t=>t;function Tv(t,e=jv,r){(Ff?"production":void 0)!=="production"&&r&&!Dc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Dc=!0);const n=bv(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Ev(n),n}const Mc=t=>{(Ff?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?nv(t):t,r=(n,s)=>Tv(e,n,s);return Object.assign(r,e),r},Cv=t=>t?Mc(t):Mc;var nu={},ji={},Ba=function(t,e){return Ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ba(t,e)};function Vf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ba(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ti=function(){return Ti=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ti.apply(this,arguments)};function an(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Wf(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function qf(t,e){return function(r,n){e(r,n,t)}}function Hf(t,e,r,n,s,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,h=!1,g=r.length-1;g>=0;g--){var m={};for(var w in n)m[w]=w==="access"?{}:n[w];for(var w in n.access)m.access[w]=n.access[w];m.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var k=(0,r[g])(a==="accessor"?{get:c.get,set:c.set}:c[l],m);if(a==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(d=o(k.get))&&(c.get=d),(d=o(k.set))&&(c.set=d),(d=o(k.init))&&s.unshift(d)}else(d=o(k))&&(a==="field"?s.unshift(d):c[l]=d)}u&&Object.defineProperty(u,n.name,c),h=!0}function Kf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Gf(t){return typeof t=="symbol"?t:"".concat(t)}function Jf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Qf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function O(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Yf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var to=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Xf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&to(e,t,r)}function Ci(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function su(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Zf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(su(arguments[e]));return t}function ep(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function tp(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function rp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(g){return function(m){return Promise.resolve(m).then(g,d)}}function a(g,m){n[g]&&(s[g]=function(w){return new Promise(function(k,y){i.push([g,w,k,y])>1||l(g,w)})},m&&(s[g]=m(s[g])))}function l(g,m){try{u(n[g](m))}catch(w){h(i[0][3],w)}}function u(g){g.value instanceof Zr?Promise.resolve(g.value.v).then(c,d):h(i[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,m){g(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function np(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Zr(t[s](o)),done:!1}:i?i(o):o}:i}}function sp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ci=="function"?Ci(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function ip(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Ov=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},za=function(t){return za=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},za(t)};function op(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=za(t),n=0;n<r.length;n++)r[n]!=="default"&&to(e,t,r[n]);return Ov(e,t),e}function ap(t){return t&&t.__esModule?t:{default:t}}function lp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function up(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function cp(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function dp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Pv=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function hp(t){function e(i){t.error=t.hasError?new Pv(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function fp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Rv={__extends:Vf,__assign:Ti,__rest:an,__decorate:Wf,__param:qf,__esDecorate:Hf,__runInitializers:Kf,__propKey:Gf,__setFunctionName:Jf,__metadata:Qf,__awaiter:O,__generator:Yf,__createBinding:to,__exportStar:Xf,__values:Ci,__read:su,__spread:Zf,__spreadArrays:ep,__spreadArray:tp,__await:Zr,__asyncGenerator:rp,__asyncDelegator:np,__asyncValues:sp,__makeTemplateObject:ip,__importStar:op,__importDefault:ap,__classPrivateFieldGet:lp,__classPrivateFieldSet:up,__classPrivateFieldIn:cp,__addDisposableResource:dp,__disposeResources:hp,__rewriteRelativeImportExtension:fp},Nv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:dp,get __assign(){return Ti},__asyncDelegator:np,__asyncGenerator:rp,__asyncValues:sp,__await:Zr,__awaiter:O,__classPrivateFieldGet:lp,__classPrivateFieldIn:cp,__classPrivateFieldSet:up,__createBinding:to,__decorate:Wf,__disposeResources:hp,__esDecorate:Hf,__exportStar:Xf,__extends:Vf,__generator:Yf,__importDefault:ap,__importStar:op,__makeTemplateObject:ip,__metadata:Qf,__param:qf,__propKey:Gf,__read:su,__rest:an,__rewriteRelativeImportExtension:fp,__runInitializers:Kf,__setFunctionName:Jf,__spread:Zf,__spreadArray:tp,__spreadArrays:ep,__values:Ci,default:Rv},Symbol.toStringTag,{value:"Module"})),Av=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let ro=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},pp=class extends ro{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Fa=class extends ro{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Va=class extends ro{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Oi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Oi||(Oi={}));class Iv{constructor(e,{headers:r={},customFetch:n,region:s=Oi.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Av(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:g}=n;g||(g=this.region);const m=new URL(`${this.url}/${r}`);g&&g!=="any"&&(h["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let k=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(k=o.signal,c.addEventListener("abort",()=>o.abort())):k=o.signal);const y=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:k}).catch(S=>{throw new pp(S)}),p=y.headers.get("x-relay-error");if(p&&p==="true")throw new Fa(y);if(!y.ok)throw new Va(y);let f=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return f==="application/json"?_=yield y.json():f==="application/octet-stream"||f==="application/pdf"?_=yield y.blob():f==="text/event-stream"?_=y:f==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Va||a instanceof Fa?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const $v=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Oi},FunctionsClient:Iv,FunctionsError:ro,FunctionsFetchError:pp,FunctionsHttpError:Va,FunctionsRelayError:Fa},Symbol.toStringTag,{value:"Module"})),gp=ns($v);var ge={};const ln=ns(Nv);var Ps={},Rs={},Ns={},As={},Is={},$s={},Bc;function mp(){if(Bc)return $s;Bc=1,Object.defineProperty($s,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $s.default=t,$s}var zc;function yp(){if(zc)return Is;zc=1,Object.defineProperty(Is,"__esModule",{value:!0});const e=ln.__importDefault(mp());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let g=null,m=null,w=null,k=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=S:m=JSON.parse(S))}const f=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),_=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");f&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,w=null,k=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const f=await l.text();try{g=JSON.parse(f),Array.isArray(g)&&l.status===404&&(m=[],g=null,k=200,y="OK")}catch{l.status===404&&f===""?(k=204,y="No Content"):g={message:f}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,k=200,y="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:m,count:w,status:k,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,d,h,g,m;let w="";const k=l==null?void 0:l.cause;if(k){const y=(u=k==null?void 0:k.message)!==null&&u!==void 0?u:"",p=(c=k==null?void 0:k.code)!==null&&c!==void 0?c:"";w=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(h=k==null?void 0:k.name)!==null&&h!==void 0?h:"Error"}: ${y}`,p&&(w+=` (${p})`),k!=null&&k.stack&&(w+=`
${k.stack}`)}else w=(g=l==null?void 0:l.stack)!==null&&g!==void 0?g:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return Is.default=r,Is}var Fc;function vp(){if(Fc)return As;Fc=1,Object.defineProperty(As,"__esModule",{value:!0});const e=ln.__importDefault(yp());let r=class extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return As.default=r,As}var Vc;function iu(){if(Vc)return Ns;Vc=1,Object.defineProperty(Ns,"__esModule",{value:!0});const e=ln.__importDefault(vp()),r=new RegExp("[,()]");let n=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return Ns.default=n,Ns}var Wc;function wp(){if(Wc)return Rs;Wc=1,Object.defineProperty(Rs,"__esModule",{value:!0});const e=ln.__importDefault(iu());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Rs.default=r,Rs}var qc;function Lv(){if(qc)return Ps;qc=1,Object.defineProperty(Ps,"__esModule",{value:!0});const t=ln,e=t.__importDefault(wp()),r=t.__importDefault(iu());let n=class _p{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new _p(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${i}`);let g;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([w,k])=>k!==void 0).map(([w,k])=>[w,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([w,k])=>{h.searchParams.append(w,k)})):(d="POST",g=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new r.default({method:d,url:h,headers:m,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Ps.default=n,Ps}Object.defineProperty(ge,"__esModule",{value:!0});ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;const un=ln,kp=un.__importDefault(Lv());ge.PostgrestClient=kp.default;const Sp=un.__importDefault(wp());ge.PostgrestQueryBuilder=Sp.default;const xp=un.__importDefault(iu());ge.PostgrestFilterBuilder=xp.default;const Ep=un.__importDefault(vp());ge.PostgrestTransformBuilder=Ep.default;const bp=un.__importDefault(yp());ge.PostgrestBuilder=bp.default;const jp=un.__importDefault(mp());ge.PostgrestError=jp.default;ge.default={PostgrestClient:kp.default,PostgrestQueryBuilder:Sp.default,PostgrestFilterBuilder:xp.default,PostgrestTransformBuilder:Ep.default,PostgrestBuilder:bp.default,PostgrestError:jp.default};class Tp{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Uv="2.87.1",Dv=`realtime-js/${Uv}`,Cp="1.0.0",Mv="2.0.0",Hc=Cp,Wa=1e4,Bv=1e3,zv=100;var tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tr||(tr={}));var Z;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Z||(Z={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var qa;(function(t){t.websocket="websocket"})(qa||(qa={}));var rr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rr||(rr={}));class Fv{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(g),w=0;m.setUint8(w++,this.KINDS.userBroadcastPush),m.setUint8(w++,l.length),m.setUint8(w++,a.length),m.setUint8(w++,o.length),m.setUint8(w++,u.length),m.setUint8(w++,d.length),m.setUint8(w++,r),Array.from(l,y=>m.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>m.setUint8(w++,y.charCodeAt(0))),Array.from(o,y=>m.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>m.setUint8(w++,y.charCodeAt(0))),Array.from(d,y=>m.setUint8(w++,y.charCodeAt(0)));var k=new Uint8Array(g.byteLength+n.byteLength);return k.set(new Uint8Array(g),0),k.set(new Uint8Array(n),g.byteLength),k.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),g=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:c,payload:g};return o>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Op{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const Kc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Vv(o,t,e,s),i),{}):{}},Vv=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Pp(i,o):Ha(o)},Pp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Kv(e,r)}switch(t){case B.bool:return Wv(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return qv(e);case B.json:case B.jsonb:return Hv(e);case B.timestamp:return Gv(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return Ha(e);default:return Ha(e)}},Ha=t=>t,Wv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Kv=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Pp(e,a))}return t},Gv=t=>typeof t=="string"?t.replace(" ","T"):t,Rp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mo{constructor(e,r,n={},s=Wa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ka;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ka||(Ka={}));let Np=class Ys{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ys.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ys.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ys.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(k=>k.presence_ref),g=d.map(k=>k.presence_ref),m=c.filter(k=>g.indexOf(k.presence_ref)<0),w=d.filter(k=>h.indexOf(k.presence_ref)<0);m.length>0&&(a[u]=m),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ga;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ga||(Ga={}));var Vr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vr||(Vr={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));const Jv=Z;let Ap=class En{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Z.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new Op(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Z.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Z.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Np(this),this.broadcastEndpointURL=Rp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Z.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Vr.PRESENCE]&&this.bindings[Vr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(rt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(rt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,y=[];for(let p=0;p<k;p++){const f=w[p],{filter:{event:_,schema:S,table:E,filter:b}}=f,T=g&&g[p];if(T&&T.event===_&&En.isFilterValueEqual(T.schema,S)&&En.isFilterValueEqual(T.table,E)&&En.isFilterValueEqual(T.filter,b))y.push(Object.assign(Object.assign({},f),{id:T.id}));else{this.unsubscribe(),this.state=Z.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(rt.SUBSCRIBED);return}}).receive("error",g=>{this.state=Z.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Z.joined&&e===Vr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Z.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Mo(this,Je.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Z.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>zv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Je;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var m,w,k;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((k=(w=g.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var m,w,k,y,p,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,S=(m=g.filter)===null||m===void 0?void 0:m.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const _=(p=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:w,table:k,commit_timestamp:y,type:p,errors:f}=m;h=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:y,eventType:p,new:{},old:{},errors:f}),this._getPayloadRecords(m))}g.callback(h,n)})}_isClosed(){return this.state===Z.closed}_isJoined(){return this.state===Z.joined}_isJoining(){return this.state===Z.joining}_isLeaving(){return this.state===Z.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&En.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Z.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Kc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Kc(e.columns,e.old_record)),r}};const Bo=()=>{},Ls={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qv=[1e3,2e3,5e3,1e4],Yv=1e4,Xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Zv=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wa,this.transport=null,this.heartbeatIntervalMs=Ls.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bo,this.ref=0,this.reconnectTimer=null,this.vsn=Hc,this.logger=Bo,this.conn=null,this.sendBuffer=[],this.serializer=new Fv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${qa.websocket}`,this.httpEndpoint=Rp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tr.connecting:return rr.Connecting;case tr.open:return rr.Open;case tr.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ap(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Bv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ls.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tr.open||this.conn.readyState===tr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Xv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Dv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Je.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Op(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ls.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,d,h,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Wa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ls.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Bo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Hc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:m=>Qv[m-1]||Yv,this.vsn){case Cp:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(m,w)=>w(JSON.stringify(m)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(m,w)=>w(JSON.parse(m));break;case Mv:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const ew=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Jv,get REALTIME_LISTEN_TYPES(){return Vr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ga},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ka},get REALTIME_SUBSCRIBE_STATES(){return rt},RealtimeChannel:Ap,RealtimeClient:Zv,RealtimePresence:Np,WebSocketFactory:Tp},Symbol.toStringTag,{value:"Module"})),Ip=ns(ew);class us extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function W(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $p extends us{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pi extends us{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const ou=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tw=()=>Response,Ja=t=>{if(Array.isArray(t))return t.map(r=>Ja(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ja(n)}),e},rw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),zo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},sw=(t,e,r)=>O(void 0,void 0,void 0,function*(){const n=yield tw();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new $p(zo(s),i,o))}).catch(s=>{e(new Pi(zo(s),s))}):e(new Pi(zo(t),t))}),iw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(rw(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function cs(t,e,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,iw(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sw(l,a,n))})})}function ts(t,e,r,n){return O(this,void 0,void 0,function*(){return cs(t,"GET",e,r,n)})}function Ke(t,e,r,n,s){return O(this,void 0,void 0,function*(){return cs(t,"POST",e,n,s,r)})}function Qa(t,e,r,n,s){return O(this,void 0,void 0,function*(){return cs(t,"PUT",e,n,s,r)})}function ow(t,e,r,n){return O(this,void 0,void 0,function*(){return cs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function au(t,e,r,n,s){return O(this,void 0,void 0,function*(){return cs(t,"DELETE",e,n,s,r)})}class aw{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}}var Lp;class lw{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Lp]="BlobDownloadBuilder",this.promise=null}asStream(){return new aw(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}}Lp=Symbol.toStringTag;const uw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cw{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=ou(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Gc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(e=="PUT"?Qa:Ke)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(W(i))return{data:null,error:i};throw i}})}upload(e,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Gc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Qa(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(W(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return O(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ke(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new us("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}update(e,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return O(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}copy(e,r,n){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield Ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ke(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return O(this,void 0,void 0,function*(){try{const s=yield Ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ts(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new lw(l,this.shouldThrowOnError)}info(e){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ts(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ja(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}exists(e){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ow(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n)&&n instanceof Pi){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return O(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}list(e,r,n){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},uw),r),{prefix:e||""});return{data:yield Ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}listV2(e,r){return O(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ke(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Up="2.87.1",Dp={"X-Client-Info":`storage-js/${Up}`};class dw{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dp),r),this.fetch=ou(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return O(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ts(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}createBucket(e){return O(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return O(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}emptyBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var rs=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hw(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function fw(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function pw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=hw(t.baseUrl,n,s),l=await fw(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const g=d?h:void 0,m=g==null?void 0:g.error;throw new rs((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Us(t){return t.join("")}var gw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Us(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(t.namespace)}`}),!0}catch(e){if(e instanceof rs&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof rs&&r.status===409)return;throw r}}};function wr(t){return t.join("")}var mw=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof rs&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof rs&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},yw=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=pw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new gw(this.client,e),this.tableOps=new mw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Mp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Dp),r),this.fetch=ou(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}listBuckets(e){return O(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ts(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}from(e){if(!nw(e))throw new us("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new yw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>O(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const a=i[o];return typeof a!="function"?a:(...l)=>O(this,void 0,void 0,function*(){try{return{data:yield a.apply(i,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}})}})}}const lu={"X-Client-Info":`storage-js/${Up}`,"Content-Type":"application/json"};class uu extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ee(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Xs extends uu{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bp extends uu{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ya;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ya||(Ya={}));const no=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vw=()=>Response,zp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ww=t=>Array.from(new Float32Array(t)),_w=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Jc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kw=(t,e,r)=>O(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Xs(Jc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Xs(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Xs(a,s,o))}}else e(new Bp(Jc(t),t))}),Sw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(zp(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function xw(t,e,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Sw(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>kw(l,a,n))})})}function Pe(t,e,r,n,s){return O(this,void 0,void 0,function*(){return xw(t,"POST",e,n,s,r)})}class Fp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lu),r),this.fetch=no(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}getIndex(e,r){return O(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}listIndexes(e){return O(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return O(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}}class Vp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lu),r),this.fetch=no(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return O(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}getVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}listVectors(e){return O(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}queryVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}deleteVectors(e){return O(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}}class Wp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lu),r),this.fetch=no(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}listBuckets(){return O(this,arguments,void 0,function*(e={}){try{return{data:yield Pe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}}class qp extends Wp{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Hp(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return O(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return O(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return O(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return O(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Hp extends Fp{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Kp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Kp extends Vp{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ew extends dw{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new cw(this.url,this.headers,e,this.fetch)}get vectors(){return new qp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mp(this.url+"/iceberg",this.headers,this.fetch)}}const bw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Mp,StorageApiError:$p,StorageClient:Ew,StorageError:us,StorageUnknownError:Pi,StorageVectorsApiError:Xs,StorageVectorsClient:qp,StorageVectorsError:uu,get StorageVectorsErrorCode(){return Ya},StorageVectorsUnknownError:Bp,VectorBucketApi:Wp,VectorBucketScope:Hp,VectorDataApi:Vp,VectorIndexApi:Fp,VectorIndexScope:Kp,isPlainObject:zp,isStorageError:W,isStorageVectorsError:Ee,normalizeToFloat32:ww,resolveFetch:no,resolveResponse:vw,validateVectorDimension:_w},Symbol.toStringTag,{value:"Module"})),jw=ns(bw);var Gp={},so={};Object.defineProperty(so,"__esModule",{value:!0});so.version=void 0;so.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=so;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Gp);var Jp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,t.resolveFetch)(o),l=(0,t.resolveHeadersConstructor)();return async(u,c)=>{var d;const h=(d=await i())!==null&&d!==void 0?d:s;let g=new l(c==null?void 0:c.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${h}`),a(u,Object.assign(Object.assign({},c),{headers:g}))}};t.fetchWithAuth=n})(Jp);var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.isBrowser=void 0;Wt.uuid=Tw;Wt.ensureTrailingSlash=Qp;Wt.applySettingDefaults=Ow;Wt.validateSupabaseUrl=Pw;function Tw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function Qp(t){return t.endsWith("/")?t:t+"/"}const Cw=()=>typeof window<"u";Wt.isBrowser=Cw;function Ow(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Pw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var io={};const Yp="2.87.1",xr=30*1e3,Xa=3,Fo=Xa*xr,Rw="http://localhost:9999",Nw="supabase.auth.token",Aw={"X-Client-Info":`gotrue-js/${Yp}`},Za="X-Supabase-Api-Version",Xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$w=10*60*1e3;let en=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let Zp=class extends en{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function eg(t){return R(t)&&t.name==="AuthApiError"}let xt=class extends en{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},yt=class extends en{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}},Se=class extends yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function tg(t){return R(t)&&t.name==="AuthSessionMissingError"}let Xt=class extends yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},bn=class extends yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},jn=class extends yt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function rg(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}let el=class extends yt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ri=class extends yt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Zs(t){return R(t)&&t.name==="AuthRetryableFetchError"}let tl=class extends yt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function Lw(t){return R(t)&&t.name==="AuthWeakPasswordError"}let Ni=class extends yt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qc=` 	
\r=`.split(""),Uw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qc.length;e+=1)t[Qc[e].charCodeAt(0)]=-2;for(let e=0;e<Ai.length;e+=1)t[Ai[e].charCodeAt(0)]=e;return t})();function Yc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ai[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ai[n]),e.queuedBits-=6}}function ng(t,e,r){const n=Uw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Xc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Bw(o,n,r)};for(let o=0;o<t.length;o+=1)ng(t.charCodeAt(o),s,i);return e.join("")}function Dw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Mw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Dw(n,e)}}function Bw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Wr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)ng(t.charCodeAt(s),r,n);return new Uint8Array(e)}function zw(t){const e=[];return Mw(t,r=>e.push(r)),new Uint8Array(e)}function or(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Yc(s,r,n)),Yc(null,r,n),e.join("")}function Fw(t){return Math.round(Date.now()/1e3)+t}function Vw(){return Symbol("auth-callback")}const le=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},sg=()=>{if(!le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Ww(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const ig=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Er=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Gt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ae=async(t,e)=>{await t.removeItem(e)};class oo{constructor(){this.promise=new oo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}oo.promiseConstructor=Promise;function Vo(t){const e=t.split(".");if(e.length!==3)throw new Ni("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Iw.test(e[n]))throw new Ni("JWT not in base64url format");return{header:JSON.parse(Xc(e[0])),payload:JSON.parse(Xc(e[1])),signature:Wr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Hw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Kw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Gw(t){return("0"+t.toString(16)).substr(-2)}function Jw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Gw).join("")}async function Qw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Yw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Qw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(t,e,r=!1){const n=Jw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Er(t,`${e}-code-verifier`,s);const i=await Yw(n);return[i,n===i?"plain":"s256"]}const Xw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zw(t){const e=t.headers.get(Za);if(!e||!e.match(Xw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function e_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function t_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(t){if(!r_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n_(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Zc(t){return JSON.parse(JSON.stringify(t))}const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),s_=[502,503,504];async function ed(t){var e;if(!qw(t))throw new Ri(Zt(t),0);if(s_.includes(t.status))throw new Ri(Zt(t),t.status);let r;try{r=await t.json()}catch(i){throw new xt(Zt(i),i)}let n;const s=Zw(t);if(s&&s.getTime()>=Xp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tl(Zt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Se}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new tl(Zt(r),t.status,r.weak_password.reasons);throw new Zp(Zt(r),t.status||500,n)}const i_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function N(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Za]||(i[Za]=Xp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await o_(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function o_(t,e,r,n,s,i){const o=i_(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Ri(Zt(l),0)}if(a.ok||await ed(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ed(l)}}function qe(t){var e;let r=null;u_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Fw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function td(t){const e=qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function a_(t){return{data:t,error:null}}function l_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=an(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function rd(t){return t}function u_(t){return t.access_token&&t.refresh_token&&t.expires_in}const ei=["global","local","others"];let cu=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ig(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ei[0]){if(ei.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ei.join(", ")}`);try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Et})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=an(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:l_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Et})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rd});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){kr(e);try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Et})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){kr(e);try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Et})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){kr(e);try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Et})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){kr(e.userId);try{const{data:r,error:n}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(e){kr(e.userId),kr(e.id);try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rd});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(R(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await N(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await N(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await N(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}};function nd(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const er={debug:!!(globalThis&&sg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class du extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let og=class extends du{};class c_ extends du{}async function ag(t,e,r){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new og(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const sd={};async function d_(t,e,r){var n;const s=(n=sd[t])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,a)=>{setTimeout(()=>{a(new c_(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return sd[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function h_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function f_(t){return parseInt(t,16)}function p_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function g_(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=lg(t.address),m=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",k=`${m} wants you to sign in with your Ethereum account:
${g}

${w}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const f of u){if(!f||typeof f!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${f}`);p+=`
- ${f}`}y+=p}return`${k}
${y}`}class ee extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ii extends ee{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function m_({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(ug(o)){if(i.rp.id!==o)return new ee({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function y_({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(ug(n)){if(r.rpId!==n)return new ee({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class v_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const w_=new v_;function __(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=an(t,["challenge","user","excludeCredentials"]),i=Wr(e).buffer,o=Object.assign(Object.assign({},r),{id:Wr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Wr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function k_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=an(t,["challenge","allowCredentials"]),s=Wr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Wr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function S_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:or(new Uint8Array(t.response.attestationObject)),clientDataJSON:or(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function x_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:or(new Uint8Array(s.authenticatorData)),clientDataJSON:or(new Uint8Array(s.clientDataJSON)),signature:or(new Uint8Array(s.signature)),userHandle:s.userHandle?or(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ug(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function id(){var t,e;return!!(le()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function E_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ii("Browser returned unexpected credential type",e)}:{data:null,error:new Ii("Empty credential response",e)}}catch(e){return{data:null,error:m_({error:e,options:t})}}}async function b_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ii("Browser returned unexpected credential type",e)}:{data:null,error:new Ii("Empty credential response",e)}}catch(e){return{data:null,error:y_({error:e,options:t})}}}const j_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},T_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $i(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=$i(a,o):n[i]=$i(o)}else n[i]=o}return n}function C_(t,e){return $i(j_,t,e||{})}function O_(t,e){return $i(T_,t,e||{})}class P_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??w_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=C_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await E_({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=O_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await b_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new xt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new en("rpId is required for WebAuthn authentication")};try{if(!id())return{data:null,error:new xt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new xt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new en("rpId is required for WebAuthn registration")};try{if(!id())return{data:null,error:new xt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new xt("Unexpected error in register",o)}}}}h_();const R_={url:Rw,storageKey:Nw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Aw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function od(t,e,r){return await r()}const Sr={};let hu=class rl{get jwks(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},R_),e);if(this.storageKey=i.storageKey,this.instanceID=(r=rl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,rl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&le()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cu({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ig(i.fetch),this.lock=i.lock||od,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&le()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ag:this.lock=od,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new P_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:sg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nd(this.memoryStorage)),le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(le()&&(r=Ww(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),le()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?this._returnResult({error:r}):this._returnResult({error:new xt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await _r(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:m},xform:qe})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qe})}else throw new bn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ae(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ae(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:td})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:td})}else throw new bn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Xt;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,d,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:w,wallet:k,statement:y,options:p}=e;let f;if(le())if(typeof k=="object")f=k;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")f=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");f=k}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),S=await f.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=lg(S[0]);let b=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!b){const U=await f.request({method:"eth_chainId"});b=f_(U)}const T={domain:_.host,address:E,statement:y,uri:_.href,version:"1",chainId:b,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=g_(T),m=await f.request({method:"personal_sign",params:[p_(g),E]})}try{const{data:w,error:k}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qe});if(k)throw k;if(!w||!w.session||!w.user){const y=new Xt;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:k})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,d,h,g;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:k,wallet:y,statement:p,options:f}=e;let _;if(le())if(typeof y=="object")_=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let b;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")b=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)b=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)m=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),w=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((d=(c=f==null?void 0:f.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...f.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:k,error:y}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:or(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:qe});if(y)throw y;if(!k||!k.session||!k.user){const p=new Xt;return this._returnResult({data:{user:null,session:null},error:p})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:y})}catch(k){if(R(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const r=await Gt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qe});if(await ae(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Xt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ae(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qe}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Xt;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await _r(this.storage,this.storageKey));const{error:d}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new bn("You must provide either an email or phone number.")}catch(a){if(await ae(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await _r(this.storage,this.storageKey));const u=await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:a_});return!((i=u.data)===null||i===void 0)&&i.url&&le()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ae(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Se;const{error:s}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(R(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await N(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await N(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new bn("You must provide either an email or phone number and a type")}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Fo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Gt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Wo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=n_(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Et}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Se}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(r){if(R(r))return tg(r)&&(await this._removeSession(),await ae(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Se;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await _r(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Et});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ae(this.storage,`${this.storageKey}-code-verifier`),R(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Se;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Vo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Se;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!le())throw new jn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new el("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new el("No code detected.");const{data:p,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new jn("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=h-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(eg(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ae(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Vw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await _r(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ae(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return le()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(R(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qe}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Xt}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(s){if(await ae(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Kw(async s=>(s>0&&await Hw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zs(i)&&Date.now()+o-n<xr})}catch(n){if(this._debug(r,"error",n),R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),le()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Gt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Gt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Er(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Wo()}else if(s&&!s.user&&!s.user){const o=await Gt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ae(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,s)):s.user=Wo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Fo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Zs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Se;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new oo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Se;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={data:null,error:i};return Zs(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ae(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Er(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Zc(s);await Er(this.storage,this.storageKey,i)}else{const s=Zc(r);await Er(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ae(this.storage,this.storageKey),await ae(this.storage,this.storageKey+"-code-verifier"),await ae(this.storage,this.storageKey+"-user"),this.userStorage&&await ae(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&le()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xr}ms, refresh threshold is ${Xa} ticks`),s<=Xa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof du)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!le()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await _r(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?S_(e.webauthn.credential_response):x_(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:__(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:k_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Vo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await N(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Se})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Se});const o=await N(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&le()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Se});const o=await N(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&le()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await N(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Se})})}catch(e){if(R(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await N(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Se})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+$w>s)return n;const{data:i,error:o}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:m}=await this.getSession();if(m||!g.session)return this._returnResult({data:null,error:m});n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Vo(n);r!=null&&r.allowExpired||e_(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const c=t_(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,zw(`${a}.${l}`)))throw new Ni("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}};hu.nextInstanceID={};const N_=cu,A_=hu,I_=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:N_,AuthApiError:Zp,AuthClient:A_,AuthError:en,AuthImplicitGrantRedirectError:jn,AuthInvalidCredentialsError:bn,AuthInvalidJwtError:Ni,AuthInvalidTokenResponseError:Xt,AuthPKCEGrantCodeExchangeError:el,AuthRetryableFetchError:Ri,AuthSessionMissingError:Se,AuthUnknownError:xt,AuthWeakPasswordError:tl,CustomAuthError:yt,GoTrueAdminApi:cu,GoTrueClient:hu,NavigatorLockAcquireTimeoutError:og,SIGN_OUT_SCOPES:ei,isAuthApiError:eg,isAuthError:R,isAuthImplicitGrantRedirectError:rg,isAuthRetryableFetchError:Zs,isAuthSessionMissingError:tg,isAuthWeakPasswordError:Lw,lockInternals:er,navigatorLock:ag,processLock:d_},Symbol.toStringTag,{value:"Module"})),cg=ns(I_);Object.defineProperty(io,"__esModule",{value:!0});io.SupabaseAuthClient=void 0;const $_=cg;class L_ extends $_.AuthClient{constructor(e){super(e)}}io.SupabaseAuthClient=L_;Object.defineProperty(ji,"__esModule",{value:!0});const U_=gp,D_=ge,M_=Ip,B_=jw,Ds=Gp,z_=Jp,ad=Wt,F_=io;let V_=class{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=(0,ad.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Ds.DEFAULT_DB_OPTIONS,realtime:Ds.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Ds.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Ds.DEFAULT_GLOBAL_OPTIONS},c=(0,ad.applySettingDefaults)(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=(0,z_.fetchWithAuth)(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new D_.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new B_.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new U_.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F_.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new M_.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};ji.default=V_;(function(t){var e=yr&&yr.__createBinding||(Object.create?function(c,d,h,g){g===void 0&&(g=h);var m=Object.getOwnPropertyDescriptor(d,h);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(c,g,m)}:function(c,d,h,g){g===void 0&&(g=h),c[g]=d[h]}),r=yr&&yr.__exportStar||function(c,d){for(var h in c)h!=="default"&&!Object.prototype.hasOwnProperty.call(d,h)&&e(d,c,h)},n=yr&&yr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=n(ji);r(cg,t);var i=ge;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=gp;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(Ip,t);var a=ji;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const l=(c,d,h)=>new s.default(c,d,h);t.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const c=process.version;if(c==null)return!1;const d=c.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(nu);const dg=nl(nu),W_=ud({__proto__:null,default:dg},[nu]),{PostgrestError:Pk,FunctionsHttpError:Rk,FunctionsFetchError:Nk,FunctionsRelayError:Ak,FunctionsError:Ik,FunctionRegion:$k,SupabaseClient:Lk,createClient:q_,GoTrueAdminApi:Uk,GoTrueClient:Dk,AuthAdminApi:Mk,AuthClient:Bk,navigatorLock:zk,NavigatorLockAcquireTimeoutError:Fk,lockInternals:Vk,processLock:Wk,SIGN_OUT_SCOPES:qk,AuthError:Hk,AuthApiError:Kk,AuthUnknownError:Gk,CustomAuthError:Jk,AuthSessionMissingError:Qk,AuthInvalidTokenResponseError:Yk,AuthInvalidCredentialsError:Xk,AuthImplicitGrantRedirectError:Zk,AuthPKCEGrantCodeExchangeError:eS,AuthRetryableFetchError:tS,AuthWeakPasswordError:rS,AuthInvalidJwtError:nS,isAuthError:sS,isAuthApiError:iS,isAuthSessionMissingError:oS,isAuthImplicitGrantRedirectError:aS,isAuthRetryableFetchError:lS,isAuthWeakPasswordError:uS,RealtimePresence:cS,RealtimeChannel:dS,RealtimeClient:hS,REALTIME_LISTEN_TYPES:fS,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:pS,REALTIME_PRESENCE_LISTEN_EVENTS:gS,REALTIME_SUBSCRIBE_STATES:mS,REALTIME_CHANNEL_STATES:yS}=dg||W_,H_="https://zwbxdigamokvzfotdavl.supabase.co",K_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3YnhkaWdhbW9rdnpmb3RkYXZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1OTMwMjAsImV4cCI6MjA4MTE2OTAyMH0.VFTvo2gIxK0THo8uMkkdfdcrS2a0VRUSR3h8jXUdGvs",Le=q_(H_,K_),Ut=Cv((t,e)=>({products:[],sales:[],loading:!1,user:null,session:null,authInitialized:!1,checkSession:async()=>{const{data:{session:r}}=await Le.auth.getSession();t({session:r,user:(r==null?void 0:r.user)||null,authInitialized:!0}),Le.auth.onAuthStateChange((n,s)=>{t({session:s,user:(s==null?void 0:s.user)||null,authInitialized:!0})})},signOut:async()=>{await Le.auth.signOut(),t({session:null,user:null})},fetchData:async()=>{t({loading:!0});const{data:r}=await Le.from("products").select("*"),{data:n}=await Le.from("sales").select("*, items:sale_items(*)");t({products:r||[],sales:n||[],loading:!1})},addProduct:async r=>{const{data:n,error:s}=await Le.from("products").insert([r]).select().single();n&&t(i=>({products:[...i.products,n]}))},updateProduct:async(r,n)=>{const{data:s,error:i}=await Le.from("products").update(n).eq("id",r).select().single();s&&t(o=>({products:o.products.map(a=>a.id===r?s:a)}))},deleteProduct:async r=>{await Le.from("products").delete().eq("id",r),t(n=>({products:n.products.filter(s=>s.id!==r)}))},addSale:async r=>{const{data:n,error:s}=await Le.from("sales").insert([{total:r.total,payment_method:r.payment_method,customer_name:r.customer_name,customer_phone:r.customer_phone,sale_date:r.sale_date||new Date().toISOString()}]).select().single();if(s||!n)return;const i=r.items.map(a=>({sale_id:n.id,product_id:a.productId,quantity:a.quantity,price:a.price,product_name:a.name}));await Le.from("sale_items").insert(i);const o=[...e().products];for(const a of r.items){const l=o.find(u=>u.id===a.productId);if(l){const u=l.stock-a.quantity;l.stock=u,await Le.from("products").update({stock:u}).eq("id",a.productId)}}t(a=>({sales:[...a.sales,{...n,items:i}],products:o}))}}));function G_(){const t=on(),{fetchData:e,user:r,signOut:n}=Ut(),[s,i]=x.useState(!1),[o,a]=x.useState(()=>localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches);x.useEffect(()=>{e(),o?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[o]);const l=[{path:"/",label:"Dashboard",icon:G0},{path:"/inventory",label:"Estoque",icon:$f},{path:"/sales",label:"Vendas",icon:Uf}];return v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col md:flex-row transition-colors duration-300",children:[v.jsx("div",{className:"md:hidden fixed top-0 w-full z-20 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center transition-colors duration-300",children:v.jsxs("div",{className:"flex items-center justify-center w-full relative",children:[v.jsx("h1",{className:"text-4xl font-normal text-pink-600 dark:text-pink-400 font-['Great_Vibes'] tracking-wider drop-shadow-sm",children:"Angel Fit"}),v.jsxs("div",{className:"absolute right-0 flex items-center gap-3",children:[v.jsx("button",{onClick:()=>a(!o),className:"text-gray-500 dark:text-gray-400 p-1",children:o?v.jsx(Lc,{className:"w-5 h-5"}):v.jsx($c,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>n(),className:"text-gray-500 dark:text-gray-400 p-1",children:v.jsx(Ic,{className:"w-5 h-5"})})]})]})}),v.jsxs("nav",{className:"hidden md:flex bg-white dark:bg-gray-800 shadow-md z-10 w-64 h-screen flex-col border-r border-gray-100 dark:border-gray-700 transition-colors duration-300",children:[v.jsx("div",{className:"p-6 flex items-center justify-center border-b border-gray-100 dark:border-gray-700",children:v.jsx("h1",{className:"text-4xl font-normal text-pink-600 dark:text-pink-400 font-['Great_Vibes'] tracking-widest drop-shadow-md whitespace-nowrap",children:"Angel Fit"})}),v.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:v.jsx("ul",{className:"space-y-1",children:l.map(u=>{const c=u.icon,d=t.pathname===u.path;return v.jsx("li",{children:v.jsxs(Pc,{to:u.path,className:`flex items-center px-6 py-3 transition-colors ${d?"text-pink-600 dark:text-pink-400 bg-pink-50 dark:bg-pink-900/20 border-r-4 border-pink-600 dark:border-pink-400":"text-gray-500 dark:text-gray-400 hover:text-pink-500 dark:hover:text-pink-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[v.jsx(c,{className:"w-5 h-5 mr-3"}),v.jsx("span",{className:"text-sm font-medium",children:u.label})]})},u.path)})})}),v.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 flex flex-col gap-4",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs text-gray-400",children:"Logado como:"}),v.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 truncate",title:r==null?void 0:r.email,children:r==null?void 0:r.email})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("button",{onClick:()=>a(!o),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition",children:o?v.jsx(Lc,{className:"w-5 h-5"}):v.jsx($c,{className:"w-5 h-5"})}),v.jsxs("button",{onClick:()=>n(),className:"flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:[v.jsx(Ic,{className:"w-5 h-5 mr-2"}),v.jsx("span",{className:"text-sm font-medium",children:"Sair"})]})]})]})]}),v.jsx("div",{className:"md:hidden fixed bottom-0 w-full bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-20 flex justify-around p-2",children:l.map(u=>{const c=u.icon,d=t.pathname===u.path;return v.jsxs(Pc,{to:u.path,className:`flex flex-col items-center p-2 rounded-lg ${d?"text-pink-600 dark:text-pink-400":"text-gray-500 dark:text-gray-400"}`,children:[v.jsx(c,{className:"w-6 h-6"}),v.jsx("span",{className:"text-[10px] mt-1",children:u.label})]},u.path)})}),v.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8 pt-20 pb-24 md:pt-8 md:pb-8 transition-colors duration-300",children:v.jsx(If,{})})]})}function J_(){const{products:t,sales:e}=Ut(),r=x.useMemo(()=>{const s=t.length,i=t.filter(m=>m.stock<=m.minStock).length,o=new Date().toISOString().split("T")[0],a=e.filter(m=>m.sale_date&&m.sale_date.startsWith(o)).reduce((m,w)=>m+w.total,0),l=e.reduce((m,w)=>m+w.total,0),u=e.reduce((m,w)=>m+(w.items?w.items.reduce((k,y)=>k+y.quantity,0):0),0),c=t.reduce((m,w)=>m+w.cost*w.stock,0),d={},h={};t.forEach(m=>{const w=m.category||"Sem Categoria";d[w]||(d[w]={stock:0,cost:0,sales:0}),d[w].stock+=m.stock,d[w].cost+=m.cost*m.stock;const k=m.color||"Sem Cor";h[k]||(h[k]={stock:0,cost:0,sales:0}),h[k].stock+=m.stock,h[k].cost+=m.cost*m.stock});const g=t.reduce((m,w)=>(m[w.id]=w,m),{});return e.forEach(m=>{m.items&&m.items.forEach(w=>{const k=g[w.product_id];if(k){const y=w.price*w.quantity,p=k.category||"Sem Categoria";d[p]||(d[p]={stock:0,cost:0,sales:0}),d[p].sales+=y;const f=k.color||"Sem Cor";h[f]||(h[f]={stock:0,cost:0,sales:0}),h[f].sales+=y}})}),{totalProducts:s,lowStock:i,salesToday:a,totalRevenue:l,itemsSold:u,totalCost:c,byCategory:d,byColor:h}},[t,e]),n=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s);return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Viso Geral"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[v.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full text-green-600 dark:text-green-400 mr-4",children:v.jsx(Ac,{className:"w-8 h-8"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Vendas Hoje"}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.salesToday)})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[v.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-full text-indigo-600 dark:text-indigo-400 mr-4",children:v.jsx(Ac,{className:"w-8 h-8"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Total Vendido"}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.totalRevenue)}),v.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.itemsSold," peas vendidas"]})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[v.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full text-purple-600 dark:text-purple-400 mr-4",children:v.jsx($f,{className:"w-8 h-8"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Custo do Estoque"}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.totalCost)})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[v.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-full text-orange-600 dark:text-orange-400 mr-4",children:v.jsx(K0,{className:"w-8 h-8"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Estoque Baixo"}),v.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[r.lowStock," itens"]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsx(ld,{title:"Desempenho por Categoria",data:r.byCategory,label:"Categoria",formatCurrency:n}),v.jsx(ld,{title:"Desempenho por Cor",data:r.byColor,label:"Cor",formatCurrency:n})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[v.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:v.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Vendas Recentes"})}),v.jsx("div",{className:"p-6 text-gray-500 dark:text-gray-400 text-center",children:e.length===0?"Nenhuma venda registrada ainda.":v.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:e.slice(-5).reverse().map(s=>v.jsxs("li",{className:"py-3 flex justify-between items-center text-left",children:[v.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:new Date(s.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),v.jsxs("span",{children:[s.items.length," itens"]}),v.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s.total)})]},s.id))})})]})]})}function ld({title:t,data:e,label:r,formatCurrency:n}){const[s,i]=x.useReducer((c,d)=>c.key===d?{key:d,direction:c.direction==="desc"?"asc":"desc"}:{key:d,direction:"desc"},{key:"sales",direction:"desc"}),o=x.useMemo(()=>Object.entries(e).map(([c,d])=>({name:c,...d})),[e]),a=x.useMemo(()=>{const c=[...o];return c.sort((d,h)=>d[s.key]<h[s.key]?s.direction==="asc"?-1:1:d[s.key]>h[s.key]?s.direction==="asc"?1:-1:0),c},[o,s]),l=c=>s.key!==c?null:s.direction==="asc"?" ":" ",u=({_key:c,text:d,align:h="right"})=>v.jsxs("th",{className:`px-6 py-3 text-${h} cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/50 transition select-none`,onClick:()=>i(c),children:[d," ",l(c)]});return v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-96",children:[v.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 sticky top-0",children:v.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:t})}),v.jsx("div",{className:"overflow-auto flex-1",children:v.jsxs("table",{className:"min-w-full text-sm text-left",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 dark:text-gray-400 font-medium sticky top-0 shadow-sm",children:v.jsxs("tr",{children:[v.jsx(u,{_key:"name",text:r,align:"left"}),v.jsx(u,{_key:"stock",text:"Estoque"}),v.jsx(u,{_key:"cost",text:"$$ Custo"}),v.jsx(u,{_key:"sales",text:"$$ Vendas"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:a.map(c=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[v.jsx("td",{className:"px-6 py-3 font-medium text-gray-900 dark:text-white",children:c.name}),v.jsxs("td",{className:"px-6 py-3 text-right text-gray-600 dark:text-gray-400",children:[c.stock," un"]}),v.jsx("td",{className:"px-6 py-3 text-right text-gray-600 dark:text-gray-400",children:n(c.cost)}),v.jsx("td",{className:"px-6 py-3 text-right font-medium text-green-600 dark:text-green-400",children:n(c.sales)})]},c.name))})]})})]})}const Q_=["Top","Conjunto","Shorts","Macaco","Conjunto Importado","Cala"],Y_=["P","M","G","GG","P/M","G/GG"],X_=["Preto","Verde","Azul","Rosa","Rose","Roxo","Vermelho","Marrom","Cinza","Azul Marinho","Branco"];function Z_(){const{products:t,fetchData:e,addProduct:r,deleteProduct:n,updateProduct:s}=Ut();x.useEffect(()=>{e()},[]);const[i,o]=x.useState(!1),[a,l]=x.useState(null),[u,c]=x.useState({name:"",supplier:"",category:"",color:"",size:"",price:"",cost:"",stock:"",min_stock:""}),d=async f=>{f.preventDefault();const _={...u,price:Number(u.price),cost:Number(u.cost),stock:Number(u.stock),min_stock:Number(u.min_stock)};a?await s(a,_):await r(_),g()},h=f=>{c({name:f.name,supplier:f.supplier||"",category:f.category,color:f.color||"",size:f.size,price:f.price,cost:f.cost,stock:f.stock,min_stock:f.min_stock||0}),l(f.id),o(!0)},g=()=>{c({name:"",supplier:"",category:"",color:"",size:"",price:"",cost:"",stock:"",min_stock:""}),o(!1),l(null)},[m,w]=x.useReducer((f,_)=>f.key===_?{key:_,direction:f.direction==="desc"?"asc":"desc"}:{key:_,direction:"asc"},{key:"name",direction:"asc"}),k=x.useMemo(()=>{const f=[...t];return f.sort((_,S)=>{let E=_[m.key],b=S[m.key];return m.key==="category"&&(E=`${_.supplier} | ${_.category}`,b=`${S.supplier} | ${S.category}`),E<b?m.direction==="asc"?-1:1:E>b?m.direction==="asc"?1:-1:0}),f},[t,m]),y=f=>m.key!==f?null:m.direction==="asc"?" ":" ",p=({_key:f,label:_})=>v.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/50 select-none",onClick:()=>w(f),children:[_," ",y(f)]});return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Gerenciar Estoque"}),!i&&v.jsxs("button",{onClick:()=>o(!0),className:"bg-pink-600 text-white px-4 py-2 rounded-lg flex items-center hover:bg-pink-700 transition",children:[v.jsx(Lf,{className:"w-5 h-5 mr-2"}),"Novo Produto"]})]}),i&&v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[v.jsxs("div",{className:"flex justify-between mb-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a?"Editar Produto":"Novo Produto"}),v.jsx("button",{onClick:g,children:v.jsx(tv,{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"})})]}),v.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome do Produto"}),v.jsx("input",{required:!0,value:u.name,onChange:f=>c({...u,name:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fornecedor"}),v.jsx("input",{required:!0,value:u.supplier,onChange:f=>c({...u,supplier:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),v.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Categoria"}),v.jsx("input",{list:"categories",value:u.category,onChange:f=>c({...u,category:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Selecione ou digite"}),v.jsx("datalist",{id:"categories",children:Q_.map(f=>v.jsx("option",{value:f},f))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cor"}),v.jsx("input",{list:"colors",value:u.color,onChange:f=>c({...u,color:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Selecione ou digite"}),v.jsx("datalist",{id:"colors",children:X_.map(f=>v.jsx("option",{value:f},f))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tamanho"}),v.jsx("input",{list:"sizes",value:u.size,onChange:f=>c({...u,size:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Selecione ou digite"}),v.jsx("datalist",{id:"sizes",children:Y_.map(f=>v.jsx("option",{value:f},f))})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preo Venda (R$)"}),v.jsx("input",{type:"number",step:"0.01",required:!0,value:u.price,onChange:f=>c({...u,price:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Custo (R$)"}),v.jsx("input",{type:"number",step:"0.01",required:!0,value:u.cost,onChange:f=>c({...u,cost:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quantidade Atual"}),v.jsx("input",{type:"number",required:!0,value:u.stock,onChange:f=>c({...u,stock:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Estoque Mnimo"}),v.jsx("input",{type:"number",value:u.min_stock,onChange:f=>c({...u,min_stock:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),v.jsx("div",{className:"col-span-2 pt-4",children:v.jsxs("button",{type:"submit",className:"w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition font-medium flex justify-center items-center",children:[v.jsx(Y0,{className:"w-5 h-5 mr-2"}),"Salvar Produto"]})})]})]}),v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:v.jsxs("tr",{children:[v.jsx(p,{_key:"name",label:"Produto"}),v.jsx(p,{_key:"color",label:"Cor/Tam"}),v.jsx(p,{_key:"stock",label:"Estoque"}),v.jsx(p,{_key:"price",label:"Preo"}),v.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Aes"})]})}),v.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:k.map(f=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f.name}),v.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.supplier," | ",f.category]})]}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[f.color?`${f.color} / `:"",f.size]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.stock<=(f.min_stock||0)?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:[f.stock," un"]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f.price)}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[v.jsx("button",{onClick:()=>h(f),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",children:v.jsx(Q0,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>n(f.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:v.jsx(Z0,{className:"w-5 h-5"})})]})]},f.id))})]})})})]})}function ek(){const{products:t,addSale:e}=Ut(),[r,n]=x.useState(""),[s,i]=x.useState([]),o=x.useMemo(()=>t.filter(_=>_.name.toLowerCase().includes(r.toLowerCase())||_.category.toLowerCase().includes(r.toLowerCase())),[t,r]),a=_=>{i(S=>{const E=S.find(b=>b.productId===_.id);return E?E.quantity>=_.stock?S:S.map(b=>b.productId===_.id?{...b,quantity:b.quantity+1}:b):[...S,{productId:_.id,name:_.name,price:_.price,quantity:1}]})},l=_=>{i(S=>S.filter(E=>E.productId!==_))},u=(_,S)=>{i(E=>E.map(b=>{if(b.productId===_){const T=b.quantity+S,U=t.find($=>$.id===_);return T<1||T>U.stock?b:{...b,quantity:T}}return b}))},c=x.useMemo(()=>s.reduce((_,S)=>_+S.price*S.quantity,0),[s]),[d,h]=x.useState(""),[g,m]=x.useState(""),[w,k]=x.useState(""),y=()=>{if(s.length!==0){if(!d.trim()){alert("Por favor, informe o nome da cliente.");return}e({items:s,total:c,paymentMethod:"Dinheiro",customer_name:d,customer_phone:g,sale_date:w?new Date(w).toISOString():new Date().toISOString()}),i([]),h(""),m(""),k(""),alert("Venda realizada com sucesso!")}},[p,f]=x.useState("products");return v.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-[calc(100vh-140px)]",children:[v.jsxs("div",{className:"md:hidden flex bg-white dark:bg-gray-800 rounded-lg p-1 shadow-sm mb-4",children:[v.jsx("button",{onClick:()=>f("products"),className:`flex-1 py-2 text-sm font-medium rounded-md transition ${p==="products"?"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300":"text-gray-500 dark:text-gray-400"}`,children:"Produtos"}),v.jsxs("button",{onClick:()=>f("cart"),className:`flex-1 py-2 text-sm font-medium rounded-md transition ${p==="cart"?"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300":"text-gray-500 dark:text-gray-400"}`,children:["Carrinho (",s.reduce((_,S)=>_+S.quantity,0),")"]})]}),v.jsxs("div",{className:`flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col overflow-hidden transition-colors ${p==="cart"?"hidden md:flex":"flex"}`,children:[v.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700",children:v.jsxs("div",{className:"relative",children:[v.jsx(X0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:r,onChange:_=>n(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400"})]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 content-start",children:o.map(_=>v.jsxs("div",{onClick:()=>_.stock>0&&a(_),className:`p-4 border rounded-lg cursor-pointer transition dark:border-gray-600 ${_.stock>0?"hover:border-pink-500 hover:shadow-md bg-white dark:bg-gray-700 dark:hover:border-pink-400":"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-gray-800"}`,children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:_.name}),v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.size," | ",_.category]})]}),v.jsx("span",{className:"font-bold text-pink-600 dark:text-pink-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.price)})]}),v.jsxs("div",{className:"mt-2 text-xs font-medium text-gray-400 dark:text-gray-500",children:["Estoque: ",_.stock]})]},_.id))})]}),v.jsxs("div",{className:`w-full md:w-96 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col transition-colors ${p==="products"?"hidden md:flex":"flex"}`,children:[v.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50 rounded-t-xl",children:v.jsxs("h2",{className:"font-bold text-gray-800 dark:text-white flex items-center",children:[v.jsx(Uf,{className:"w-5 h-5 mr-2"}),"Carrinho"]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:s.length===0?v.jsx("div",{className:"text-center text-gray-400 mt-10",children:"Carrinho vazio"}):s.map(_=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-white",children:_.name}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.price)})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("button",{onClick:()=>u(_.productId,-1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:v.jsx(J0,{className:"w-4 h-4"})}),v.jsx("span",{className:"text-sm font-medium w-6 text-center text-gray-900 dark:text-white",children:_.quantity}),v.jsx("button",{onClick:()=>u(_.productId,1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:v.jsx(Lf,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>l(_.productId),className:"ml-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded",children:v.jsx(ev,{className:"w-4 h-4"})})]})]},_.productId))}),v.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50 rounded-b-xl space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Cliente"}),v.jsx("input",{type:"text",value:d,onChange:_=>h(_.target.value),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Ex: Maria Silva"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone (Opcional)"}),v.jsx("input",{type:"tel",value:g,onChange:_=>m(_.target.value),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"(11) 99999-9999"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Data (Opcional)"}),v.jsx("input",{type:"date",value:w,onChange:_=>k(_.target.value),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),v.jsx("span",{className:"text-xs text-gray-400",children:"Deixe vazio para hoje"})]}),v.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-gray-600",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total"}),v.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)})]}),v.jsx("button",{onClick:y,disabled:s.length===0,className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Finalizar Venda"})]})]})]})}const tk=["rafaelmontes92@outlook.com","angelica.sfm@hotmail.com"];function rk(){const[t,e]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(!1),[o,a]=x.useState(""),[l,u]=x.useState(""),c=ru(),d=async h=>{if(h.preventDefault(),i(!0),a(""),u(""),!tk.includes(t.trim().toLowerCase())){u("Access Denied: This email is not authorized to access Angel Fit."),i(!1);return}try{const{data:g,error:m}=await Le.auth.signInWithPassword({email:t,password:r});if(m)throw m;g.user&&c("/")}catch(g){u(g.message)}finally{i(!1)}};return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-neutral-900 text-white p-4",children:v.jsxs("div",{className:"w-full max-w-md p-8 bg-neutral-800 rounded-2xl shadow-xl border border-neutral-700",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6 text-center bg-gradient-to-r from-pink-500 to-rose-400 bg-clip-text text-transparent",children:"Angel Fit Login"}),o&&v.jsx("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/50 text-green-400 rounded-lg text-sm text-center",children:o}),l&&v.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/50 text-red-400 rounded-lg text-sm text-center",children:l}),v.jsxs("form",{onSubmit:d,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-400 mb-1",children:"Email"}),v.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-2 bg-neutral-900 border border-neutral-700 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all text-white placeholder-neutral-600",placeholder:"Enter your email",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-400 mb-1",children:"Senha"}),v.jsx("input",{type:"password",value:r,onChange:h=>n(h.target.value),className:"w-full px-4 py-2 bg-neutral-900 border border-neutral-700 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all text-white placeholder-neutral-600",placeholder:"Enter your password",required:!0,minLength:6})]}),v.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-gradient-to-r from-pink-600 to-rose-500 hover:from-pink-500 hover:to-rose-400 text-white font-semibold rounded-lg shadow-lg hover:shadow-pink-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Processando...":"Entrar"})]})]})})}const nk=["rafaelmontes92@outlook.com","angelica.sfm@hotmail.com"];function sk(){const t=Ut(s=>s.session),e=Ut(s=>s.user);if(!Ut(s=>s.authInitialized))return v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-neutral-900 text-white",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500"})});if(!t)return v.jsx(N0,{to:"/login",replace:!0});const n=e==null?void 0:e.email;return n&&!nk.includes(n)?v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-neutral-900 text-white",children:v.jsxs("div",{className:"text-center p-8",children:[v.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-2",children:"Access Denied"}),v.jsxs("p",{className:"text-neutral-400",children:["Your email (",n,") is not authorized."]})]})}):v.jsx(If,{})}function ik(){const t=Ut(e=>e.checkSession);return x.useEffect(()=>{t()},[t]),v.jsx(z0,{children:v.jsxs(I0,{children:[v.jsx(Yt,{path:"/login",element:v.jsx(rk,{})}),v.jsx(Yt,{element:v.jsx(sk,{}),children:v.jsxs(Yt,{path:"/",element:v.jsx(G_,{}),children:[v.jsx(Yt,{index:!0,element:v.jsx(J_,{})}),v.jsx(Yt,{path:"inventory",element:v.jsx(Z_,{})}),v.jsx(Yt,{path:"sales",element:v.jsx(ek,{})})]})})]})})}Ef(document.getElementById("root")).render(v.jsx(x.StrictMode,{children:v.jsx(ik,{})}));
