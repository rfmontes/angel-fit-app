function hd(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function al(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ns(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var fd={exports:{}},Ui={},pd={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),gg=Symbol.for("react.portal"),mg=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),vg=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),_g=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),bg=Symbol.for("react.memo"),Sg=Symbol.for("react.lazy"),vu=Symbol.iterator;function Eg(t){return t===null||typeof t!="object"?null:(t=vu&&t[vu]||t["@@iterator"],typeof t=="function"?t:null)}var gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},md=Object.assign,yd={};function tn(t,e,r){this.props=t,this.context=e,this.refs=yd,this.updater=r||gd}tn.prototype.isReactComponent={};tn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vd(){}vd.prototype=tn.prototype;function ll(t,e,r){this.props=t,this.context=e,this.refs=yd,this.updater=r||gd}var ul=ll.prototype=new vd;ul.constructor=ll;md(ul,tn.prototype);ul.isPureReactComponent=!0;var wu=Array.isArray,wd=Object.prototype.hasOwnProperty,cl={current:null},_d={key:!0,ref:!0,__self:!0,__source:!0};function xd(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)wd.call(e,n)&&!_d.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ss,type:t,key:i,ref:o,props:s,_owner:cl.current}}function jg(t,e){return{$$typeof:ss,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dl(t){return typeof t=="object"&&t!==null&&t.$$typeof===ss}function Tg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var _u=/\/+/g;function ho(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tg(""+t.key):e.toString(36)}function Ms(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ss:case gg:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+ho(o,0):n,wu(s)?(r="",t!=null&&(r=t.replace(_u,"$&/")+"/"),Ms(s,e,r,"",function(u){return u})):s!=null&&(dl(s)&&(s=jg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_u,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",wu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+ho(i,a);o+=Ms(i,e,r,l,s)}else if(l=Eg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+ho(i,a++),o+=Ms(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fs(t,e,r){if(t==null)return t;var n=[],s=0;return Ms(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Cg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},Bs={transition:null},Og={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Bs,ReactCurrentOwner:cl};function kd(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:fs,forEach:function(t,e,r){fs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fs(t,function(){e++}),e},toArray:function(t){return fs(t,function(e){return e})||[]},only:function(t){if(!dl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=tn;L.Fragment=mg;L.Profiler=vg;L.PureComponent=ll;L.StrictMode=yg;L.Suspense=kg;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Og;L.act=kd;L.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=md({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=cl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wd.call(e,l)&&!_d.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ss,type:t.type,key:s,ref:i,props:n,_owner:o}};L.createContext=function(t){return t={$$typeof:_g,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wg,_context:t},t.Consumer=t};L.createElement=xd;L.createFactory=function(t){var e=xd.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:xg,render:t}};L.isValidElement=dl;L.lazy=function(t){return{$$typeof:Sg,_payload:{_status:-1,_result:t},_init:Cg}};L.memo=function(t,e){return{$$typeof:bg,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=Bs.transition;Bs.transition={};try{t()}finally{Bs.transition=e}};L.unstable_act=kd;L.useCallback=function(t,e){return xe.current.useCallback(t,e)};L.useContext=function(t){return xe.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};L.useEffect=function(t,e){return xe.current.useEffect(t,e)};L.useId=function(){return xe.current.useId()};L.useImperativeHandle=function(t,e,r){return xe.current.useImperativeHandle(t,e,r)};L.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return xe.current.useMemo(t,e)};L.useReducer=function(t,e,r){return xe.current.useReducer(t,e,r)};L.useRef=function(t){return xe.current.useRef(t)};L.useState=function(t){return xe.current.useState(t)};L.useSyncExternalStore=function(t,e,r){return xe.current.useSyncExternalStore(t,e,r)};L.useTransition=function(){return xe.current.useTransition()};L.version="18.3.1";pd.exports=L;var S=pd.exports;const bd=al(S),Ng=hd({__proto__:null,default:bd},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=S,Rg=Symbol.for("react.element"),Ag=Symbol.for("react.fragment"),Ig=Object.prototype.hasOwnProperty,$g=Pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lg={key:!0,ref:!0,__self:!0,__source:!0};function Sd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ig.call(e,n)&&!Lg.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Rg,type:t,key:i,ref:o,props:s,_owner:$g.current}}Ui.Fragment=Ag;Ui.jsx=Sd;Ui.jsxs=Sd;fd.exports=Ui;var d=fd.exports,Ed={exports:{}},Le={},jd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,A){var I=N.length;N.push(A);e:for(;0<I;){var Y=I-1>>>1,oe=N[Y];if(0<s(oe,A))N[Y]=A,N[I]=oe,I=Y;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var A=N[0],I=N.pop();if(I!==A){N[0]=I;e:for(var Y=0,oe=N.length,ds=oe>>>1;Y<ds;){var Ht=2*(Y+1)-1,co=N[Ht],Kt=Ht+1,hs=N[Kt];if(0>s(co,I))Kt<oe&&0>s(hs,co)?(N[Y]=hs,N[Kt]=I,Y=Kt):(N[Y]=co,N[Ht]=I,Y=Ht);else if(Kt<oe&&0>s(hs,I))N[Y]=hs,N[Kt]=I,Y=Kt;else break e}}return A}function s(N,A){var I=N.sortIndex-A.sortIndex;return I!==0?I:N.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,g=3,v=!1,m=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(N){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=N)n(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=r(u)}}function x(N){if(w=!1,f(N),!m)if(r(l)!==null)m=!0,lo(k);else{var A=r(u);A!==null&&uo(x,A.startTime-N)}}function k(N,A){m=!1,w&&(w=!1,y(T),T=-1),v=!0;var I=g;try{for(f(A),h=r(l);h!==null&&(!(h.expirationTime>A)||N&&!Ne());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,g=h.priorityLevel;var oe=Y(h.expirationTime<=A);A=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(l)&&n(l),f(A)}else n(l);h=r(l)}if(h!==null)var ds=!0;else{var Ht=r(u);Ht!==null&&uo(x,Ht.startTime-A),ds=!1}return ds}finally{h=null,g=I,v=!1}}var b=!1,E=null,T=-1,U=5,$=-1;function Ne(){return!(t.unstable_now()-$<U)}function cn(){if(E!==null){var N=t.unstable_now();$=N;var A=!0;try{A=E(!0,N)}finally{A?dn():(b=!1,E=null)}}else b=!1}var dn;if(typeof p=="function")dn=function(){p(cn)};else if(typeof MessageChannel<"u"){var yu=new MessageChannel,pg=yu.port2;yu.port1.onmessage=cn,dn=function(){pg.postMessage(null)}}else dn=function(){_(cn,0)};function lo(N){E=N,b||(b=!0,dn())}function uo(N,A){T=_(function(){N(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||v||(m=!0,lo(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(N){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var I=g;g=A;try{return N()}finally{g=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var I=g;g=N;try{return A()}finally{g=I}},t.unstable_scheduleCallback=function(N,A,I){var Y=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Y+I:Y):I=Y,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=I+oe,N={id:c++,callback:A,priorityLevel:N,startTime:I,expirationTime:oe,sortIndex:-1},I>Y?(N.sortIndex=I,e(u,N),r(l)===null&&N===r(u)&&(w?(y(T),T=-1):w=!0,uo(x,I-Y))):(N.sortIndex=oe,e(l,N),m||v||(m=!0,lo(k))),N},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(N){var A=g;return function(){var I=g;g=A;try{return N.apply(this,arguments)}finally{g=I}}}})(Td);jd.exports=Td;var Ug=jd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=S,$e=Ug;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cd=new Set,Ln={};function pr(t,e){qr(t,e),qr(t+"Capture",e)}function qr(t,e){for(Ln[t]=e,t=0;t<e.length;t++)Cd.add(e[t])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=Object.prototype.hasOwnProperty,Mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xu={},ku={};function Bg(t){return Ko.call(ku,t)?!0:Ko.call(xu,t)?!1:Mg.test(t)?ku[t]=!0:(xu[t]=!0,!1)}function zg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fg(t,e,r,n){if(e===null||typeof e>"u"||zg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var hl=/[\-:]([a-z])/g;function fl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hl,fl);fe[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hl,fl);fe[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hl,fl);fe[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function pl(t,e,r,n){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fg(e,r,s,n)&&(r=null),n||s===null?Bg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var mt=Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Er=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),gl=Symbol.for("react.strict_mode"),Go=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Nd=Symbol.for("react.context"),ml=Symbol.for("react.forward_ref"),Jo=Symbol.for("react.suspense"),Qo=Symbol.for("react.suspense_list"),yl=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Pd=Symbol.for("react.offscreen"),bu=Symbol.iterator;function hn(t){return t===null||typeof t!="object"?null:(t=bu&&t[bu]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,fo;function _n(t){if(fo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);fo=e&&e[1]||""}return`
`+fo+t}var po=!1;function go(t,e){if(!t||po)return"";po=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{po=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_n(t):""}function Vg(t){switch(t.tag){case 5:return _n(t.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return t=go(t.type,!1),t;case 11:return t=go(t.type.render,!1),t;case 1:return t=go(t.type,!0),t;default:return""}}function Yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jr:return"Fragment";case Er:return"Portal";case Go:return"Profiler";case gl:return"StrictMode";case Jo:return"Suspense";case Qo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nd:return(t.displayName||"Context")+".Consumer";case Od:return(t._context.displayName||"Context")+".Provider";case ml:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yl:return e=t.displayName||null,e!==null?e:Yo(t.type)||"Memo";case xt:e=t._payload,t=t._init;try{return Yo(t(e))}catch{}}return null}function Wg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yo(e);case 8:return e===gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qg(t){var e=Rd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gs(t){t._valueTracker||(t._valueTracker=qg(t))}function Ad(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Rd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xo(t,e){var r=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Su(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Mt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Id(t,e){e=e.checked,e!=null&&pl(t,"checked",e,!1)}function Zo(t,e){Id(t,e);var r=Mt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ea(t,e.type,r):e.hasOwnProperty("defaultValue")&&ea(t,e.type,Mt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Eu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ea(t,e,r){(e!=="number"||ti(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xn=Array.isArray;function Ur(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ta(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ju(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(xn(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Mt(r)}}function $d(t,e){var r=Mt(e.value),n=Mt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Tu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ld(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ld(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ms,Ud=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ms.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Un(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hg=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(t){Hg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tn[e]=Tn[t]})});function Dd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Tn.hasOwnProperty(t)&&Tn[t]?(""+e).trim():e+"px"}function Md(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Dd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Kg=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(t,e){if(e){if(Kg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function sa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function vl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,Dr=null,Mr=null;function Cu(t){if(t=as(t)){if(typeof oa!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Fi(e),oa(t.stateNode,t.type,e))}}function Bd(t){Dr?Mr?Mr.push(t):Mr=[t]:Dr=t}function zd(){if(Dr){var t=Dr,e=Mr;if(Mr=Dr=null,Cu(t),e)for(t=0;t<e.length;t++)Cu(e[t])}}function Fd(t,e){return t(e)}function Vd(){}var mo=!1;function Wd(t,e,r){if(mo)return t(e,r);mo=!0;try{return Fd(t,e,r)}finally{mo=!1,(Dr!==null||Mr!==null)&&(Vd(),zd())}}function Dn(t,e){var r=t.stateNode;if(r===null)return null;var n=Fi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var aa=!1;if(ht)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){aa=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{aa=!1}function Gg(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Cn=!1,ri=null,ni=!1,la=null,Jg={onError:function(t){Cn=!0,ri=t}};function Qg(t,e,r,n,s,i,o,a,l){Cn=!1,ri=null,Gg.apply(Jg,arguments)}function Yg(t,e,r,n,s,i,o,a,l){if(Qg.apply(this,arguments),Cn){if(Cn){var u=ri;Cn=!1,ri=null}else throw Error(j(198));ni||(ni=!0,la=u)}}function gr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ou(t){if(gr(t)!==t)throw Error(j(188))}function Xg(t){var e=t.alternate;if(!e){if(e=gr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ou(s),t;if(i===n)return Ou(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function Hd(t){return t=Xg(t),t!==null?Kd(t):null}function Kd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kd(t);if(e!==null)return e;t=t.sibling}return null}var Gd=$e.unstable_scheduleCallback,Nu=$e.unstable_cancelCallback,Zg=$e.unstable_shouldYield,em=$e.unstable_requestPaint,Z=$e.unstable_now,tm=$e.unstable_getCurrentPriorityLevel,wl=$e.unstable_ImmediatePriority,Jd=$e.unstable_UserBlockingPriority,si=$e.unstable_NormalPriority,rm=$e.unstable_LowPriority,Qd=$e.unstable_IdlePriority,Di=null,st=null;function nm(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Di,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:om,sm=Math.log,im=Math.LN2;function om(t){return t>>>=0,t===0?32:31-(sm(t)/im|0)|0}var ys=64,vs=4194304;function kn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ii(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=kn(a):(i&=o,i!==0&&(n=kn(i)))}else o=r&~s,o!==0?n=kn(o):i!==0&&(n=kn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ye(e),s=1<<r,n|=t[r],e&=~s;return n}function am(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ye(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=am(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ua(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yd(){var t=ys;return ys<<=1,!(ys&4194240)&&(ys=64),t}function yo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function is(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=r}function um(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ye(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function _l(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ye(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var M=0;function Xd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zd,xl,eh,th,rh,ca=!1,ws=[],Nt=null,Pt=null,Rt=null,Mn=new Map,Bn=new Map,bt=[],cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(t,e){switch(t){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Mn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(e.pointerId)}}function pn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=as(e),e!==null&&xl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dm(t,e,r,n,s){switch(e){case"focusin":return Nt=pn(Nt,t,e,r,n,s),!0;case"dragenter":return Pt=pn(Pt,t,e,r,n,s),!0;case"mouseover":return Rt=pn(Rt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Mn.set(i,pn(Mn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Bn.set(i,pn(Bn.get(i)||null,t,e,r,n,s)),!0}return!1}function nh(t){var e=nr(t.target);if(e!==null){var r=gr(e);if(r!==null){if(e=r.tag,e===13){if(e=qd(r),e!==null){t.blockedOn=e,rh(t.priority,function(){eh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=da(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ia=n,r.target.dispatchEvent(n),ia=null}else return e=as(r),e!==null&&xl(e),t.blockedOn=r,!1;e.shift()}return!0}function Ru(t,e,r){zs(t)&&r.delete(e)}function hm(){ca=!1,Nt!==null&&zs(Nt)&&(Nt=null),Pt!==null&&zs(Pt)&&(Pt=null),Rt!==null&&zs(Rt)&&(Rt=null),Mn.forEach(Ru),Bn.forEach(Ru)}function gn(t,e){t.blockedOn===e&&(t.blockedOn=null,ca||(ca=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,hm)))}function zn(t){function e(s){return gn(s,t)}if(0<ws.length){gn(ws[0],t);for(var r=1;r<ws.length;r++){var n=ws[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nt!==null&&gn(Nt,t),Pt!==null&&gn(Pt,t),Rt!==null&&gn(Rt,t),Mn.forEach(e),Bn.forEach(e),r=0;r<bt.length;r++)n=bt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<bt.length&&(r=bt[0],r.blockedOn===null);)nh(r),r.blockedOn===null&&bt.shift()}var Br=mt.ReactCurrentBatchConfig,oi=!0;function fm(t,e,r,n){var s=M,i=Br.transition;Br.transition=null;try{M=1,kl(t,e,r,n)}finally{M=s,Br.transition=i}}function pm(t,e,r,n){var s=M,i=Br.transition;Br.transition=null;try{M=4,kl(t,e,r,n)}finally{M=s,Br.transition=i}}function kl(t,e,r,n){if(oi){var s=da(t,e,r,n);if(s===null)To(t,e,n,ai,r),Pu(t,n);else if(dm(s,t,e,r,n))n.stopPropagation();else if(Pu(t,n),e&4&&-1<cm.indexOf(t)){for(;s!==null;){var i=as(s);if(i!==null&&Zd(i),i=da(t,e,r,n),i===null&&To(t,e,n,ai,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else To(t,e,n,null,r)}}var ai=null;function da(t,e,r,n){if(ai=null,t=vl(n),t=nr(t),t!==null)if(e=gr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ai=t,null}function sh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tm()){case wl:return 1;case Jd:return 4;case si:case rm:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var Tt=null,bl=null,Fs=null;function ih(){if(Fs)return Fs;var t,e=bl,r=e.length,n,s="value"in Tt?Tt.value:Tt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Fs=s.slice(t,1<n?1-n:void 0)}function Vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function Au(){return!1}function Ue(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_s:Au,this.isPropagationStopped=Au,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),e}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Ue(rn),os=J({},rn,{view:0,detail:0}),gm=Ue(os),vo,wo,mn,Mi=J({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mn&&(mn&&t.type==="mousemove"?(vo=t.screenX-mn.screenX,wo=t.screenY-mn.screenY):wo=vo=0,mn=t),vo)},movementY:function(t){return"movementY"in t?t.movementY:wo}}),Iu=Ue(Mi),mm=J({},Mi,{dataTransfer:0}),ym=Ue(mm),vm=J({},os,{relatedTarget:0}),_o=Ue(vm),wm=J({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=Ue(wm),xm=J({},rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),km=Ue(xm),bm=J({},rn,{data:0}),$u=Ue(bm),Sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jm[t])?!!e[t]:!1}function El(){return Tm}var Cm=J({},os,{key:function(t){if(t.key){var e=Sm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Em[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Om=Ue(Cm),Nm=J({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=Ue(Nm),Pm=J({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Rm=Ue(Pm),Am=J({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Im=Ue(Am),$m=J({},Mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=Ue($m),Um=[9,13,27,32],jl=ht&&"CompositionEvent"in window,On=null;ht&&"documentMode"in document&&(On=document.documentMode);var Dm=ht&&"TextEvent"in window&&!On,oh=ht&&(!jl||On&&8<On&&11>=On),Uu=" ",Du=!1;function ah(t,e){switch(t){case"keyup":return Um.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function Mm(t,e){switch(t){case"compositionend":return lh(e);case"keypress":return e.which!==32?null:(Du=!0,Uu);case"textInput":return t=e.data,t===Uu&&Du?null:t;default:return null}}function Bm(t,e){if(Tr)return t==="compositionend"||!jl&&ah(t,e)?(t=ih(),Fs=bl=Tt=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oh&&e.locale!=="ko"?null:e.data;default:return null}}var zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zm[t.type]:e==="textarea"}function uh(t,e,r,n){Bd(n),e=li(e,"onChange"),0<e.length&&(r=new Sl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Nn=null,Fn=null;function Fm(t){_h(t,0)}function Bi(t){var e=Nr(t);if(Ad(e))return t}function Vm(t,e){if(t==="change")return e}var ch=!1;if(ht){var xo;if(ht){var ko="oninput"in document;if(!ko){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),ko=typeof Bu.oninput=="function"}xo=ko}else xo=!1;ch=xo&&(!document.documentMode||9<document.documentMode)}function zu(){Nn&&(Nn.detachEvent("onpropertychange",dh),Fn=Nn=null)}function dh(t){if(t.propertyName==="value"&&Bi(Fn)){var e=[];uh(e,Fn,t,vl(t)),Wd(Fm,e)}}function Wm(t,e,r){t==="focusin"?(zu(),Nn=e,Fn=r,Nn.attachEvent("onpropertychange",dh)):t==="focusout"&&zu()}function qm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bi(Fn)}function Hm(t,e){if(t==="click")return Bi(e)}function Km(t,e){if(t==="input"||t==="change")return Bi(e)}function Gm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ze=typeof Object.is=="function"?Object.is:Gm;function Vn(t,e){if(Ze(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ko.call(e,s)||!Ze(t[s],e[s]))return!1}return!0}function Fu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vu(t,e){var r=Fu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fu(r)}}function hh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fh(){for(var t=window,e=ti();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ti(t.document)}return e}function Tl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jm(t){var e=fh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hh(r.ownerDocument.documentElement,r)){if(n!==null&&Tl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Vu(r,i);var o=Vu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qm=ht&&"documentMode"in document&&11>=document.documentMode,Cr=null,ha=null,Pn=null,fa=!1;function Wu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fa||Cr==null||Cr!==ti(n)||(n=Cr,"selectionStart"in n&&Tl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pn&&Vn(Pn,n)||(Pn=n,n=li(ha,"onSelect"),0<n.length&&(e=new Sl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Cr)))}function xs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Or={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},bo={},ph={};ht&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function zi(t){if(bo[t])return bo[t];if(!Or[t])return t;var e=Or[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ph)return bo[t]=e[r];return t}var gh=zi("animationend"),mh=zi("animationiteration"),yh=zi("animationstart"),vh=zi("transitionend"),wh=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(t,e){wh.set(t,e),pr(e,[t])}for(var So=0;So<qu.length;So++){var Eo=qu[So],Ym=Eo.toLowerCase(),Xm=Eo[0].toUpperCase()+Eo.slice(1);zt(Ym,"on"+Xm)}zt(gh,"onAnimationEnd");zt(mh,"onAnimationIteration");zt(yh,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(vh,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(bn));function Hu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Yg(n,e,void 0,t),t.currentTarget=null}function _h(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hu(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hu(s,a,u),i=l}}}if(ni)throw t=la,ni=!1,la=null,t}function F(t,e){var r=e[va];r===void 0&&(r=e[va]=new Set);var n=t+"__bubble";r.has(n)||(xh(e,t,2,!1),r.add(n))}function jo(t,e,r){var n=0;e&&(n|=4),xh(r,t,n,e)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Wn(t){if(!t[ks]){t[ks]=!0,Cd.forEach(function(r){r!=="selectionchange"&&(Zm.has(r)||jo(r,!1,t),jo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ks]||(e[ks]=!0,jo("selectionchange",!1,e))}}function xh(t,e,r,n){switch(sh(e)){case 1:var s=fm;break;case 4:s=pm;break;default:s=kl}r=s.bind(null,e,r,t),s=void 0,!aa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function To(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Wd(function(){var u=i,c=vl(r),h=[];e:{var g=wh.get(t);if(g!==void 0){var v=Sl,m=t;switch(t){case"keypress":if(Vs(r)===0)break e;case"keydown":case"keyup":v=Om;break;case"focusin":m="focus",v=_o;break;case"focusout":m="blur",v=_o;break;case"beforeblur":case"afterblur":v=_o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Rm;break;case gh:case mh:case yh:v=_m;break;case vh:v=Im;break;case"scroll":v=gm;break;case"wheel":v=Lm;break;case"copy":case"cut":case"paste":v=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Lu}var w=(e&4)!==0,_=!w&&t==="scroll",y=w?g!==null?g+"Capture":null:g;w=[];for(var p=u,f;p!==null;){f=p;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,y!==null&&(x=Dn(p,y),x!=null&&w.push(qn(p,x,f)))),_)break;p=p.return}0<w.length&&(g=new v(g,m,null,r,c),h.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&r!==ia&&(m=r.relatedTarget||r.fromElement)&&(nr(m)||m[ft]))break e;if((v||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,v?(m=r.relatedTarget||r.toElement,v=u,m=m?nr(m):null,m!==null&&(_=gr(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=u),v!==m)){if(w=Iu,x="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Lu,x="onPointerLeave",y="onPointerEnter",p="pointer"),_=v==null?g:Nr(v),f=m==null?g:Nr(m),g=new w(x,p+"leave",v,r,c),g.target=_,g.relatedTarget=f,x=null,nr(c)===u&&(w=new w(y,p+"enter",m,r,c),w.target=f,w.relatedTarget=_,x=w),_=x,v&&m)t:{for(w=v,y=m,p=0,f=w;f;f=vr(f))p++;for(f=0,x=y;x;x=vr(x))f++;for(;0<p-f;)w=vr(w),p--;for(;0<f-p;)y=vr(y),f--;for(;p--;){if(w===y||y!==null&&w===y.alternate)break t;w=vr(w),y=vr(y)}w=null}else w=null;v!==null&&Ku(h,g,v,w,!1),m!==null&&_!==null&&Ku(h,_,m,w,!0)}}e:{if(g=u?Nr(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var k=Vm;else if(Mu(g))if(ch)k=Km;else{k=qm;var b=Wm}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=Hm);if(k&&(k=k(t,u))){uh(h,k,r,c);break e}b&&b(t,g,u),t==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&ea(g,"number",g.value)}switch(b=u?Nr(u):window,t){case"focusin":(Mu(b)||b.contentEditable==="true")&&(Cr=b,ha=u,Pn=null);break;case"focusout":Pn=ha=Cr=null;break;case"mousedown":fa=!0;break;case"contextmenu":case"mouseup":case"dragend":fa=!1,Wu(h,r,c);break;case"selectionchange":if(Qm)break;case"keydown":case"keyup":Wu(h,r,c)}var E;if(jl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Tr?ah(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(oh&&r.locale!=="ko"&&(Tr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Tr&&(E=ih()):(Tt=c,bl="value"in Tt?Tt.value:Tt.textContent,Tr=!0)),b=li(u,T),0<b.length&&(T=new $u(T,t,null,r,c),h.push({event:T,listeners:b}),E?T.data=E:(E=lh(r),E!==null&&(T.data=E)))),(E=Dm?Mm(t,r):Bm(t,r))&&(u=li(u,"onBeforeInput"),0<u.length&&(c=new $u("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=E))}_h(h,e)})}function qn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function li(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dn(t,r),i!=null&&n.unshift(qn(t,i,s)),i=Dn(t,e),i!=null&&n.push(qn(t,i,s))),t=t.return}return n}function vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ku(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Dn(r,i),l!=null&&o.unshift(qn(r,l,a))):s||(l=Dn(r,i),l!=null&&o.push(qn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function Gu(t){return(typeof t=="string"?t:""+t).replace(e0,`
`).replace(t0,"")}function bs(t,e,r){if(e=Gu(e),Gu(t)!==e&&r)throw Error(j(425))}function ui(){}var pa=null,ga=null;function ma(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,r0=typeof clearTimeout=="function"?clearTimeout:void 0,Ju=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ju<"u"?function(t){return Ju.resolve(null).then(t).catch(s0)}:ya;function s0(t){setTimeout(function(){throw t})}function Co(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),zn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);zn(e)}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nn=Math.random().toString(36).slice(2),nt="__reactFiber$"+nn,Hn="__reactProps$"+nn,ft="__reactContainer$"+nn,va="__reactEvents$"+nn,i0="__reactListeners$"+nn,o0="__reactHandles$"+nn;function nr(t){var e=t[nt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ft]||r[nt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Qu(t);t!==null;){if(r=t[nt])return r;t=Qu(t)}return e}t=r,r=t.parentNode}return null}function as(t){return t=t[nt]||t[ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Fi(t){return t[Hn]||null}var wa=[],Pr=-1;function Ft(t){return{current:t}}function V(t){0>Pr||(t.current=wa[Pr],wa[Pr]=null,Pr--)}function z(t,e){Pr++,wa[Pr]=t.current,t.current=e}var Bt={},ve=Ft(Bt),Te=Ft(!1),ur=Bt;function Hr(t,e){var r=t.type.contextTypes;if(!r)return Bt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(t){return t=t.childContextTypes,t!=null}function ci(){V(Te),V(ve)}function Yu(t,e,r){if(ve.current!==Bt)throw Error(j(168));z(ve,e),z(Te,r)}function kh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,Wg(t)||"Unknown",s));return J({},r,n)}function di(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,ur=ve.current,z(ve,t),z(Te,Te.current),!0}function Xu(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=kh(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,V(Te),V(ve),z(ve,t)):V(Te),z(Te,r)}var at=null,Vi=!1,Oo=!1;function bh(t){at===null?at=[t]:at.push(t)}function a0(t){Vi=!0,bh(t)}function Vt(){if(!Oo&&at!==null){Oo=!0;var t=0,e=M;try{var r=at;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}at=null,Vi=!1}catch(s){throw at!==null&&(at=at.slice(t+1)),Gd(wl,Vt),s}finally{M=e,Oo=!1}}return null}var Rr=[],Ar=0,hi=null,fi=0,De=[],Me=0,cr=null,lt=1,ut="";function Qt(t,e){Rr[Ar++]=fi,Rr[Ar++]=hi,hi=t,fi=e}function Sh(t,e,r){De[Me++]=lt,De[Me++]=ut,De[Me++]=cr,cr=t;var n=lt;t=ut;var s=32-Ye(n)-1;n&=~(1<<s),r+=1;var i=32-Ye(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,lt=1<<32-Ye(e)+s|r<<s|n,ut=i+t}else lt=1<<i|r<<s|n,ut=t}function Cl(t){t.return!==null&&(Qt(t,1),Sh(t,1,0))}function Ol(t){for(;t===hi;)hi=Rr[--Ar],Rr[Ar]=null,fi=Rr[--Ar],Rr[Ar]=null;for(;t===cr;)cr=De[--Me],De[Me]=null,ut=De[--Me],De[Me]=null,lt=De[--Me],De[Me]=null}var Ie=null,Ae=null,q=!1,Qe=null;function Eh(t,e){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Zu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ie=t,Ae=At(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ie=t,Ae=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cr!==null?{id:lt,overflow:ut}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ie=t,Ae=null,!0):!1;default:return!1}}function _a(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xa(t){if(q){var e=Ae;if(e){var r=e;if(!Zu(t,e)){if(_a(t))throw Error(j(418));e=At(r.nextSibling);var n=Ie;e&&Zu(t,e)?Eh(n,r):(t.flags=t.flags&-4097|2,q=!1,Ie=t)}}else{if(_a(t))throw Error(j(418));t.flags=t.flags&-4097|2,q=!1,Ie=t}}}function ec(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ie=t}function Ss(t){if(t!==Ie)return!1;if(!q)return ec(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ma(t.type,t.memoizedProps)),e&&(e=Ae)){if(_a(t))throw jh(),Error(j(418));for(;e;)Eh(t,e),e=At(e.nextSibling)}if(ec(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ae=At(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ae=null}}else Ae=Ie?At(t.stateNode.nextSibling):null;return!0}function jh(){for(var t=Ae;t;)t=At(t.nextSibling)}function Kr(){Ae=Ie=null,q=!1}function Nl(t){Qe===null?Qe=[t]:Qe.push(t)}var l0=mt.ReactCurrentBatchConfig;function yn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function Es(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tc(t){var e=t._init;return e(t._payload)}function Th(t){function e(y,p){if(t){var f=y.deletions;f===null?(y.deletions=[p],y.flags|=16):f.push(p)}}function r(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Ut(y,p),y.index=0,y.sibling=null,y}function i(y,p,f){return y.index=f,t?(f=y.alternate,f!==null?(f=f.index,f<p?(y.flags|=2,p):f):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,f,x){return p===null||p.tag!==6?(p=Lo(f,y.mode,x),p.return=y,p):(p=s(p,f),p.return=y,p)}function l(y,p,f,x){var k=f.type;return k===jr?c(y,p,f.props.children,x,f.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xt&&tc(k)===p.type)?(x=s(p,f.props),x.ref=yn(y,p,f),x.return=y,x):(x=Qs(f.type,f.key,f.props,null,y.mode,x),x.ref=yn(y,p,f),x.return=y,x)}function u(y,p,f,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=Uo(f,y.mode,x),p.return=y,p):(p=s(p,f.children||[]),p.return=y,p)}function c(y,p,f,x,k){return p===null||p.tag!==7?(p=lr(f,y.mode,x,k),p.return=y,p):(p=s(p,f),p.return=y,p)}function h(y,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lo(""+p,y.mode,f),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ps:return f=Qs(p.type,p.key,p.props,null,y.mode,f),f.ref=yn(y,null,p),f.return=y,f;case Er:return p=Uo(p,y.mode,f),p.return=y,p;case xt:var x=p._init;return h(y,x(p._payload),f)}if(xn(p)||hn(p))return p=lr(p,y.mode,f,null),p.return=y,p;Es(y,p)}return null}function g(y,p,f,x){var k=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:a(y,p,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ps:return f.key===k?l(y,p,f,x):null;case Er:return f.key===k?u(y,p,f,x):null;case xt:return k=f._init,g(y,p,k(f._payload),x)}if(xn(f)||hn(f))return k!==null?null:c(y,p,f,x,null);Es(y,f)}return null}function v(y,p,f,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(f)||null,a(p,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ps:return y=y.get(x.key===null?f:x.key)||null,l(p,y,x,k);case Er:return y=y.get(x.key===null?f:x.key)||null,u(p,y,x,k);case xt:var b=x._init;return v(y,p,f,b(x._payload),k)}if(xn(x)||hn(x))return y=y.get(f)||null,c(p,y,x,k,null);Es(p,x)}return null}function m(y,p,f,x){for(var k=null,b=null,E=p,T=p=0,U=null;E!==null&&T<f.length;T++){E.index>T?(U=E,E=null):U=E.sibling;var $=g(y,E,f[T],x);if($===null){E===null&&(E=U);break}t&&E&&$.alternate===null&&e(y,E),p=i($,p,T),b===null?k=$:b.sibling=$,b=$,E=U}if(T===f.length)return r(y,E),q&&Qt(y,T),k;if(E===null){for(;T<f.length;T++)E=h(y,f[T],x),E!==null&&(p=i(E,p,T),b===null?k=E:b.sibling=E,b=E);return q&&Qt(y,T),k}for(E=n(y,E);T<f.length;T++)U=v(E,y,T,f[T],x),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?T:U.key),p=i(U,p,T),b===null?k=U:b.sibling=U,b=U);return t&&E.forEach(function(Ne){return e(y,Ne)}),q&&Qt(y,T),k}function w(y,p,f,x){var k=hn(f);if(typeof k!="function")throw Error(j(150));if(f=k.call(f),f==null)throw Error(j(151));for(var b=k=null,E=p,T=p=0,U=null,$=f.next();E!==null&&!$.done;T++,$=f.next()){E.index>T?(U=E,E=null):U=E.sibling;var Ne=g(y,E,$.value,x);if(Ne===null){E===null&&(E=U);break}t&&E&&Ne.alternate===null&&e(y,E),p=i(Ne,p,T),b===null?k=Ne:b.sibling=Ne,b=Ne,E=U}if($.done)return r(y,E),q&&Qt(y,T),k;if(E===null){for(;!$.done;T++,$=f.next())$=h(y,$.value,x),$!==null&&(p=i($,p,T),b===null?k=$:b.sibling=$,b=$);return q&&Qt(y,T),k}for(E=n(y,E);!$.done;T++,$=f.next())$=v(E,y,T,$.value,x),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?T:$.key),p=i($,p,T),b===null?k=$:b.sibling=$,b=$);return t&&E.forEach(function(cn){return e(y,cn)}),q&&Qt(y,T),k}function _(y,p,f,x){if(typeof f=="object"&&f!==null&&f.type===jr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ps:e:{for(var k=f.key,b=p;b!==null;){if(b.key===k){if(k=f.type,k===jr){if(b.tag===7){r(y,b.sibling),p=s(b,f.props.children),p.return=y,y=p;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xt&&tc(k)===b.type){r(y,b.sibling),p=s(b,f.props),p.ref=yn(y,b,f),p.return=y,y=p;break e}r(y,b);break}else e(y,b);b=b.sibling}f.type===jr?(p=lr(f.props.children,y.mode,x,f.key),p.return=y,y=p):(x=Qs(f.type,f.key,f.props,null,y.mode,x),x.ref=yn(y,p,f),x.return=y,y=x)}return o(y);case Er:e:{for(b=f.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){r(y,p.sibling),p=s(p,f.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else e(y,p);p=p.sibling}p=Uo(f,y.mode,x),p.return=y,y=p}return o(y);case xt:return b=f._init,_(y,p,b(f._payload),x)}if(xn(f))return m(y,p,f,x);if(hn(f))return w(y,p,f,x);Es(y,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(r(y,p.sibling),p=s(p,f),p.return=y,y=p):(r(y,p),p=Lo(f,y.mode,x),p.return=y,y=p),o(y)):r(y,p)}return _}var Gr=Th(!0),Ch=Th(!1),pi=Ft(null),gi=null,Ir=null,Pl=null;function Rl(){Pl=Ir=gi=null}function Al(t){var e=pi.current;V(pi),t._currentValue=e}function ka(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function zr(t,e){gi=t,Pl=Ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function Fe(t){var e=t._currentValue;if(Pl!==t)if(t={context:t,memoizedValue:e,next:null},Ir===null){if(gi===null)throw Error(j(308));Ir=t,gi.dependencies={lanes:0,firstContext:t}}else Ir=Ir.next=t;return e}var sr=null;function Il(t){sr===null?sr=[t]:sr.push(t)}function Oh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Il(e)):(r.next=s.next,s.next=r),e.interleaved=r,pt(t,n)}function pt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var kt=!1;function $l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ct(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function It(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,pt(t,r)}return s=n.interleaved,s===null?(e.next=e,Il(n)):(e.next=s.next,s.next=e),n.interleaved=e,pt(t,r)}function Ws(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_l(t,r)}}function rc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function mi(t,e,r,n){var s=t.updateQueue;kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var g=a.lane,v=a.eventTime;if((n&g)===g){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(g=e,v=r,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(v,h,g);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,g=typeof m=="function"?m.call(v,h,g):m,g==null)break e;h=J({},h,g);break e;case 2:kt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=h}}function nc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var ls={},it=Ft(ls),Kn=Ft(ls),Gn=Ft(ls);function ir(t){if(t===ls)throw Error(j(174));return t}function Ll(t,e){switch(z(Gn,e),z(Kn,t),z(it,ls),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ra(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ra(e,t)}V(it),z(it,e)}function Jr(){V(it),V(Kn),V(Gn)}function Ph(t){ir(Gn.current);var e=ir(it.current),r=ra(e,t.type);e!==r&&(z(Kn,t),z(it,r))}function Ul(t){Kn.current===t&&(V(it),V(Kn))}var K=Ft(0);function yi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var No=[];function Dl(){for(var t=0;t<No.length;t++)No[t]._workInProgressVersionPrimary=null;No.length=0}var qs=mt.ReactCurrentDispatcher,Po=mt.ReactCurrentBatchConfig,dr=0,G=null,se=null,ae=null,vi=!1,Rn=!1,Jn=0,u0=0;function pe(){throw Error(j(321))}function Ml(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ze(t[r],e[r]))return!1;return!0}function Bl(t,e,r,n,s,i){if(dr=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qs.current=t===null||t.memoizedState===null?f0:p0,t=r(n,s),Rn){i=0;do{if(Rn=!1,Jn=0,25<=i)throw Error(j(301));i+=1,ae=se=null,e.updateQueue=null,qs.current=g0,t=r(n,s)}while(Rn)}if(qs.current=wi,e=se!==null&&se.next!==null,dr=0,ae=se=G=null,vi=!1,e)throw Error(j(300));return t}function zl(){var t=Jn!==0;return Jn=0,t}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?G.memoizedState=ae=t:ae=ae.next=t,ae}function Ve(){if(se===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ae===null?G.memoizedState:ae.next;if(e!==null)ae=e,se=t;else{if(t===null)throw Error(j(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?G.memoizedState=ae=t:ae=ae.next=t}return ae}function Qn(t,e){return typeof e=="function"?e(t):e}function Ro(t){var e=Ve(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((dr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,G.lanes|=c,hr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Ze(n,e.memoizedState)||(je=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ao(t){var e=Ve(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ze(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Rh(){}function Ah(t,e){var r=G,n=Ve(),s=e(),i=!Ze(n.memoizedState,s);if(i&&(n.memoizedState=s,je=!0),n=n.queue,Fl(Lh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(r.flags|=2048,Yn(9,$h.bind(null,r,n,s,e),void 0,null),le===null)throw Error(j(349));dr&30||Ih(r,e,s)}return s}function Ih(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function $h(t,e,r,n){e.value=r,e.getSnapshot=n,Uh(e)&&Dh(t)}function Lh(t,e,r){return r(function(){Uh(e)&&Dh(t)})}function Uh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ze(t,r)}catch{return!0}}function Dh(t){var e=pt(t,1);e!==null&&Xe(e,t,1,-1)}function sc(t){var e=tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},e.queue=t,t=t.dispatch=h0.bind(null,G,t),[e.memoizedState,t]}function Yn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Mh(){return Ve().memoizedState}function Hs(t,e,r,n){var s=tt();G.flags|=t,s.memoizedState=Yn(1|e,r,void 0,n===void 0?null:n)}function Wi(t,e,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,n!==null&&Ml(n,o.deps)){s.memoizedState=Yn(e,r,i,n);return}}G.flags|=t,s.memoizedState=Yn(1|e,r,i,n)}function ic(t,e){return Hs(8390656,8,t,e)}function Fl(t,e){return Wi(2048,8,t,e)}function Bh(t,e){return Wi(4,2,t,e)}function zh(t,e){return Wi(4,4,t,e)}function Fh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vh(t,e,r){return r=r!=null?r.concat([t]):null,Wi(4,4,Fh.bind(null,e,t),r)}function Vl(){}function Wh(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ml(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function qh(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ml(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Hh(t,e,r){return dr&21?(Ze(r,e)||(r=Yd(),G.lanes|=r,hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=r)}function c0(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=Po.transition;Po.transition={};try{t(!1),e()}finally{M=r,Po.transition=n}}function Kh(){return Ve().memoizedState}function d0(t,e,r){var n=Lt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gh(t))Jh(e,r);else if(r=Oh(t,e,r,n),r!==null){var s=_e();Xe(r,t,n,s),Qh(r,e,n)}}function h0(t,e,r){var n=Lt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gh(t))Jh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ze(a,o)){var l=e.interleaved;l===null?(s.next=s,Il(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Oh(t,e,s,n),r!==null&&(s=_e(),Xe(r,t,n,s),Qh(r,e,n))}}function Gh(t){var e=t.alternate;return t===G||e!==null&&e===G}function Jh(t,e){Rn=vi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Qh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_l(t,r)}}var wi={readContext:Fe,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},f0={readContext:Fe,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:ic,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hs(4194308,4,Fh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hs(4,2,t,e)},useMemo:function(t,e){var r=tt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=tt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=d0.bind(null,G,t),[n.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:sc,useDebugValue:Vl,useDeferredValue:function(t){return tt().memoizedState=t},useTransition:function(){var t=sc(!1),e=t[0];return t=c0.bind(null,t[1]),tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=G,s=tt();if(q){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),le===null)throw Error(j(349));dr&30||Ih(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ic(Lh.bind(null,n,i,t),[t]),n.flags|=2048,Yn(9,$h.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=tt(),e=le.identifierPrefix;if(q){var r=ut,n=lt;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=u0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p0={readContext:Fe,useCallback:Wh,useContext:Fe,useEffect:Fl,useImperativeHandle:Vh,useInsertionEffect:Bh,useLayoutEffect:zh,useMemo:qh,useReducer:Ro,useRef:Mh,useState:function(){return Ro(Qn)},useDebugValue:Vl,useDeferredValue:function(t){var e=Ve();return Hh(e,se.memoizedState,t)},useTransition:function(){var t=Ro(Qn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:Rh,useSyncExternalStore:Ah,useId:Kh,unstable_isNewReconciler:!1},g0={readContext:Fe,useCallback:Wh,useContext:Fe,useEffect:Fl,useImperativeHandle:Vh,useInsertionEffect:Bh,useLayoutEffect:zh,useMemo:qh,useReducer:Ao,useRef:Mh,useState:function(){return Ao(Qn)},useDebugValue:Vl,useDeferredValue:function(t){var e=Ve();return se===null?e.memoizedState=t:Hh(e,se.memoizedState,t)},useTransition:function(){var t=Ao(Qn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:Rh,useSyncExternalStore:Ah,useId:Kh,unstable_isNewReconciler:!1};function He(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ba(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:J({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qi={isMounted:function(t){return(t=t._reactInternals)?gr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_e(),s=Lt(t),i=ct(n,s);i.payload=e,r!=null&&(i.callback=r),e=It(t,i,s),e!==null&&(Xe(e,t,s,n),Ws(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_e(),s=Lt(t),i=ct(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=It(t,i,s),e!==null&&(Xe(e,t,s,n),Ws(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_e(),n=Lt(t),s=ct(r,n);s.tag=2,e!=null&&(s.callback=e),e=It(t,s,n),e!==null&&(Xe(e,t,n,r),Ws(e,t,n))}};function oc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vn(r,n)||!Vn(s,i):!0}function Yh(t,e,r){var n=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Ce(e)?ur:ve.current,n=e.contextTypes,i=(n=n!=null)?Hr(t,s):Bt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ac(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&qi.enqueueReplaceState(e,e.state,null)}function Sa(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},$l(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Ce(e)?ur:ve.current,s.context=Hr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ba(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qi.enqueueReplaceState(s,s.state,null),mi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qr(t,e){try{var r="",n=e;do r+=Vg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Io(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ea(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var m0=typeof WeakMap=="function"?WeakMap:Map;function Xh(t,e,r){r=ct(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xi||(xi=!0,$a=n),Ea(t,e)},r}function Zh(t,e,r){r=ct(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ea(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ea(t,e),typeof n!="function"&&($t===null?$t=new Set([this]):$t.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function lc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new m0;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=N0.bind(null,t,e,r),e.then(t,t))}function uc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ct(-1,1),e.tag=2,It(r,e,1))),r.lanes|=1),t)}var y0=mt.ReactCurrentOwner,je=!1;function we(t,e,r,n){e.child=t===null?Ch(e,null,r,n):Gr(e,t.child,r,n)}function dc(t,e,r,n,s){r=r.render;var i=e.ref;return zr(e,s),n=Bl(t,e,r,n,i,s),r=zl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(q&&r&&Cl(e),e.flags|=1,we(t,e,n,s),e.child)}function hc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Yl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,ef(t,e,i,n,s)):(t=Qs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vn,r(o,n)&&t.ref===e.ref)return gt(t,e,s)}return e.flags|=1,t=Ut(i,n),t.ref=e.ref,t.return=e,e.child=t}function ef(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Vn(i,n)&&t.ref===e.ref)if(je=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,gt(t,e,s)}return ja(t,e,r,n,s)}function tf(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(Lr,Pe),Pe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(Lr,Pe),Pe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,z(Lr,Pe),Pe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,z(Lr,Pe),Pe|=n;return we(t,e,s,r),e.child}function rf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ja(t,e,r,n,s){var i=Ce(r)?ur:ve.current;return i=Hr(e,i),zr(e,s),r=Bl(t,e,r,n,i,s),n=zl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(q&&n&&Cl(e),e.flags|=1,we(t,e,r,s),e.child)}function fc(t,e,r,n,s){if(Ce(r)){var i=!0;di(e)}else i=!1;if(zr(e,s),e.stateNode===null)Ks(t,e),Yh(e,r,n),Sa(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fe(u):(u=Ce(r)?ur:ve.current,u=Hr(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&ac(e,o,n,u),kt=!1;var g=e.memoizedState;o.state=g,mi(e,n,o,s),l=e.memoizedState,a!==n||g!==l||Te.current||kt?(typeof c=="function"&&(ba(e,r,c,n),l=e.memoizedState),(a=kt||oc(e,r,a,n,g,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Nh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:He(e.type,a),o.props=u,h=e.pendingProps,g=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fe(l):(l=Ce(r)?ur:ve.current,l=Hr(e,l));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==l)&&ac(e,o,n,l),kt=!1,g=e.memoizedState,o.state=g,mi(e,n,o,s);var m=e.memoizedState;a!==h||g!==m||Te.current||kt?(typeof v=="function"&&(ba(e,r,v,n),m=e.memoizedState),(u=kt||oc(e,r,u,n,g,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Ta(t,e,r,n,i,s)}function Ta(t,e,r,n,s,i){rf(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Xu(e,r,!1),gt(t,e,i);n=e.stateNode,y0.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Gr(e,t.child,null,i),e.child=Gr(e,null,a,i)):we(t,e,a,i),e.memoizedState=n.state,s&&Xu(e,r,!0),e.child}function nf(t){var e=t.stateNode;e.pendingContext?Yu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yu(t,e.context,!1),Ll(t,e.containerInfo)}function pc(t,e,r,n,s){return Kr(),Nl(s),e.flags|=256,we(t,e,r,n),e.child}var Ca={dehydrated:null,treeContext:null,retryLane:0};function Oa(t){return{baseLanes:t,cachePool:null,transitions:null}}function sf(t,e,r){var n=e.pendingProps,s=K.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),z(K,s&1),t===null)return xa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gi(o,n,0,null),t=lr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Oa(r),e.memoizedState=Ca,t):Wl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return v0(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ut(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ut(a,i):(i=lr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Oa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ca,n}return i=t.child,t=i.sibling,n=Ut(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Wl(t,e){return e=Gi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function js(t,e,r,n){return n!==null&&Nl(n),Gr(e,t.child,null,r),t=Wl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v0(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Io(Error(j(422))),js(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Gi({mode:"visible",children:n.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Gr(e,t.child,null,o),e.child.memoizedState=Oa(o),e.memoizedState=Ca,i);if(!(e.mode&1))return js(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(j(419)),n=Io(i,n,void 0),js(t,e,o,n)}if(a=(o&t.childLanes)!==0,je||a){if(n=le,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pt(t,s),Xe(n,t,s,-1))}return Ql(),n=Io(Error(j(421))),js(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=P0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ae=At(s.nextSibling),Ie=e,q=!0,Qe=null,t!==null&&(De[Me++]=lt,De[Me++]=ut,De[Me++]=cr,lt=t.id,ut=t.overflow,cr=e),e=Wl(e,n.children),e.flags|=4096,e)}function gc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ka(t.return,e,r)}function $o(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function of(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(we(t,e,n.children,r),n=K.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gc(t,r,e);else if(t.tag===19)gc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(z(K,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&yi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),$o(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}$o(e,!0,r,null,i);break;case"together":$o(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Ut(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ut(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function w0(t,e,r){switch(e.tag){case 3:nf(e),Kr();break;case 5:Ph(e);break;case 1:Ce(e.type)&&di(e);break;case 4:Ll(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;z(pi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(z(K,K.current&1),e.flags|=128,null):r&e.child.childLanes?sf(t,e,r):(z(K,K.current&1),t=gt(t,e,r),t!==null?t.sibling:null);z(K,K.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return of(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(K,K.current),n)break;return null;case 22:case 23:return e.lanes=0,tf(t,e,r)}return gt(t,e,r)}var af,Na,lf,uf;af=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Na=function(){};lf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ir(it.current);var i=null;switch(r){case"input":s=Xo(t,s),n=Xo(t,n),i=[];break;case"select":s=J({},s,{value:void 0}),n=J({},n,{value:void 0}),i=[];break;case"textarea":s=ta(t,s),n=ta(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ui)}na(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ln.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&F("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};uf=function(t,e,r,n){r!==n&&(e.flags|=4)};function vn(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function _0(t,e,r){var n=e.pendingProps;switch(Ol(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return Ce(e.type)&&ci(),ge(e),null;case 3:return n=e.stateNode,Jr(),V(Te),V(ve),Dl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ss(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(Da(Qe),Qe=null))),Na(t,e),ge(e),null;case 5:Ul(e);var s=ir(Gn.current);if(r=e.type,t!==null&&e.stateNode!=null)lf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return ge(e),null}if(t=ir(it.current),Ss(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[nt]=e,n[Hn]=i,t=(e.mode&1)!==0,r){case"dialog":F("cancel",n),F("close",n);break;case"iframe":case"object":case"embed":F("load",n);break;case"video":case"audio":for(s=0;s<bn.length;s++)F(bn[s],n);break;case"source":F("error",n);break;case"img":case"image":case"link":F("error",n),F("load",n);break;case"details":F("toggle",n);break;case"input":Su(n,i),F("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},F("invalid",n);break;case"textarea":ju(n,i),F("invalid",n)}na(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&bs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bs(n.textContent,a,t),s=["children",""+a]):Ln.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&F("scroll",n)}switch(r){case"input":gs(n),Eu(n,i,!0);break;case"textarea":gs(n),Tu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ui)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ld(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[nt]=e,t[Hn]=n,af(t,e,!1,!1),e.stateNode=t;e:{switch(o=sa(r,n),r){case"dialog":F("cancel",t),F("close",t),s=n;break;case"iframe":case"object":case"embed":F("load",t),s=n;break;case"video":case"audio":for(s=0;s<bn.length;s++)F(bn[s],t);s=n;break;case"source":F("error",t),s=n;break;case"img":case"image":case"link":F("error",t),F("load",t),s=n;break;case"details":F("toggle",t),s=n;break;case"input":Su(t,n),s=Xo(t,n),F("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=J({},n,{value:void 0}),F("invalid",t);break;case"textarea":ju(t,n),s=ta(t,n),F("invalid",t);break;default:s=n}na(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Md(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ud(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Un(t,l):typeof l=="number"&&Un(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ln.hasOwnProperty(i)?l!=null&&i==="onScroll"&&F("scroll",t):l!=null&&pl(t,i,l,o))}switch(r){case"input":gs(t),Eu(t,n,!1);break;case"textarea":gs(t),Tu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ur(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ur(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ge(e),null;case 6:if(t&&e.stateNode!=null)uf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=ir(Gn.current),ir(it.current),Ss(e)){if(n=e.stateNode,r=e.memoizedProps,n[nt]=e,(i=n.nodeValue!==r)&&(t=Ie,t!==null))switch(t.tag){case 3:bs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=e,e.stateNode=n}return ge(e),null;case 13:if(V(K),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Ae!==null&&e.mode&1&&!(e.flags&128))jh(),Kr(),e.flags|=98560,i=!1;else if(i=Ss(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[nt]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),i=!1}else Qe!==null&&(Da(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?ie===0&&(ie=3):Ql())),e.updateQueue!==null&&(e.flags|=4),ge(e),null);case 4:return Jr(),Na(t,e),t===null&&Wn(e.stateNode.containerInfo),ge(e),null;case 10:return Al(e.type._context),ge(e),null;case 17:return Ce(e.type)&&ci(),ge(e),null;case 19:if(V(K),i=e.memoizedState,i===null)return ge(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)vn(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yi(t),o!==null){for(e.flags|=128,vn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return z(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&Z()>Yr&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=yi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return ge(e),null}else 2*Z()-i.renderingStartTime>Yr&&r!==1073741824&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Z(),e.sibling=null,r=K.current,z(K,n?r&1|2:r&1),e):(ge(e),null);case 22:case 23:return Jl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pe&1073741824&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function x0(t,e){switch(Ol(e),e.tag){case 1:return Ce(e.type)&&ci(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jr(),V(Te),V(ve),Dl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ul(e),null;case 13:if(V(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(K),null;case 4:return Jr(),null;case 10:return Al(e.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var Ts=!1,me=!1,k0=typeof WeakSet=="function"?WeakSet:Set,C=null;function $r(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Q(t,e,n)}else r.current=null}function Pa(t,e,r){try{r()}catch(n){Q(t,e,n)}}var mc=!1;function b0(t,e){if(pa=oi,t=fh(),Tl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,g=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)g=h,h=v;for(;;){if(h===t)break t;if(g===r&&++u===s&&(a=o),g===i&&++c===n&&(l=o),(v=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ga={focusedElem:t,selectionRange:r},oi=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,_=m.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:He(e.type,w),_);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){Q(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return m=mc,mc=!1,m}function An(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pa(e,r,i)}s=s.next}while(s!==n)}}function Hi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ra(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cf(t){var e=t.alternate;e!==null&&(t.alternate=null,cf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nt],delete e[Hn],delete e[va],delete e[i0],delete e[o0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function df(t){return t.tag===5||t.tag===3||t.tag===4}function yc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||df(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Aa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ui));else if(n!==4&&(t=t.child,t!==null))for(Aa(t,e,r),t=t.sibling;t!==null;)Aa(t,e,r),t=t.sibling}function Ia(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ia(t,e,r),t=t.sibling;t!==null;)Ia(t,e,r),t=t.sibling}var de=null,Ge=!1;function wt(t,e,r){for(r=r.child;r!==null;)hf(t,e,r),r=r.sibling}function hf(t,e,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Di,r)}catch{}switch(r.tag){case 5:me||$r(r,e);case 6:var n=de,s=Ge;de=null,wt(t,e,r),de=n,Ge=s,de!==null&&(Ge?(t=de,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Ge?(t=de,r=r.stateNode,t.nodeType===8?Co(t.parentNode,r):t.nodeType===1&&Co(t,r),zn(t)):Co(de,r.stateNode));break;case 4:n=de,s=Ge,de=r.stateNode.containerInfo,Ge=!0,wt(t,e,r),de=n,Ge=s;break;case 0:case 11:case 14:case 15:if(!me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pa(r,e,o),s=s.next}while(s!==n)}wt(t,e,r);break;case 1:if(!me&&($r(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Q(r,e,a)}wt(t,e,r);break;case 21:wt(t,e,r);break;case 22:r.mode&1?(me=(n=me)||r.memoizedState!==null,wt(t,e,r),me=n):wt(t,e,r);break;default:wt(t,e,r)}}function vc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new k0),e.forEach(function(n){var s=R0.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function We(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Ge=!1;break e;case 3:de=a.stateNode.containerInfo,Ge=!0;break e;case 4:de=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(de===null)throw Error(j(160));hf(i,o,s),de=null,Ge=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Q(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ff(e,t),e=e.sibling}function ff(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(We(e,t),et(t),n&4){try{An(3,t,t.return),Hi(3,t)}catch(w){Q(t,t.return,w)}try{An(5,t,t.return)}catch(w){Q(t,t.return,w)}}break;case 1:We(e,t),et(t),n&512&&r!==null&&$r(r,r.return);break;case 5:if(We(e,t),et(t),n&512&&r!==null&&$r(r,r.return),t.flags&32){var s=t.stateNode;try{Un(s,"")}catch(w){Q(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Id(s,i),sa(a,o);var u=sa(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Md(s,h):c==="dangerouslySetInnerHTML"?Ud(s,h):c==="children"?Un(s,h):pl(s,c,h,u)}switch(a){case"input":Zo(s,i);break;case"textarea":$d(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ur(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hn]=i}catch(w){Q(t,t.return,w)}}break;case 6:if(We(e,t),et(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Q(t,t.return,w)}}break;case 3:if(We(e,t),et(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zn(e.containerInfo)}catch(w){Q(t,t.return,w)}break;case 4:We(e,t),et(t);break;case 13:We(e,t),et(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kl=Z())),n&4&&vc(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(me=(u=me)||c,We(e,t),me=u):We(e,t),et(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(C=t,c=t.child;c!==null;){for(h=C=c;C!==null;){switch(g=C,v=g.child,g.tag){case 0:case 11:case 14:case 15:An(4,g,g.return);break;case 1:$r(g,g.return);var m=g.stateNode;if(typeof m.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){Q(n,r,w)}}break;case 5:$r(g,g.return);break;case 22:if(g.memoizedState!==null){_c(h);continue}}v!==null?(v.return=g,C=v):_c(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Dd("display",o))}catch(w){Q(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Q(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:We(e,t),et(t),n&4&&vc(t);break;case 21:break;default:We(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(df(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Un(s,""),n.flags&=-33);var i=yc(t);Ia(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=yc(t);Aa(t,a,o);break;default:throw Error(j(161))}}catch(l){Q(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S0(t,e,r){C=t,pf(t)}function pf(t,e,r){for(var n=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ts;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||me;a=Ts;var u=me;if(Ts=o,(me=l)&&!u)for(C=s;C!==null;)o=C,l=o.child,o.tag===22&&o.memoizedState!==null?xc(s):l!==null?(l.return=o,C=l):xc(s);for(;i!==null;)C=i,pf(i),i=i.sibling;C=s,Ts=a,me=u}wc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):wc(t)}}function wc(t){for(;C!==null;){var e=C;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||Hi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!me)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:He(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}nc(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&zn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}me||e.flags&512&&Ra(e)}catch(g){Q(e,e.return,g)}}if(e===t){C=null;break}if(r=e.sibling,r!==null){r.return=e.return,C=r;break}C=e.return}}function _c(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var r=e.sibling;if(r!==null){r.return=e.return,C=r;break}C=e.return}}function xc(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hi(4,e)}catch(l){Q(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Q(e,s,l)}}var i=e.return;try{Ra(e)}catch(l){Q(e,i,l)}break;case 5:var o=e.return;try{Ra(e)}catch(l){Q(e,o,l)}}}catch(l){Q(e,e.return,l)}if(e===t){C=null;break}var a=e.sibling;if(a!==null){a.return=e.return,C=a;break}C=e.return}}var E0=Math.ceil,_i=mt.ReactCurrentDispatcher,ql=mt.ReactCurrentOwner,ze=mt.ReactCurrentBatchConfig,D=0,le=null,ne=null,he=0,Pe=0,Lr=Ft(0),ie=0,Xn=null,hr=0,Ki=0,Hl=0,In=null,Se=null,Kl=0,Yr=1/0,ot=null,xi=!1,$a=null,$t=null,Cs=!1,Ct=null,ki=0,$n=0,La=null,Gs=-1,Js=0;function _e(){return D&6?Z():Gs!==-1?Gs:Gs=Z()}function Lt(t){return t.mode&1?D&2&&he!==0?he&-he:l0.transition!==null?(Js===0&&(Js=Yd()),Js):(t=M,t!==0||(t=window.event,t=t===void 0?16:sh(t.type)),t):1}function Xe(t,e,r,n){if(50<$n)throw $n=0,La=null,Error(j(185));is(t,r,n),(!(D&2)||t!==le)&&(t===le&&(!(D&2)&&(Ki|=r),ie===4&&St(t,he)),Oe(t,n),r===1&&D===0&&!(e.mode&1)&&(Yr=Z()+500,Vi&&Vt()))}function Oe(t,e){var r=t.callbackNode;lm(t,e);var n=ii(t,t===le?he:0);if(n===0)r!==null&&Nu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Nu(r),e===1)t.tag===0?a0(kc.bind(null,t)):bh(kc.bind(null,t)),n0(function(){!(D&6)&&Vt()}),r=null;else{switch(Xd(n)){case 1:r=wl;break;case 4:r=Jd;break;case 16:r=si;break;case 536870912:r=Qd;break;default:r=si}r=kf(r,gf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gf(t,e){if(Gs=-1,Js=0,D&6)throw Error(j(327));var r=t.callbackNode;if(Fr()&&t.callbackNode!==r)return null;var n=ii(t,t===le?he:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=bi(t,n);else{e=n;var s=D;D|=2;var i=yf();(le!==t||he!==e)&&(ot=null,Yr=Z()+500,ar(t,e));do try{C0();break}catch(a){mf(t,a)}while(!0);Rl(),_i.current=i,D=s,ne!==null?e=0:(le=null,he=0,e=ie)}if(e!==0){if(e===2&&(s=ua(t),s!==0&&(n=s,e=Ua(t,s))),e===1)throw r=Xn,ar(t,0),St(t,n),Oe(t,Z()),r;if(e===6)St(t,n);else{if(s=t.current.alternate,!(n&30)&&!j0(s)&&(e=bi(t,n),e===2&&(i=ua(t),i!==0&&(n=i,e=Ua(t,i))),e===1))throw r=Xn,ar(t,0),St(t,n),Oe(t,Z()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:Yt(t,Se,ot);break;case 3:if(St(t,n),(n&130023424)===n&&(e=Kl+500-Z(),10<e)){if(ii(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){_e(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ya(Yt.bind(null,t,Se,ot),e);break}Yt(t,Se,ot);break;case 4:if(St(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Ye(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Z()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E0(n/1960))-n,10<n){t.timeoutHandle=ya(Yt.bind(null,t,Se,ot),n);break}Yt(t,Se,ot);break;case 5:Yt(t,Se,ot);break;default:throw Error(j(329))}}}return Oe(t,Z()),t.callbackNode===r?gf.bind(null,t):null}function Ua(t,e){var r=In;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=bi(t,e),t!==2&&(e=Se,Se=r,e!==null&&Da(e)),t}function Da(t){Se===null?Se=t:Se.push.apply(Se,t)}function j0(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ze(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function St(t,e){for(e&=~Hl,e&=~Ki,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ye(e),n=1<<r;t[r]=-1,e&=~n}}function kc(t){if(D&6)throw Error(j(327));Fr();var e=ii(t,0);if(!(e&1))return Oe(t,Z()),null;var r=bi(t,e);if(t.tag!==0&&r===2){var n=ua(t);n!==0&&(e=n,r=Ua(t,n))}if(r===1)throw r=Xn,ar(t,0),St(t,e),Oe(t,Z()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yt(t,Se,ot),Oe(t,Z()),null}function Gl(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Yr=Z()+500,Vi&&Vt())}}function fr(t){Ct!==null&&Ct.tag===0&&!(D&6)&&Fr();var e=D;D|=1;var r=ze.transition,n=M;try{if(ze.transition=null,M=1,t)return t()}finally{M=n,ze.transition=r,D=e,!(D&6)&&Vt()}}function Jl(){Pe=Lr.current,V(Lr)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,r0(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(Ol(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ci();break;case 3:Jr(),V(Te),V(ve),Dl();break;case 5:Ul(n);break;case 4:Jr();break;case 13:V(K);break;case 19:V(K);break;case 10:Al(n.type._context);break;case 22:case 23:Jl()}r=r.return}if(le=t,ne=t=Ut(t.current,null),he=Pe=e,ie=0,Xn=null,Hl=Ki=hr=0,Se=In=null,sr!==null){for(e=0;e<sr.length;e++)if(r=sr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}sr=null}return t}function mf(t,e){do{var r=ne;try{if(Rl(),qs.current=wi,vi){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vi=!1}if(dr=0,ae=se=G=null,Rn=!1,Jn=0,ql.current=null,r===null||r.return===null){ie=1,Xn=e,ne=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=he,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=uc(o);if(v!==null){v.flags&=-257,cc(v,o,a,i,e),v.mode&1&&lc(i,u,e),e=v,l=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){lc(i,u,e),Ql();break e}l=Error(j(426))}}else if(q&&a.mode&1){var _=uc(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),cc(_,o,a,i,e),Nl(Qr(l,a));break e}}i=l=Qr(l,a),ie!==4&&(ie=2),In===null?In=[i]:In.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Xh(i,l,e);rc(i,y);break e;case 1:a=l;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($t===null||!$t.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Zh(i,a,e);rc(i,x);break e}}i=i.return}while(i!==null)}wf(r)}catch(k){e=k,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function yf(){var t=_i.current;return _i.current=wi,t===null?wi:t}function Ql(){(ie===0||ie===3||ie===2)&&(ie=4),le===null||!(hr&268435455)&&!(Ki&268435455)||St(le,he)}function bi(t,e){var r=D;D|=2;var n=yf();(le!==t||he!==e)&&(ot=null,ar(t,e));do try{T0();break}catch(s){mf(t,s)}while(!0);if(Rl(),D=r,_i.current=n,ne!==null)throw Error(j(261));return le=null,he=0,ie}function T0(){for(;ne!==null;)vf(ne)}function C0(){for(;ne!==null&&!Zg();)vf(ne)}function vf(t){var e=xf(t.alternate,t,Pe);t.memoizedProps=t.pendingProps,e===null?wf(t):ne=e,ql.current=null}function wf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=x0(r,e),r!==null){r.flags&=32767,ne=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,ne=null;return}}else if(r=_0(r,e,Pe),r!==null){ne=r;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);ie===0&&(ie=5)}function Yt(t,e,r){var n=M,s=ze.transition;try{ze.transition=null,M=1,O0(t,e,r,n)}finally{ze.transition=s,M=n}return null}function O0(t,e,r,n){do Fr();while(Ct!==null);if(D&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(um(t,i),t===le&&(ne=le=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cs||(Cs=!0,kf(si,function(){return Fr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ze.transition,ze.transition=null;var o=M;M=1;var a=D;D|=4,ql.current=null,b0(t,r),ff(r,t),Jm(ga),oi=!!pa,ga=pa=null,t.current=r,S0(r),em(),D=a,M=o,ze.transition=i}else t.current=r;if(Cs&&(Cs=!1,Ct=t,ki=s),i=t.pendingLanes,i===0&&($t=null),nm(r.stateNode),Oe(t,Z()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(xi)throw xi=!1,t=$a,$a=null,t;return ki&1&&t.tag!==0&&Fr(),i=t.pendingLanes,i&1?t===La?$n++:($n=0,La=t):$n=0,Vt(),null}function Fr(){if(Ct!==null){var t=Xd(ki),e=ze.transition,r=M;try{if(ze.transition=null,M=16>t?16:t,Ct===null)var n=!1;else{if(t=Ct,Ct=null,ki=0,D&6)throw Error(j(331));var s=D;for(D|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(C=u;C!==null;){var c=C;switch(c.tag){case 0:case 11:case 15:An(8,c,i)}var h=c.child;if(h!==null)h.return=c,C=h;else for(;C!==null;){c=C;var g=c.sibling,v=c.return;if(cf(c),c===u){C=null;break}if(g!==null){g.return=v,C=g;break}C=v}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:An(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,C=y;break e}C=i.return}}var p=t.current;for(C=p;C!==null;){o=C;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,C=f;else e:for(o=p;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hi(9,a)}}catch(k){Q(a,a.return,k)}if(a===o){C=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,C=x;break e}C=a.return}}if(D=s,Vt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Di,t)}catch{}n=!0}return n}finally{M=r,ze.transition=e}}return!1}function bc(t,e,r){e=Qr(r,e),e=Xh(t,e,1),t=It(t,e,1),e=_e(),t!==null&&(is(t,1,e),Oe(t,e))}function Q(t,e,r){if(t.tag===3)bc(t,t,r);else for(;e!==null;){if(e.tag===3){bc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($t===null||!$t.has(n))){t=Qr(r,t),t=Zh(e,t,1),e=It(e,t,1),t=_e(),e!==null&&(is(e,1,t),Oe(e,t));break}}e=e.return}}function N0(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_e(),t.pingedLanes|=t.suspendedLanes&r,le===t&&(he&r)===r&&(ie===4||ie===3&&(he&130023424)===he&&500>Z()-Kl?ar(t,0):Hl|=r),Oe(t,e)}function _f(t,e){e===0&&(t.mode&1?(e=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):e=1);var r=_e();t=pt(t,e),t!==null&&(is(t,e,r),Oe(t,r))}function P0(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_f(t,r)}function R0(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),_f(t,r)}var xf;xf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)je=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return je=!1,w0(t,e,r);je=!!(t.flags&131072)}else je=!1,q&&e.flags&1048576&&Sh(e,fi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ks(t,e),t=e.pendingProps;var s=Hr(e,ve.current);zr(e,r),s=Bl(null,e,n,t,s,r);var i=zl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ce(n)?(i=!0,di(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$l(e),s.updater=qi,e.stateNode=s,s._reactInternals=e,Sa(e,n,t,r),e=Ta(null,e,n,!0,i,r)):(e.tag=0,q&&i&&Cl(e),we(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ks(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=I0(n),t=He(n,t),s){case 0:e=ja(null,e,n,t,r);break e;case 1:e=fc(null,e,n,t,r);break e;case 11:e=dc(null,e,n,t,r);break e;case 14:e=hc(null,e,n,He(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),ja(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),fc(t,e,n,s,r);case 3:e:{if(nf(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Nh(t,e),mi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qr(Error(j(423)),e),e=pc(t,e,n,r,s);break e}else if(n!==s){s=Qr(Error(j(424)),e),e=pc(t,e,n,r,s);break e}else for(Ae=At(e.stateNode.containerInfo.firstChild),Ie=e,q=!0,Qe=null,r=Ch(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),n===s){e=gt(t,e,r);break e}we(t,e,n,r)}e=e.child}return e;case 5:return Ph(e),t===null&&xa(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ma(n,s)?o=null:i!==null&&ma(n,i)&&(e.flags|=32),rf(t,e),we(t,e,o,r),e.child;case 6:return t===null&&xa(e),null;case 13:return sf(t,e,r);case 4:return Ll(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gr(e,null,n,r):we(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),dc(t,e,n,s,r);case 7:return we(t,e,e.pendingProps,r),e.child;case 8:return we(t,e,e.pendingProps.children,r),e.child;case 12:return we(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,z(pi,n._currentValue),n._currentValue=o,i!==null)if(Ze(i.value,o)){if(i.children===s.children&&!Te.current){e=gt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ct(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ka(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ka(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,zr(e,r),s=Fe(s),n=n(s),e.flags|=1,we(t,e,n,r),e.child;case 14:return n=e.type,s=He(n,e.pendingProps),s=He(n.type,s),hc(t,e,n,s,r);case 15:return ef(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),Ks(t,e),e.tag=1,Ce(n)?(t=!0,di(e)):t=!1,zr(e,r),Yh(e,n,s),Sa(e,n,s,r),Ta(null,e,n,!0,t,r);case 19:return of(t,e,r);case 22:return tf(t,e,r)}throw Error(j(156,e.tag))};function kf(t,e){return Gd(t,e)}function A0(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(t,e,r,n){return new A0(t,e,r,n)}function Yl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I0(t){if(typeof t=="function")return Yl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ml)return 11;if(t===yl)return 14}return 2}function Ut(t,e){var r=t.alternate;return r===null?(r=Be(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Yl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jr:return lr(r.children,s,i,e);case gl:o=8,s|=8;break;case Go:return t=Be(12,r,e,s|2),t.elementType=Go,t.lanes=i,t;case Jo:return t=Be(13,r,e,s),t.elementType=Jo,t.lanes=i,t;case Qo:return t=Be(19,r,e,s),t.elementType=Qo,t.lanes=i,t;case Pd:return Gi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Od:o=10;break e;case Nd:o=9;break e;case ml:o=11;break e;case yl:o=14;break e;case xt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Be(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function lr(t,e,r,n){return t=Be(7,t,n,e),t.lanes=r,t}function Gi(t,e,r,n){return t=Be(22,t,n,e),t.elementType=Pd,t.lanes=r,t.stateNode={isHidden:!1},t}function Lo(t,e,r){return t=Be(6,t,null,e),t.lanes=r,t}function Uo(t,e,r){return e=Be(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $0(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xl(t,e,r,n,s,i,o,a,l){return t=new $0(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(i),t}function L0(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function bf(t){if(!t)return Bt;t=t._reactInternals;e:{if(gr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ce(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Ce(r))return kh(t,r,e)}return e}function Sf(t,e,r,n,s,i,o,a,l){return t=Xl(r,n,!0,t,s,i,o,a,l),t.context=bf(null),r=t.current,n=_e(),s=Lt(r),i=ct(n,s),i.callback=e??null,It(r,i,s),t.current.lanes=s,is(t,s,n),Oe(t,n),t}function Ji(t,e,r,n){var s=e.current,i=_e(),o=Lt(s);return r=bf(r),e.context===null?e.context=r:e.pendingContext=r,e=ct(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=It(s,e,o),t!==null&&(Xe(t,s,o,i),Ws(t,s,o)),o}function Si(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Zl(t,e){Sc(t,e),(t=t.alternate)&&Sc(t,e)}function U0(){return null}var Ef=typeof reportError=="function"?reportError:function(t){console.error(t)};function eu(t){this._internalRoot=t}Qi.prototype.render=eu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Ji(t,e,null,null)};Qi.prototype.unmount=eu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Ji(null,t,null,null)}),e[ft]=null}};function Qi(t){this._internalRoot=t}Qi.prototype.unstable_scheduleHydration=function(t){if(t){var e=th();t={blockedOn:null,target:t,priority:e};for(var r=0;r<bt.length&&e!==0&&e<bt[r].priority;r++);bt.splice(r,0,t),r===0&&nh(t)}};function tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ec(){}function D0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Si(o);i.call(u)}}var o=Sf(e,n,t,0,null,!1,!1,"",Ec);return t._reactRootContainer=o,t[ft]=o.current,Wn(t.nodeType===8?t.parentNode:t),fr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Si(l);a.call(u)}}var l=Xl(t,0,!1,null,null,!1,!1,"",Ec);return t._reactRootContainer=l,t[ft]=l.current,Wn(t.nodeType===8?t.parentNode:t),fr(function(){Ji(e,l,r,n)}),l}function Xi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Si(o);a.call(l)}}Ji(e,o,t,s)}else o=D0(r,e,t,s,n);return Si(o)}Zd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kn(e.pendingLanes);r!==0&&(_l(e,r|1),Oe(e,Z()),!(D&6)&&(Yr=Z()+500,Vt()))}break;case 13:fr(function(){var n=pt(t,1);if(n!==null){var s=_e();Xe(n,t,1,s)}}),Zl(t,1)}};xl=function(t){if(t.tag===13){var e=pt(t,134217728);if(e!==null){var r=_e();Xe(e,t,134217728,r)}Zl(t,134217728)}};eh=function(t){if(t.tag===13){var e=Lt(t),r=pt(t,e);if(r!==null){var n=_e();Xe(r,t,e,n)}Zl(t,e)}};th=function(){return M};rh=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};oa=function(t,e,r){switch(e){case"input":if(Zo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Fi(n);if(!s)throw Error(j(90));Ad(n),Zo(n,s)}}}break;case"textarea":$d(t,r);break;case"select":e=r.value,e!=null&&Ur(t,!!r.multiple,e,!1)}};Fd=Gl;Vd=fr;var M0={usingClientEntryPoint:!1,Events:[as,Nr,Fi,Bd,zd,Gl]},wn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:wn.bundleType,version:wn.version,rendererPackageName:wn.rendererPackageName,rendererConfig:wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hd(t),t===null?null:t.stateNode},findFiberByHostInstance:wn.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Di=Os.inject(B0),st=Os}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M0;Le.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tu(e))throw Error(j(200));return L0(t,e,null,r)};Le.createRoot=function(t,e){if(!tu(t))throw Error(j(299));var r=!1,n="",s=Ef;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xl(t,1,!1,null,null,r,!1,n,s),t[ft]=e.current,Wn(t.nodeType===8?t.parentNode:t),new eu(e)};Le.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Hd(e),t=t===null?null:t.stateNode,t};Le.flushSync=function(t){return fr(t)};Le.hydrate=function(t,e,r){if(!Yi(e))throw Error(j(200));return Xi(null,t,e,!0,r)};Le.hydrateRoot=function(t,e,r){if(!tu(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Ef;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Sf(e,null,t,1,r??null,s,!1,i,o),t[ft]=e.current,Wn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Qi(e)};Le.render=function(t,e,r){if(!Yi(e))throw Error(j(200));return Xi(null,t,e,!1,r)};Le.unmountComponentAtNode=function(t){if(!Yi(t))throw Error(j(40));return t._reactRootContainer?(fr(function(){Xi(null,null,t,!1,function(){t._reactRootContainer=null,t[ft]=null})}),!0):!1};Le.unstable_batchedUpdates=Gl;Le.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Yi(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Xi(t,e,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function jf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jf)}catch(t){console.error(t)}}jf(),Ed.exports=Le;var z0=Ed.exports,Tf,jc=z0;Tf=jc.createRoot,jc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zn.apply(this,arguments)}var Ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ot||(Ot={}));const Tc="popstate";function F0(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=mr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ma("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Ei(i))}function n(s,i){Zi(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return W0(e,r,n,t)}function ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V0(){return Math.random().toString(36).substr(2,8)}function Cc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ma(t,e,r,n){return r===void 0&&(r=null),Zn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mr(e):e,{state:r,key:e&&e.key||n||V0()})}function Ei(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function W0(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Ot.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Zn({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ot.Pop;let _=c(),y=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:y})}function g(_,y){a=Ot.Push;let p=Ma(w.location,_,y);r&&r(p,_),u=c()+1;let f=Cc(p,u),x=w.createHref(p);try{o.pushState(f,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}i&&l&&l({action:a,location:w.location,delta:1})}function v(_,y){a=Ot.Replace;let p=Ma(w.location,_,y);r&&r(p,_),u=c();let f=Cc(p,u),x=w.createHref(p);o.replaceState(f,"",x),i&&l&&l({action:a,location:w.location,delta:0})}function m(_){let y=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:Ei(_);return p=p.replace(/ $/,"%20"),ee(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Tc,h),l=_,()=>{s.removeEventListener(Tc,h),l=null}},createHref(_){return e(s,_)},createURL:m,encodeLocation(_){let y=m(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:v,go(_){return o.go(_)}};return w}var Oc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Oc||(Oc={}));function q0(t,e,r){return r===void 0&&(r="/"),H0(t,e,r)}function H0(t,e,r,n){let s=typeof e=="string"?mr(e):e,i=ru(s.pathname||"/",r);if(i==null)return null;let o=Cf(t);K0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=iy(i);a=ry(o[l],u)}return a}function Cf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ee(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Dt([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cf(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:ey(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Of(i.path))s(i,o,l)}),e}function Of(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Of(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function K0(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ty(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const G0=/^:[\w-]+$/,J0=3,Q0=2,Y0=1,X0=10,Z0=-2,Nc=t=>t==="*";function ey(t,e){let r=t.split("/"),n=r.length;return r.some(Nc)&&(n+=Z0),e&&(n+=Q0),r.filter(s=>!Nc(s)).reduce((s,i)=>s+(G0.test(i)?J0:i===""?Y0:X0),n)}function ty(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function ry(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=ny({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),g=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Dt([i,h.pathname]),pathnameBase:cy(Dt([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=Dt([i,h.pathnameBase]))}return o}function ny(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sy(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:g,isOptional:v}=c;if(g==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[h];return v&&!m?u[g]=void 0:u[g]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function sy(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Zi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function iy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ru(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const oy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ay=t=>oy.test(t);function ly(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?mr(t):t,i;if(r)if(ay(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Zi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Pc(r.substring(1),"/"):i=Pc(r,e)}else i=e;return{pathname:i,search:dy(n),hash:hy(s)}}function Pc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Do(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uy(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nu(t,e){let r=uy(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function su(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=mr(t):(s=Zn({},t),ee(!s.pathname||!s.pathname.includes("?"),Do("?","pathname","search",s)),ee(!s.pathname||!s.pathname.includes("#"),Do("#","pathname","hash",s)),ee(!s.search||!s.search.includes("#"),Do("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}a=h>=0?e[h]:"/"}let l=ly(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Dt=t=>t.join("/").replace(/\/\/+/g,"/"),cy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nf=["post","put","patch","delete"];new Set(Nf);const py=["get",...Nf];new Set(py);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},es.apply(this,arguments)}const iu=S.createContext(null),gy=S.createContext(null),Wt=S.createContext(null),eo=S.createContext(null),yt=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Pf=S.createContext(null);function my(t,e){let{relative:r}=e===void 0?{}:e;sn()||ee(!1);let{basename:n,navigator:s}=S.useContext(Wt),{hash:i,pathname:o,search:a}=Af(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Dt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function sn(){return S.useContext(eo)!=null}function on(){return sn()||ee(!1),S.useContext(eo).location}function Rf(t){S.useContext(Wt).static||S.useLayoutEffect(t)}function ou(){let{isDataRoute:t}=S.useContext(yt);return t?Py():yy()}function yy(){sn()||ee(!1);let t=S.useContext(iu),{basename:e,future:r,navigator:n}=S.useContext(Wt),{matches:s}=S.useContext(yt),{pathname:i}=on(),o=JSON.stringify(nu(s,r.v7_relativeSplatPath)),a=S.useRef(!1);return Rf(()=>{a.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=su(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Dt([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,i,t])}const vy=S.createContext(null);function wy(t){let e=S.useContext(yt).outlet;return e&&S.createElement(vy.Provider,{value:t},e)}function Af(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=S.useContext(Wt),{matches:s}=S.useContext(yt),{pathname:i}=on(),o=JSON.stringify(nu(s,n.v7_relativeSplatPath));return S.useMemo(()=>su(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function _y(t,e){return xy(t,e)}function xy(t,e,r,n){sn()||ee(!1);let{navigator:s}=S.useContext(Wt),{matches:i}=S.useContext(yt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=on(),c;if(e){var h;let _=typeof e=="string"?mr(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||ee(!1),c=_}else c=u;let g=c.pathname||"/",v=g;if(l!=="/"){let _=l.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=q0(t,{pathname:v}),w=jy(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Dt([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Dt([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return e&&w?S.createElement(eo.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ot.Pop}},w):w}function ky(){let t=Ny(),e=fy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:s},r):null,null)}const by=S.createElement(ky,null);class Sy extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(yt.Provider,{value:this.props.routeContext},S.createElement(Pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ey(t){let{routeContext:e,match:r,children:n}=t,s=S.useContext(iu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(yt.Provider,{value:e},n)}function jy(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||ee(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:g,errors:v}=r,m=h.route.loader&&g[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,g)=>{let v,m=!1,w=null,_=null;r&&(v=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||by,l&&(u<0&&g===0?(Ry("route-fallback"),m=!0,_=null):u===g&&(m=!0,_=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,g+1)),p=()=>{let f;return v?f=w:m?f=_:h.route.Component?f=S.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=c,S.createElement(Ey,{match:h,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:f})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?S.createElement(Sy,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var If=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(If||{}),$f=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($f||{});function Ty(t){let e=S.useContext(iu);return e||ee(!1),e}function Cy(t){let e=S.useContext(gy);return e||ee(!1),e}function Oy(t){let e=S.useContext(yt);return e||ee(!1),e}function Lf(t){let e=Oy(),r=e.matches[e.matches.length-1];return r.route.id||ee(!1),r.route.id}function Ny(){var t;let e=S.useContext(Pf),r=Cy(),n=Lf();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Py(){let{router:t}=Ty(If.UseNavigateStable),e=Lf($f.UseNavigateStable),r=S.useRef(!1);return Rf(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,es({fromRouteId:e},i)))},[t,e])}const Rc={};function Ry(t,e,r){Rc[t]||(Rc[t]=!0)}function Ay(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Iy(t){let{to:e,replace:r,state:n,relative:s}=t;sn()||ee(!1);let{future:i,static:o}=S.useContext(Wt),{matches:a}=S.useContext(yt),{pathname:l}=on(),u=ou(),c=su(e,nu(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(c);return S.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Uf(t){return wy(t.context)}function _t(t){ee(!1)}function $y(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ot.Pop,navigator:i,static:o=!1,future:a}=t;sn()&&ee(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:o,future:es({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=mr(n));let{pathname:c="/",search:h="",hash:g="",state:v=null,key:m="default"}=n,w=S.useMemo(()=>{let _=ru(c,l);return _==null?null:{location:{pathname:_,search:h,hash:g,state:v,key:m},navigationType:s}},[l,c,h,g,v,m,s]);return w==null?null:S.createElement(Wt.Provider,{value:u},S.createElement(eo.Provider,{children:r,value:w}))}function Ly(t){let{children:e,location:r}=t;return _y(Ba(e),r)}new Promise(()=>{});function Ba(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(n,s)=>{if(!S.isValidElement(n))return;let i=[...e,s];if(n.type===S.Fragment){r.push.apply(r,Ba(n.props.children,i));return}n.type!==_t&&ee(!1),!n.props.index||!n.props.children||ee(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ba(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},za.apply(this,arguments)}function Uy(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Dy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function My(t,e){return t.button===0&&(!e||e==="_self")&&!Dy(t)}const By=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zy="6";try{window.__reactRouterVersion=zy}catch{}const Fy="startTransition",Ac=Ng[Fy];function Vy(t){let{basename:e,children:r,future:n,window:s}=t,i=S.useRef();i.current==null&&(i.current=F0({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=S.useCallback(h=>{u&&Ac?Ac(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.useEffect(()=>Ay(n),[n]),S.createElement($y,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const Wy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ic=S.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,g=Uy(e,By),{basename:v}=S.useContext(Wt),m,w=!1;if(typeof u=="string"&&qy.test(u)&&(m=u,Wy))try{let f=new URL(window.location.href),x=u.startsWith("//")?new URL(f.protocol+u):new URL(u),k=ru(x.pathname,v);x.origin===f.origin&&k!=null?u=k+x.search+x.hash:w=!0}catch{}let _=my(u,{relative:s}),y=Hy(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:h});function p(f){n&&n(f),f.defaultPrevented||y(f)}return S.createElement("a",za({},g,{href:m||_,onClick:w||i?n:p,ref:r,target:l}))});var $c;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($c||($c={}));var Lc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lc||(Lc={}));function Hy(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ou(),u=on(),c=Af(t,{relative:o});return S.useCallback(h=>{if(My(h,r)){h.preventDefault();let g=n!==void 0?n:Ei(u)===Ei(c);l(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,t,i,o,a])}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ky={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(t,e)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>S.createElement("svg",{ref:c,...Ky,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Gy(t)}`,a].join(" "),...u},[...e.map(([h,g])=>S.createElement(h,g)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=H("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=H("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=H("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=H("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=H("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=H("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=H("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=H("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=H("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=H("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=H("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=H("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cv={},Bc=t=>{let e;const r=new Set,n=(c,h)=>{const g=typeof c=="function"?c(e):c;if(!Object.is(g,e)){const v=e;e=h??(typeof g!="object"||g===null)?g:Object.assign({},e,g),r.forEach(m=>m(e,v))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(cv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,s,l);return l},dv=t=>t?Bc(t):Bc;var Bf={exports:{}},zf={},Ff={exports:{}},Vf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=S;function hv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fv=typeof Object.is=="function"?Object.is:hv,pv=Xr.useState,gv=Xr.useEffect,mv=Xr.useLayoutEffect,yv=Xr.useDebugValue;function vv(t,e){var r=e(),n=pv({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return mv(function(){s.value=r,s.getSnapshot=e,Bo(s)&&i({inst:s})},[t,r,e]),gv(function(){return Bo(s)&&i({inst:s}),t(function(){Bo(s)&&i({inst:s})})},[t]),yv(r),r}function Bo(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fv(t,r)}catch{return!0}}function wv(t,e){return e()}var _v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wv:vv;Vf.useSyncExternalStore=Xr.useSyncExternalStore!==void 0?Xr.useSyncExternalStore:_v;Ff.exports=Vf;var xv=Ff.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=S,kv=xv;function bv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sv=typeof Object.is=="function"?Object.is:bv,Ev=kv.useSyncExternalStore,jv=to.useRef,Tv=to.useEffect,Cv=to.useMemo,Ov=to.useDebugValue;zf.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=jv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Cv(function(){function l(v){if(!u){if(u=!0,c=v,v=n(v),s!==void 0&&o.hasValue){var m=o.value;if(s(m,v))return h=m}return h=v}if(m=h,Sv(c,v))return m;var w=n(v);return s!==void 0&&s(m,w)?(c=v,m):(c=v,h=w)}var u=!1,c,h,g=r===void 0?null:r;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,r,n,s]);var a=Ev(t,i[0],i[1]);return Tv(function(){o.hasValue=!0,o.value=a},[a]),Ov(a),a};Bf.exports=zf;var Nv=Bf.exports;const Pv=al(Nv),Wf={},{useDebugValue:Rv}=bd,{useSyncExternalStoreWithSelector:Av}=Pv;let zc=!1;const Iv=t=>t;function $v(t,e=Iv,r){(Wf?"production":void 0)!=="production"&&r&&!zc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zc=!0);const n=Av(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Rv(n),n}const Fc=t=>{(Wf?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?dv(t):t,r=(n,s)=>$v(e,n,s);return Object.assign(r,e),r},Lv=t=>t?Fc(t):Fc;var au={},Ti={},Wa=function(t,e){return Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Wa(t,e)};function qf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wa(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ci=function(){return Ci=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ci.apply(this,arguments)};function an(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Hf(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Kf(t,e){return function(r,n){e(r,n,t)}}function Gf(t,e,r,n,s,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,g=!1,v=r.length-1;v>=0;v--){var m={};for(var w in n)m[w]=w==="access"?{}:n[w];for(var w in n.access)m.access[w]=n.access[w];m.addInitializer=function(y){if(g)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var _=(0,r[v])(a==="accessor"?{get:c.get,set:c.set}:c[l],m);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(h=o(_.get))&&(c.get=h),(h=o(_.set))&&(c.set=h),(h=o(_.init))&&s.unshift(h)}else(h=o(_))&&(a==="field"?s.unshift(h):c[l]=h)}u&&Object.defineProperty(u,n.name,c),g=!0}function Jf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Qf(t){return typeof t=="symbol"?t:"".concat(t)}function Yf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Xf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function O(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Zf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var ro=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function ep(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ro(e,t,r)}function Oi(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function tp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lu(arguments[e]));return t}function rp(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function np(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function sp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(m){return Promise.resolve(m).then(v,h)}}function a(v,m){n[v]&&(s[v]=function(w){return new Promise(function(_,y){i.push([v,w,_,y])>1||l(v,w)})},m&&(s[v]=m(s[v])))}function l(v,m){try{u(n[v](m))}catch(w){g(i[0][3],w)}}function u(v){v.value instanceof Zr?Promise.resolve(v.value.v).then(c,h):g(i[0][2],v)}function c(v){l("next",v)}function h(v){l("throw",v)}function g(v,m){v(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function ip(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Zr(t[s](o)),done:!1}:i?i(o):o}:i}}function op(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Oi=="function"?Oi(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function ap(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Uv=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},qa=function(t){return qa=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},qa(t)};function lp(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=qa(t),n=0;n<r.length;n++)r[n]!=="default"&&ro(e,t,r[n]);return Uv(e,t),e}function up(t){return t&&t.__esModule?t:{default:t}}function cp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function dp(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function hp(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function fp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Dv=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function pp(t){function e(i){t.error=t.hasError?new Dv(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function gp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Mv={__extends:qf,__assign:Ci,__rest:an,__decorate:Hf,__param:Kf,__esDecorate:Gf,__runInitializers:Jf,__propKey:Qf,__setFunctionName:Yf,__metadata:Xf,__awaiter:O,__generator:Zf,__createBinding:ro,__exportStar:ep,__values:Oi,__read:lu,__spread:tp,__spreadArrays:rp,__spreadArray:np,__await:Zr,__asyncGenerator:sp,__asyncDelegator:ip,__asyncValues:op,__makeTemplateObject:ap,__importStar:lp,__importDefault:up,__classPrivateFieldGet:cp,__classPrivateFieldSet:dp,__classPrivateFieldIn:hp,__addDisposableResource:fp,__disposeResources:pp,__rewriteRelativeImportExtension:gp},Bv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fp,get __assign(){return Ci},__asyncDelegator:ip,__asyncGenerator:sp,__asyncValues:op,__await:Zr,__awaiter:O,__classPrivateFieldGet:cp,__classPrivateFieldIn:hp,__classPrivateFieldSet:dp,__createBinding:ro,__decorate:Hf,__disposeResources:pp,__esDecorate:Gf,__exportStar:ep,__extends:qf,__generator:Zf,__importDefault:up,__importStar:lp,__makeTemplateObject:ap,__metadata:Xf,__param:Kf,__propKey:Qf,__read:lu,__rest:an,__rewriteRelativeImportExtension:gp,__runInitializers:Jf,__setFunctionName:Yf,__spread:tp,__spreadArray:np,__spreadArrays:rp,__values:Oi,default:Mv},Symbol.toStringTag,{value:"Module"})),zv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let no=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},mp=class extends no{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Ha=class extends no{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ka=class extends no{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Ni;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ni||(Ni={}));class Fv{constructor(e,{headers:r={},customFetch:n,region:s=Ni.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=zv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=n;let g={},{region:v}=n;v||(v=this.region);const m=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,m.searchParams.set("forceFunctionRegion",v));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(g["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(g["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(_=o.signal,c.addEventListener("abort",()=>o.abort())):_=o.signal);const y=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),a),body:w,signal:_}).catch(k=>{throw new mp(k)}),p=y.headers.get("x-relay-error");if(p&&p==="true")throw new Ha(y);if(!y.ok)throw new Ka(y);let f=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield y.json():f==="application/octet-stream"||f==="application/pdf"?x=yield y.blob():f==="text/event-stream"?x=y:f==="multipart/form-data"?x=yield y.formData():x=yield y.text(),{data:x,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Ka||a instanceof Ha?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const Vv=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ni},FunctionsClient:Fv,FunctionsError:no,FunctionsFetchError:mp,FunctionsHttpError:Ka,FunctionsRelayError:Ha},Symbol.toStringTag,{value:"Module"})),yp=ns(Vv);var ye={};const ln=ns(Bv);var Ns={},Ps={},Rs={},As={},Is={},$s={},Vc;function vp(){if(Vc)return $s;Vc=1,Object.defineProperty($s,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $s.default=t,$s}var Wc;function wp(){if(Wc)return Is;Wc=1,Object.defineProperty(Is,"__esModule",{value:!0});const e=ln.__importDefault(vp());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,h,g;let v=null,m=null,w=null,_=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const k=await l.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=k:m=JSON.parse(k))}const f=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");f&&x&&x.length>1&&(w=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(v={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,w=null,_=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const f=await l.text();try{v=JSON.parse(f),Array.isArray(v)&&l.status===404&&(m=[],v=null,_=200,y="OK")}catch{l.status===404&&f===""?(_=204,y="No Content"):v={message:f}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,_=200,y="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:m,count:w,status:_,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,h,g,v,m;let w="";const _=l==null?void 0:l.cause;if(_){const y=(u=_==null?void 0:_.message)!==null&&u!==void 0?u:"",p=(c=_==null?void 0:_.code)!==null&&c!==void 0?c:"";w=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(g=_==null?void 0:_.name)!==null&&g!==void 0?g:"Error"}: ${y}`,p&&(w+=` (${p})`),_!=null&&_.stack&&(w+=`
${_.stack}`)}else w=(v=l==null?void 0:l.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return Is.default=r,Is}var qc;function _p(){if(qc)return As;qc=1,Object.defineProperty(As,"__esModule",{value:!0});const e=ln.__importDefault(wp());let r=class extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return As.default=r,As}var Hc;function uu(){if(Hc)return Rs;Hc=1,Object.defineProperty(Rs,"__esModule",{value:!0});const e=ln.__importDefault(_p()),r=new RegExp("[,()]");let n=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return Rs.default=n,Rs}var Kc;function xp(){if(Kc)return Ps;Kc=1,Object.defineProperty(Ps,"__esModule",{value:!0});const e=ln.__importDefault(uu());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Ps.default=r,Ps}var Gc;function Wv(){if(Gc)return Ns;Gc=1,Object.defineProperty(Ns,"__esModule",{value:!0});const t=ln,e=t.__importDefault(xp()),r=t.__importDefault(uu());let n=class kp{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new kp(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let h;const g=new URL(`${this.url}/rpc/${i}`);let v;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{g.searchParams.append(w,_)})):(h="POST",v=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new r.default({method:h,url:g,headers:m,schema:this.schemaName,body:v,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Ns.default=n,Ns}Object.defineProperty(ye,"__esModule",{value:!0});ye.PostgrestError=ye.PostgrestBuilder=ye.PostgrestTransformBuilder=ye.PostgrestFilterBuilder=ye.PostgrestQueryBuilder=ye.PostgrestClient=void 0;const un=ln,bp=un.__importDefault(Wv());ye.PostgrestClient=bp.default;const Sp=un.__importDefault(xp());ye.PostgrestQueryBuilder=Sp.default;const Ep=un.__importDefault(uu());ye.PostgrestFilterBuilder=Ep.default;const jp=un.__importDefault(_p());ye.PostgrestTransformBuilder=jp.default;const Tp=un.__importDefault(wp());ye.PostgrestBuilder=Tp.default;const Cp=un.__importDefault(vp());ye.PostgrestError=Cp.default;ye.default={PostgrestClient:bp.default,PostgrestQueryBuilder:Sp.default,PostgrestFilterBuilder:Ep.default,PostgrestTransformBuilder:jp.default,PostgrestBuilder:Tp.default,PostgrestError:Cp.default};class Op{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qv="2.87.1",Hv=`realtime-js/${qv}`,Np="1.0.0",Kv="2.0.0",Jc=Np,Ga=1e4,Gv=1e3,Jv=100;var tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tr||(tr={}));var te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(te||(te={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var Ja;(function(t){t.websocket="websocket"})(Ja||(Ja={}));var rr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rr||(rr={}));class Qv{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let m=new DataView(v),w=0;m.setUint8(w++,this.KINDS.userBroadcastPush),m.setUint8(w++,l.length),m.setUint8(w++,a.length),m.setUint8(w++,o.length),m.setUint8(w++,u.length),m.setUint8(w++,h.length),m.setUint8(w++,r),Array.from(l,y=>m.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>m.setUint8(w++,y.charCodeAt(0))),Array.from(o,y=>m.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>m.setUint8(w++,y.charCodeAt(0))),Array.from(h,y=>m.setUint8(w++,y.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const g=e.slice(l,e.byteLength),v=a===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,m={type:this.BROADCAST_EVENT,event:c,payload:v};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Pp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const Qc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Yv(o,t,e,s),i),{}):{}},Yv=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Rp(i,o):Qa(o)},Rp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return tw(e,r)}switch(t){case B.bool:return Xv(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Zv(e);case B.json:case B.jsonb:return ew(e);case B.timestamp:return rw(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return Qa(e);default:return Qa(e)}},Qa=t=>t,Xv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Zv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ew=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rp(e,a))}return t},rw=t=>typeof t=="string"?t.replace(" ","T"):t,Ap=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zo{constructor(e,r,n={},s=Ga){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ya;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ya||(Ya={}));let Ip=class Ys{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ys.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ys.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ys.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const g=c.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),m=c.filter(_=>v.indexOf(_.presence_ref)<0),w=h.filter(_=>g.indexOf(_.presence_ref)<0);m.length>0&&(a[u]=m),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(v=>v.presence_ref),g=c.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...g)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Xa;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Xa||(Xa={}));var Vr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vr||(Vr={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));const nw=te;let $p=class Sn{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new Pp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=te.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ip(this),this.broadcastEndpointURL=Ap(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==te.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Vr.PRESENCE]&&this.bindings[Vr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(rt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(rt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,y=[];for(let p=0;p<_;p++){const f=w[p],{filter:{event:x,schema:k,table:b,filter:E}}=f,T=v&&v[p];if(T&&T.event===x&&Sn.isFilterValueEqual(T.schema,k)&&Sn.isFilterValueEqual(T.table,b)&&Sn.isFilterValueEqual(T.filter,E))y.push(Object.assign(Object.assign({},f),{id:T.id}));else{this.unsubscribe(),this.state=te.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(rt.SUBSCRIBED);return}}).receive("error",v=>{this.state=te.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===te.joined&&e===Vr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=te.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new zo(this,Je.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=te.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new zo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Jv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Je;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var m,w,_;return((m=v.filter)===null||m===void 0?void 0:m.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var m,w,_,y,p,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const x=v.id,k=(m=v.filter)===null||m===void 0?void 0:m.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(p=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const m=g.data,{schema:w,table:_,commit_timestamp:y,type:p,errors:f}=m;g=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:y,eventType:p,new:{},old:{},errors:f}),this._getPayloadRecords(m))}v.callback(g,n)})}_isClosed(){return this.state===te.closed}_isJoined(){return this.state===te.joined}_isJoining(){return this.state===te.joining}_isLeaving(){return this.state===te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Sn.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Qc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Qc(e.columns,e.old_record)),r}};const Fo=()=>{},Ls={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sw=[1e3,2e3,5e3,1e4],iw=1e4,ow=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let aw=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ga,this.transport=null,this.heartbeatIntervalMs=Ls.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fo,this.ref=0,this.reconnectTimer=null,this.vsn=Jc,this.logger=Fo,this.conn=null,this.sendBuffer=[],this.serializer=new Qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ja.websocket}`,this.httpEndpoint=Ap(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Op.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tr.connecting:return rr.Connecting;case tr.open:return rr.Open;case tr.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new $p(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Gv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ls.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tr.open||this.conn.readyState===tr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([ow],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Hv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Je.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Pp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ls.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,h,g,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ga,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ls.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Fo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Jc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:m=>sw[m-1]||iw,this.vsn){case Np:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(m,w)=>w(JSON.stringify(m)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(m,w)=>w(JSON.parse(m));break;case Kv:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const lw=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:nw,get REALTIME_LISTEN_TYPES(){return Vr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Xa},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ya},get REALTIME_SUBSCRIBE_STATES(){return rt},RealtimeChannel:$p,RealtimeClient:aw,RealtimePresence:Ip,WebSocketFactory:Op},Symbol.toStringTag,{value:"Module"})),Lp=ns(lw);class us extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function W(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Up extends us{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pi extends us{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const cu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uw=()=>Response,Za=t=>{if(Array.isArray(t))return t.map(r=>Za(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Za(n)}),e},cw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Vo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},hw=(t,e,r)=>O(void 0,void 0,void 0,function*(){const n=yield uw();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Up(Vo(s),i,o))}).catch(s=>{e(new Pi(Vo(s),s))}):e(new Pi(Vo(t),t))}),fw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(cw(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function cs(t,e,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,fw(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hw(l,a,n))})})}function ts(t,e,r,n){return O(this,void 0,void 0,function*(){return cs(t,"GET",e,r,n)})}function Ke(t,e,r,n,s){return O(this,void 0,void 0,function*(){return cs(t,"POST",e,n,s,r)})}function el(t,e,r,n,s){return O(this,void 0,void 0,function*(){return cs(t,"PUT",e,n,s,r)})}function pw(t,e,r,n){return O(this,void 0,void 0,function*(){return cs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function du(t,e,r,n,s){return O(this,void 0,void 0,function*(){return cs(t,"DELETE",e,n,s,r)})}class gw{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}}var Dp;class mw{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Dp]="BlobDownloadBuilder",this.promise=null}asStream(){return new gw(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}}Dp=Symbol.toStringTag;const yw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vw{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=cu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Yc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield(e=="PUT"?el:Ke)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(W(i))return{data:null,error:i};throw i}})}upload(e,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Yc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield el(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(W(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return O(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ke(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new us("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}update(e,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return O(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}copy(e,r,n){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield Ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ke(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return O(this,void 0,void 0,function*(){try{const s=yield Ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ts(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new mw(l,this.shouldThrowOnError)}info(e){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ts(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Za(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}exists(e){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield pw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n)&&n instanceof Pi){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return O(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}list(e,r,n){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},yw),r),{prefix:e||""});return{data:yield Ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}listV2(e,r){return O(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ke(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Mp="2.87.1",Bp={"X-Client-Info":`storage-js/${Mp}`};class ww{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bp),r),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return O(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ts(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}createBucket(e){return O(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return O(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}emptyBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var rs=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _w(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function xw(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function kw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=_w(t.baseUrl,n,s),l=await xw(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),g=h&&c?JSON.parse(c):c;if(!u.ok){const v=h?g:void 0,m=v==null?void 0:v.error;throw new rs((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:v})}return{status:u.status,headers:u.headers,data:g}}}}function Us(t){return t.join("")}var bw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Us(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(t.namespace)}`}),!0}catch(e){if(e instanceof rs&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof rs&&r.status===409)return;throw r}}};function wr(t){return t.join("")}var Sw=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof rs&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof rs&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Ew=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=kw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new bw(this.client,e),this.tableOps=new Sw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class zp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bp),r),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}listBuckets(e){return O(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ts(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}from(e){if(!dw(e))throw new us("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Ew({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>O(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const a=i[o];return typeof a!="function"?a:(...l)=>O(this,void 0,void 0,function*(){try{return{data:yield a.apply(i,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}})}})}}const hu={"X-Client-Info":`storage-js/${Mp}`,"Content-Type":"application/json"};class fu extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ee(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Xs extends fu{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fp extends fu{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var tl;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tl||(tl={}));const so=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jw=()=>Response,Vp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tw=t=>Array.from(new Float32Array(t)),Cw=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},Xc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ow=(t,e,r)=>O(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Xs(Xc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Xs(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Xs(a,s,o))}}else e(new Fp(Xc(t),t))}),Nw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Vp(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Pw(t,e,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Nw(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Ow(l,a,n))})})}function Re(t,e,r,n,s){return O(this,void 0,void 0,function*(){return Pw(t,"POST",e,n,s,r)})}class Wp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hu),r),this.fetch=so(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Re(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}getIndex(e,r){return O(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}listIndexes(e){return O(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return O(this,void 0,void 0,function*(){try{return{data:(yield Re(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}})}}class qp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hu),r),this.fetch=so(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return O(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Re(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}getVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}listVectors(e){return O(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Re(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}queryVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}deleteVectors(e){return O(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Re(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}}class Hp{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hu),r),this.fetch=so(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Re(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}listBuckets(){return O(this,arguments,void 0,function*(e={}){try{return{data:yield Re(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Re(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}})}}class Kp extends Hp{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Gp(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return O(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return O(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return O(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return O(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Gp extends Wp{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Jp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Jp extends qp{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Rw extends ww{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new vw(this.url,this.headers,e,this.fetch)}get vectors(){return new Kp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zp(this.url+"/iceberg",this.headers,this.fetch)}}const Aw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:zp,StorageApiError:Up,StorageClient:Rw,StorageError:us,StorageUnknownError:Pi,StorageVectorsApiError:Xs,StorageVectorsClient:Kp,StorageVectorsError:fu,get StorageVectorsErrorCode(){return tl},StorageVectorsUnknownError:Fp,VectorBucketApi:Hp,VectorBucketScope:Gp,VectorDataApi:qp,VectorIndexApi:Wp,VectorIndexScope:Jp,isPlainObject:Vp,isStorageError:W,isStorageVectorsError:Ee,normalizeToFloat32:Tw,resolveFetch:so,resolveResponse:jw,validateVectorDimension:Cw},Symbol.toStringTag,{value:"Module"})),Iw=ns(Aw);var Qp={},io={};Object.defineProperty(io,"__esModule",{value:!0});io.version=void 0;io.version="2.87.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=io;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Qp);var Yp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,t.resolveFetch)(o),l=(0,t.resolveHeadersConstructor)();return async(u,c)=>{var h;const g=(h=await i())!==null&&h!==void 0?h:s;let v=new l(c==null?void 0:c.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),a(u,Object.assign(Object.assign({},c),{headers:v}))}};t.fetchWithAuth=n})(Yp);var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.isBrowser=void 0;qt.uuid=$w;qt.ensureTrailingSlash=Xp;qt.applySettingDefaults=Uw;qt.validateSupabaseUrl=Dw;function $w(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function Xp(t){return t.endsWith("/")?t:t+"/"}const Lw=()=>typeof window<"u";qt.isBrowser=Lw;function Uw(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,g={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Dw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Xp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var oo={};const Zp="2.87.1",br=30*1e3,rl=3,Wo=rl*br,Mw="http://localhost:9999",Bw="supabase.auth.token",zw={"X-Client-Info":`gotrue-js/${Zp}`},nl="X-Supabase-Api-Version",eg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vw=10*60*1e3;let en=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function P(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let tg=class extends en{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function rg(t){return P(t)&&t.name==="AuthApiError"}let Et=class extends en{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},vt=class extends en{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}},be=class extends vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ng(t){return P(t)&&t.name==="AuthSessionMissingError"}let Xt=class extends vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},En=class extends vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},jn=class extends vt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function sg(t){return P(t)&&t.name==="AuthImplicitGrantRedirectError"}let sl=class extends vt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ri=class extends vt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Zs(t){return P(t)&&t.name==="AuthRetryableFetchError"}let il=class extends vt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function Ww(t){return P(t)&&t.name==="AuthWeakPasswordError"}let Ai=class extends vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zc=` 	
\r=`.split(""),qw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Zc.length;e+=1)t[Zc[e].charCodeAt(0)]=-2;for(let e=0;e<Ii.length;e+=1)t[Ii[e].charCodeAt(0)]=e;return t})();function ed(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ii[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ii[n]),e.queuedBits-=6}}function ig(t,e,r){const n=qw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function td(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Gw(o,n,r)};for(let o=0;o<t.length;o+=1)ig(t.charCodeAt(o),s,i);return e.join("")}function Hw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Kw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Hw(n,e)}}function Gw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Wr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)ig(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Jw(t){const e=[];return Kw(t,r=>e.push(r)),new Uint8Array(e)}function or(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>ed(s,r,n)),ed(null,r,n),e.join("")}function Qw(t){return Math.round(Date.now()/1e3)+t}function Yw(){return Symbol("auth-callback")}const ce=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},og=()=>{if(!ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function Xw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const ag=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Zw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Sr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Jt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ue=async(t,e)=>{await t.removeItem(e)};class ao{constructor(){this.promise=new ao.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ao.promiseConstructor=Promise;function qo(t){const e=t.split(".");if(e.length!==3)throw new Ai("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Fw.test(e[n]))throw new Ai("JWT not in base64url format");return{header:JSON.parse(td(e[0])),payload:JSON.parse(td(e[1])),signature:Wr(e[2]),raw:{header:e[0],payload:e[1]}}}async function e_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function t_(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function r_(t){return("0"+t.toString(16)).substr(-2)}function n_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,r_).join("")}async function s_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function i_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await s_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(t,e,r=!1){const n=n_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Sr(t,`${e}-code-verifier`,s);const i=await i_(n);return[i,n===i?"plain":"s256"]}const o_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a_(t){const e=t.headers.get(nl);if(!e||!e.match(o_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function l_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function u_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const c_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xr(t){if(!c_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ho(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function d_(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function rd(t){return JSON.parse(JSON.stringify(t))}const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),h_=[502,503,504];async function nd(t){var e;if(!Zw(t))throw new Ri(Zt(t),0);if(h_.includes(t.status))throw new Ri(Zt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Et(Zt(i),i)}let n;const s=a_(t);if(s&&s.getTime()>=eg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new il(Zt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new be}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new il(Zt(r),t.status,r.weak_password.reasons);throw new tg(Zt(r),t.status||500,n)}const f_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function R(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[nl]||(i[nl]=eg["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await p_(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function p_(t,e,r,n,s,i){const o=f_(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Ri(Zt(l),0)}if(a.ok||await nd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await nd(l)}}function qe(t){var e;let r=null;y_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Qw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function sd(t){const e=qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function jt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function g_(t){return{data:t,error:null}}function m_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=an(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function id(t){return t}function y_(t){return t.access_token&&t.refresh_token&&t.expires_in}const ei=["global","local","others"];let pu=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ag(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ei[0]){if(ei.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ei.join(", ")}`);try{return await R(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await R(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:jt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=an(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:m_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await R(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:id});if(c.error)throw c.error;const h=await c.json(),g=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(P(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){xr(e);try{return await R(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){xr(e);try{return await R(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:jt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){xr(e);try{return await R(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:jt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){xr(e.userId);try{const{data:r,error:n}=await R(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(e){xr(e.userId),xr(e.id);try{return{data:await R(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await R(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:id});if(c.error)throw c.error;const h=await c.json(),g=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(m.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(P(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await R(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await R(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await R(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}};function od(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const er={debug:!!(globalThis&&og()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let lg=class extends gu{};class v_ extends gu{}async function ug(t,e,r){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const ad={};async function w_(t,e,r){var n;const s=(n=ad[t])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,a)=>{setTimeout(()=>{a(new v_(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return ad[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function __(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function x_(t){return parseInt(t,16)}function k_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function b_(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=cg(t.address),m=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",_=`${m} wants you to sign in with your Ethereum account:
${v}

${w}`;let y=`URI: ${h}
Version: ${g}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const f of u){if(!f||typeof f!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${f}`);p+=`
- ${f}`}y+=p}return`${_}
${y}`}class re extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class $i extends re{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function S_({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(dg(o)){if(i.rp.id!==o)return new re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function E_({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(dg(n)){if(r.rpId!==n)return new re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class j_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const T_=new j_;function C_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=an(t,["challenge","user","excludeCredentials"]),i=Wr(e).buffer,o=Object.assign(Object.assign({},r),{id:Wr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Wr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function O_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=an(t,["challenge","allowCredentials"]),s=Wr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Wr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function N_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:or(new Uint8Array(t.response.attestationObject)),clientDataJSON:or(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function P_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:or(new Uint8Array(s.authenticatorData)),clientDataJSON:or(new Uint8Array(s.clientDataJSON)),signature:or(new Uint8Array(s.signature)),userHandle:s.userHandle?or(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ld(){var t,e;return!!(ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function R_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $i("Browser returned unexpected credential type",e)}:{data:null,error:new $i("Empty credential response",e)}}catch(e){return{data:null,error:S_({error:e,options:t})}}}async function A_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new $i("Browser returned unexpected credential type",e)}:{data:null,error:new $i("Empty credential response",e)}}catch(e){return{data:null,error:E_({error:e,options:t})}}}const I_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Li(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Li(a,o):n[i]=Li(o)}else n[i]=o}return n}function L_(t,e){return Li(I_,t,e||{})}function U_(t,e){return Li($_,t,e||{})}class D_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??T_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=L_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await R_({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=U_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await A_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new Et("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new en("rpId is required for WebAuthn authentication")};try{if(!ld())return{data:null,error:new Et("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new Et("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new en("rpId is required for WebAuthn registration")};try{if(!ld())return{data:null,error:new Et("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new Et("Unexpected error in register",o)}}}}__();const M_={url:Mw,storageKey:Bw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ud(t,e,r){return await r()}const kr={};let mu=class ol{get jwks(){var e,r;return(r=(e=kr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=kr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},M_),e);if(this.storageKey=i.storageKey,this.instanceID=(r=ol.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ol.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ce()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pu({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ag(i.fetch),this.lock=i.lock||ud,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&ce()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ug:this.lock=ud,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new D_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:og()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=od(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=od(this.memoryStorage)),ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ce()&&(r=Xw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ce()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),sg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?this._returnResult({error:r}):this._returnResult({error:new Et("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:h,options:g}=e;let v=null,m=null;this.flowType==="pkce"&&([v,m]=await _r(this.storage,this.storageKey)),i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:c,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:m},xform:qe})}else if("phone"in e){const{phone:c,password:h,options:g}=e;i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:qe})}else throw new En("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ue(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sd})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sd})}else throw new En("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Xt;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,h,g;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:w,wallet:_,statement:y,options:p}=e;let f;if(ce())if(typeof _=="object")f=_;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")f=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");f=_}const x=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),k=await f.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=cg(k[0]);let E=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const U=await f.request({method:"eth_chainId"});E=x_(U)}const T={domain:x.host,address:b,statement:y,uri:x.href,version:"1",chainId:E,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};v=b_(T),m=await f.request({method:"personal_sign",params:[k_(v),b]})}try{const{data:w,error:_}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:qe});if(_)throw _;if(!w||!w.session||!w.user){const y=new Xt;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(P(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,h,g,v;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:_,wallet:y,statement:p,options:f}=e;let x;if(ce())if(typeof y=="object")x=y;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))x=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const k=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const b=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let E;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")E=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)E=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(c=f==null?void 0:f.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const b=await x.signMessage(new TextEncoder().encode(m),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:_,error:y}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:or(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:qe});if(y)throw y;if(!_||!_.session||!_.user){const p=new Xt;return this._returnResult({data:{user:null,session:null},error:p})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:y})}catch(_){if(P(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qe});if(await ue(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Xt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qe}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Xt;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await _r(this.storage,this.storageKey));const{error:h}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new En("You must provide either an email or phone number.")}catch(a){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await _r(this.storage,this.storageKey));const u=await R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:g_});return!((i=u.data)===null||i===void 0)&&i.url&&ce()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new be;const{error:s}=await R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(P(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await R(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await R(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new En("You must provide either an email or phone number and a type")}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Jt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ho()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=d_(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new be}:await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:jt})})}catch(r){if(P(r))return ng(r)&&(await this._removeSession(),await ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new be;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await _r(this.storage,this.storageKey));const{data:u,error:c}=await R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:jt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new be;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=qo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new be;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(P(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ce())throw new jn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new sl("No code detected.");const{data:p,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new jn("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let g=c+h;l&&(g=parseInt(l));const v=g-c;v*1e3<=br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const m=g-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,g,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,g,c);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(P(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(rg(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Yw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await _r(this.storage,this.storageKey,!0));try{return await R(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await R(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ce()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(P(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,h=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qe}),{data:g,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Xt}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(s){if(await ue(this.storage,`${this.storageKey}-code-verifier`),P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await R(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await t_(async s=>(s>0&&await e_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zs(i)&&Date.now()+o-n<br})}catch(n){if(this._debug(r,"error",n),P(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ce()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Jt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Sr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ho()}else if(s&&!s.user&&!s.user){const o=await Jt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ue(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,s)):s.user=Ho()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Zs(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ao;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new be;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),P(i)){const o={data:null,error:i};return Zs(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ue(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=rd(s);await Sr(this.storage,this.storageKey,i)}else{const s=rd(r);await Sr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ue(this.storage,this.storageKey),await ue(this.storage,this.storageKey+"-code-verifier"),await ue(this.storage,this.storageKey+"-user"),this.userStorage&&await ue(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),br);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${br}ms, refresh threshold is ${rl} ticks`),s<=rl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await _r(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await R(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await R(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?N_(e.webauthn.credential_response):P_(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:C_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:O_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=qo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await R(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new be})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new be});const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new be});const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await R(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new be})})}catch(e){if(P(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await R(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new be})})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Vw>s)return n;const{data:i,error:o}=await R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:m}=await this.getSession();if(m||!v.session)return this._returnResult({data:null,error:m});n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=qo(n);r!=null&&r.allowExpired||l_(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=u_(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Jw(`${a}.${l}`)))throw new Ai("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}};mu.nextInstanceID={};const B_=pu,z_=mu,F_=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:B_,AuthApiError:tg,AuthClient:z_,AuthError:en,AuthImplicitGrantRedirectError:jn,AuthInvalidCredentialsError:En,AuthInvalidJwtError:Ai,AuthInvalidTokenResponseError:Xt,AuthPKCEGrantCodeExchangeError:sl,AuthRetryableFetchError:Ri,AuthSessionMissingError:be,AuthUnknownError:Et,AuthWeakPasswordError:il,CustomAuthError:vt,GoTrueAdminApi:pu,GoTrueClient:mu,NavigatorLockAcquireTimeoutError:lg,SIGN_OUT_SCOPES:ei,isAuthApiError:rg,isAuthError:P,isAuthImplicitGrantRedirectError:sg,isAuthRetryableFetchError:Zs,isAuthSessionMissingError:ng,isAuthWeakPasswordError:Ww,lockInternals:er,navigatorLock:ug,processLock:w_},Symbol.toStringTag,{value:"Module"})),hg=ns(F_);Object.defineProperty(oo,"__esModule",{value:!0});oo.SupabaseAuthClient=void 0;const V_=hg;class W_ extends V_.AuthClient{constructor(e){super(e)}}oo.SupabaseAuthClient=W_;Object.defineProperty(Ti,"__esModule",{value:!0});const q_=yp,H_=ye,K_=Lp,G_=Iw,Ds=Qp,J_=Yp,cd=qt,Q_=oo;let Y_=class{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=(0,cd.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Ds.DEFAULT_DB_OPTIONS,realtime:Ds.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Ds.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Ds.DEFAULT_GLOBAL_OPTIONS},c=(0,cd.applySettingDefaults)(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=(0,J_.fetchWithAuth)(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new H_.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new G_.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new q_.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},h,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q_.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new K_.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Ti.default=Y_;(function(t){var e=yr&&yr.__createBinding||(Object.create?function(c,h,g,v){v===void 0&&(v=g);var m=Object.getOwnPropertyDescriptor(h,g);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(c,v,m)}:function(c,h,g,v){v===void 0&&(v=g),c[v]=h[g]}),r=yr&&yr.__exportStar||function(c,h){for(var g in c)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&e(h,c,g)},n=yr&&yr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=n(Ti);r(hg,t);var i=ye;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=yp;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(Lp,t);var a=Ti;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const l=(c,h,g)=>new s.default(c,h,g);t.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const c=process.version;if(c==null)return!1;const h=c.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(au);const fg=al(au),X_=hd({__proto__:null,default:fg},[au]),{PostgrestError:Mx,FunctionsHttpError:Bx,FunctionsFetchError:zx,FunctionsRelayError:Fx,FunctionsError:Vx,FunctionRegion:Wx,SupabaseClient:qx,createClient:Z_,GoTrueAdminApi:Hx,GoTrueClient:Kx,AuthAdminApi:Gx,AuthClient:Jx,navigatorLock:Qx,NavigatorLockAcquireTimeoutError:Yx,lockInternals:Xx,processLock:Zx,SIGN_OUT_SCOPES:ek,AuthError:tk,AuthApiError:rk,AuthUnknownError:nk,CustomAuthError:sk,AuthSessionMissingError:ik,AuthInvalidTokenResponseError:ok,AuthInvalidCredentialsError:ak,AuthImplicitGrantRedirectError:lk,AuthPKCEGrantCodeExchangeError:uk,AuthRetryableFetchError:ck,AuthWeakPasswordError:dk,AuthInvalidJwtError:hk,isAuthError:fk,isAuthApiError:pk,isAuthSessionMissingError:gk,isAuthImplicitGrantRedirectError:mk,isAuthRetryableFetchError:yk,isAuthWeakPasswordError:vk,RealtimePresence:wk,RealtimeChannel:_k,RealtimeClient:xk,REALTIME_LISTEN_TYPES:kk,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:bk,REALTIME_PRESENCE_LISTEN_EVENTS:Sk,REALTIME_SUBSCRIBE_STATES:Ek,REALTIME_CHANNEL_STATES:jk}=fg||X_,ex="https://zwbxdigamokvzfotdavl.supabase.co",tx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3YnhkaWdhbW9rdnpmb3RkYXZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1OTMwMjAsImV4cCI6MjA4MTE2OTAyMH0.VFTvo2gIxK0THo8uMkkdfdcrS2a0VRUSR3h8jXUdGvs",X=Z_(ex,tx),dt=Lv((t,e)=>({products:[],sales:[],loading:!1,user:null,session:null,authInitialized:!1,checkSession:async()=>{const{data:{session:r}}=await X.auth.getSession();t({session:r,user:(r==null?void 0:r.user)||null,authInitialized:!0}),X.auth.onAuthStateChange((n,s)=>{t({session:s,user:(s==null?void 0:s.user)||null,authInitialized:!0})})},signOut:async()=>{await X.auth.signOut(),t({session:null,user:null})},fetchData:async()=>{t({loading:!0});const{data:r}=await X.from("products").select("*"),{data:n}=await X.from("sales").select("*, items:sale_items(*)");t({products:r||[],sales:n||[],loading:!1})},addProduct:async r=>{const{data:n,error:s}=await X.from("products").insert([r]).select().single();n&&t(i=>({products:[...i.products,n]}))},updateProduct:async(r,n)=>{const{data:s,error:i}=await X.from("products").update(n).eq("id",r).select().single();s&&t(o=>({products:o.products.map(a=>a.id===r?s:a)}))},deleteProduct:async r=>{await X.from("products").delete().eq("id",r),t(n=>({products:n.products.filter(s=>s.id!==r)}))},addSale:async r=>{const{data:n,error:s}=await X.from("sales").insert([{total:r.total,payment_method:r.payment_method,customer_name:r.customer_name,customer_phone:r.customer_phone,sale_date:r.sale_date||new Date().toISOString()}]).select().single();if(s||!n)return;const i=r.items.map(a=>({sale_id:n.id,product_id:a.productId,quantity:a.quantity,price:a.price,product_name:a.name}));await X.from("sale_items").insert(i);const o=[...e().products];for(const a of r.items){const l=o.find(u=>u.id===a.productId);if(l){const u=l.stock-a.quantity;l.stock=u,await X.from("products").update({stock:u}).eq("id",a.productId)}}t(a=>({sales:[...a.sales,{...n,items:i}],products:o}))},deleteSale:async r=>{const{data:n}=await X.from("sale_items").select("*").eq("sale_id",r),s=[...e().products];for(const i of n){const o=s.find(a=>a.id===i.product_id);if(o){const a=o.stock+i.quantity;o.stock=a,await X.from("products").update({stock:a}).eq("id",i.product_id)}}await X.from("sale_items").delete().eq("sale_id",r),await X.from("sales").delete().eq("id",r),t(i=>({sales:i.sales.filter(o=>o.id!==r),products:s}))},updateSale:async(r,n)=>{const{data:s}=await X.from("sale_items").select("*").eq("sale_id",r),i=[...e().products];for(const l of s){const u=i.find(c=>c.id===l.product_id);u&&(u.stock+=l.quantity)}for(const l of n.items){const u=i.find(c=>c.id===l.productId);if(u){if(u.stock<l.quantity)throw new Error(`Estoque insuficiente para ${u.name}`);u.stock-=l.quantity}}const o={total:n.total,payment_method:n.paymentMethod,customer_name:n.customer_name,customer_phone:n.customer_phone,sale_date:n.sale_date};await X.from("sales").update(o).eq("id",r),await X.from("sale_items").delete().eq("sale_id",r);const a=n.items.map(l=>({sale_id:r,product_id:l.productId,quantity:l.quantity,price:l.price,product_name:l.name}));await X.from("sale_items").insert(a);for(const l of i)await X.from("products").update({stock:l.stock}).eq("id",l.id);await e().fetchData()}}));function rx(){const t=on(),{fetchData:e,user:r,signOut:n}=dt(),[s,i]=S.useState(!1),[o,a]=S.useState(()=>localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches);S.useEffect(()=>{e(),o?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[o]);const l=[{path:"/",label:"Dashboard",icon:ev},{path:"/inventory",label:"Estoque",icon:Fa},{path:"/sales",label:"Vendas",icon:ji},{path:"/sales-history",label:"Histrico",icon:Zy}];return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col md:flex-row transition-colors duration-300",children:[d.jsx("div",{className:"md:hidden fixed top-0 w-full z-20 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center transition-colors duration-300",children:d.jsxs("div",{className:"flex items-center justify-center w-full relative",children:[d.jsx("h1",{className:"text-4xl font-normal text-pink-600 dark:text-pink-400 font-['Great_Vibes'] tracking-wider drop-shadow-sm",children:"Angel Fit"}),d.jsxs("div",{className:"absolute right-0 flex items-center gap-3",children:[d.jsx("button",{onClick:()=>a(!o),className:"text-gray-500 dark:text-gray-400 p-1",children:o?d.jsx(Mc,{className:"w-5 h-5"}):d.jsx(Dc,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>n(),className:"text-gray-500 dark:text-gray-400 p-1",children:d.jsx(Uc,{className:"w-5 h-5"})})]})]})}),d.jsxs("nav",{className:"hidden md:flex bg-white dark:bg-gray-800 shadow-md z-10 w-64 h-screen flex-col border-r border-gray-100 dark:border-gray-700 transition-colors duration-300",children:[d.jsx("div",{className:"p-6 flex items-center justify-center border-b border-gray-100 dark:border-gray-700",children:d.jsx("h1",{className:"text-4xl font-normal text-pink-600 dark:text-pink-400 font-['Great_Vibes'] tracking-widest drop-shadow-md whitespace-nowrap",children:"Angel Fit"})}),d.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:d.jsx("ul",{className:"space-y-1",children:l.map(u=>{const c=u.icon,h=t.pathname===u.path;return d.jsx("li",{children:d.jsxs(Ic,{to:u.path,className:`flex items-center px-6 py-3 transition-colors ${h?"text-pink-600 dark:text-pink-400 bg-pink-50 dark:bg-pink-900/20 border-r-4 border-pink-600 dark:border-pink-400":"text-gray-500 dark:text-gray-400 hover:text-pink-500 dark:hover:text-pink-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[d.jsx(c,{className:"w-5 h-5 mr-3"}),d.jsx("span",{className:"text-sm font-medium",children:u.label})]})},u.path)})})}),d.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-xs text-gray-400",children:"Logado como:"}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 truncate",title:r==null?void 0:r.email,children:r==null?void 0:r.email})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{onClick:()=>a(!o),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition",children:o?d.jsx(Mc,{className:"w-5 h-5"}):d.jsx(Dc,{className:"w-5 h-5"})}),d.jsxs("button",{onClick:()=>n(),className:"flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:[d.jsx(Uc,{className:"w-5 h-5 mr-2"}),d.jsx("span",{className:"text-sm font-medium",children:"Sair"})]})]})]})]}),d.jsx("div",{className:"md:hidden fixed bottom-0 w-full bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-20 flex justify-around p-2",children:l.map(u=>{const c=u.icon,h=t.pathname===u.path;return d.jsxs(Ic,{to:u.path,className:`flex flex-col items-center p-2 rounded-lg ${h?"text-pink-600 dark:text-pink-400":"text-gray-500 dark:text-gray-400"}`,children:[d.jsx(c,{className:"w-6 h-6"}),d.jsx("span",{className:"text-[10px] mt-1",children:u.label})]},u.path)})}),d.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8 pt-20 pb-24 md:pt-8 md:pb-8 transition-colors duration-300",children:d.jsx(Uf,{})})]})}function nx(){const{products:t,sales:e}=dt(),r=S.useMemo(()=>{const s=t.length,i=t.filter(p=>p.stock===0).length,o=new Date().toISOString().split("T")[0],a=e.filter(p=>p.sale_date&&p.sale_date.startsWith(o)).reduce((p,f)=>p+f.total,0),l=e.reduce((p,f)=>p+f.total,0),u=e.reduce((p,f)=>p+(f.items?f.items.reduce((x,k)=>x+k.quantity,0):0),0),c=t.reduce((p,f)=>p+f.cost*f.stock,0),h=t.reduce((p,f)=>p+f.cost*f.stock,0)+e.reduce((p,f)=>f.items?p+f.items.reduce((x,k)=>{const b=t.find(E=>E.id===k.product_id);return x+(b?b.cost*k.quantity:0)},0):p,0),g=t.reduce((p,f)=>p+f.price*f.stock,0),v=l-h,m=e.length>0?l/e.length:0,w={},_={};t.forEach(p=>{const f=p.category||"Sem Categoria";w[f]||(w[f]={stock:0,cost:0,sales:0}),w[f].stock+=p.stock,w[f].cost+=p.cost*p.stock;const x=p.color||"Sem Cor";_[x]||(_[x]={stock:0,cost:0,sales:0}),_[x].stock+=p.stock,_[x].cost+=p.cost*p.stock});const y=t.reduce((p,f)=>(p[f.id]=f,p),{});return e.forEach(p=>{p.items&&p.items.forEach(f=>{const x=y[f.product_id];if(x){const k=f.price*f.quantity,b=x.category||"Sem Categoria";w[b]||(w[b]={stock:0,cost:0,sales:0}),w[b].sales+=k;const E=x.color||"Sem Cor";_[E]||(_[E]={stock:0,cost:0,sales:0}),_[E].sales+=k}})}),{totalProducts:s,outOfStock:i,salesToday:a,totalRevenue:l,itemsSold:u,totalCost:c,totalPiecesCost:h,potentialRevenue:g,profitMargin:v,averageTicket:m,byCategory:w,byColor:_}},[t,e]),n=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s);return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Viso Geral"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[d.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full text-green-600 dark:text-green-400 mr-4",children:d.jsx(Mo,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Vendas Hoje"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.salesToday)})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[d.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-full text-indigo-600 dark:text-indigo-400 mr-4",children:d.jsx(Mo,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Total Vendido"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.totalRevenue)}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.itemsSold," peas vendidas"]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[d.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full text-purple-600 dark:text-purple-400 mr-4",children:d.jsx(Fa,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Custo do Estoque"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.totalCost)}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.reduce((s,i)=>s+i.stock,0)," peas"]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[d.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600 dark:text-blue-400 mr-4",children:d.jsx(Fa,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Investimento Total"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.totalPiecesCost)}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.reduce((s,i)=>s+i.stock,0)+r.itemsSold," peas compradas"]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[d.jsx("div",{className:"p-3 bg-emerald-100 dark:bg-emerald-900/30 rounded-full text-emerald-600 dark:text-emerald-400 mr-4",children:d.jsx(Mo,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Potencial do Estoque"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.potentialRevenue)}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.reduce((s,i)=>s+i.stock,0)," peas"]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[d.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-full text-orange-600 dark:text-orange-400 mr-4",children:d.jsx(Jy,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Sem Estoque"}),d.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[r.outOfStock," itens"]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[d.jsx("div",{className:`p-3 rounded-full mr-4 ${r.profitMargin>=0?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:d.jsx(ov,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Lucro Lquido"}),d.jsx("p",{className:`text-2xl font-bold ${r.profitMargin>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:n(r.profitMargin)}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"vendas - investimento"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center",children:[d.jsx("div",{className:"p-3 bg-cyan-100 dark:bg-cyan-900/30 rounded-full text-cyan-600 dark:text-cyan-400 mr-4",children:d.jsx(ji,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Ticket Mdio"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n(r.averageTicket)}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"por venda"})]})]})]}),d.jsxs("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(dd,{title:"Desempenho por Categoria",data:r.byCategory,label:"Categoria",formatCurrency:n}),d.jsx(dd,{title:"Desempenho por Cor",data:r.byColor,label:"Cor",formatCurrency:n})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Vendas Recentes"})}),d.jsx("div",{className:"p-6 text-gray-500 dark:text-gray-400 text-center",children:e.length===0?"Nenhuma venda registrada ainda.":d.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:e.slice(-5).reverse().map(s=>d.jsxs("li",{className:"py-3 flex justify-between items-center text-left",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-800 dark:text-white block",children:s.customer_name||"Cliente"}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(s.sale_date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),d.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.items.length," itens"]}),d.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 ml-4",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s.total)})]},s.id))})})]})]})}function dd({title:t,data:e,label:r,formatCurrency:n}){const[s,i]=S.useReducer((c,h)=>c.key===h?{key:h,direction:c.direction==="desc"?"asc":"desc"}:{key:h,direction:"desc"},{key:"sales",direction:"desc"}),o=S.useMemo(()=>Object.entries(e).map(([c,h])=>({name:c,...h})),[e]),a=S.useMemo(()=>{const c=[...o];return c.sort((h,g)=>h[s.key]<g[s.key]?s.direction==="asc"?-1:1:h[s.key]>g[s.key]?s.direction==="asc"?1:-1:0),c},[o,s]),l=c=>s.key!==c?null:s.direction==="asc"?" ":" ",u=({_key:c,text:h,align:g="right"})=>d.jsxs("th",{className:`px-6 py-3 text-${g} cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/50 transition select-none`,onClick:()=>i(c),children:[h," ",l(c)]});return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-96",children:[d.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 sticky top-0",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:t})}),d.jsx("div",{className:"overflow-auto flex-1",children:d.jsxs("table",{className:"min-w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 dark:text-gray-400 font-medium sticky top-0 shadow-sm",children:d.jsxs("tr",{children:[d.jsx(u,{_key:"name",text:r,align:"left"}),d.jsx(u,{_key:"stock",text:"Estoque"}),d.jsx(u,{_key:"cost",text:"$$ Custo"}),d.jsx(u,{_key:"sales",text:"$$ Vendas"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:a.map(c=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[d.jsx("td",{className:"px-6 py-3 font-medium text-gray-900 dark:text-white",children:c.name}),d.jsxs("td",{className:"px-6 py-3 text-right text-gray-600 dark:text-gray-400",children:[c.stock," un"]}),d.jsx("td",{className:"px-6 py-3 text-right text-gray-600 dark:text-gray-400",children:n(c.cost)}),d.jsx("td",{className:"px-6 py-3 text-right font-medium text-green-600 dark:text-green-400",children:n(c.sales)})]},c.name))})]})})]})}const sx=["Top","Conjunto","Shorts","Macaco","Conjunto Importado","Cala"],ix=["P","M","G","GG","P/M","G/GG"],ox=["Preto","Verde","Azul","Rosa","Rose","Roxo","Vermelho","Marrom","Cinza","Azul Marinho","Branco"];function ax(){const{products:t,fetchData:e,addProduct:r,deleteProduct:n,updateProduct:s}=dt();S.useEffect(()=>{e()},[]);const[i,o]=S.useState(!1),[a,l]=S.useState(null),[u,c]=S.useState({name:"",supplier:"",category:"",color:"",size:"",price:"",cost:"",stock:"",min_stock:""}),h=async f=>{f.preventDefault();const x={...u,price:Number(u.price),cost:Number(u.cost),stock:Number(u.stock),min_stock:Number(u.min_stock)};a?await s(a,x):await r(x),v()},g=f=>{c({name:f.name,supplier:f.supplier||"",category:f.category,color:f.color||"",size:f.size,price:f.price,cost:f.cost,stock:f.stock,min_stock:f.min_stock||0}),l(f.id),o(!0)},v=()=>{c({name:"",supplier:"",category:"",color:"",size:"",price:"",cost:"",stock:"",min_stock:""}),o(!1),l(null)},[m,w]=S.useReducer((f,x)=>f.key===x?{key:x,direction:f.direction==="desc"?"asc":"desc"}:{key:x,direction:"asc"},{key:"name",direction:"asc"}),_=S.useMemo(()=>{const f=[...t];return f.sort((x,k)=>{if(x.stock===0&&k.stock!==0)return 1;if(x.stock!==0&&k.stock===0)return-1;let b=x[m.key],E=k[m.key];return m.key==="category"&&(b=`${x.supplier} | ${x.category}`,E=`${k.supplier} | ${k.category}`),b<E?m.direction==="asc"?-1:1:b>E?m.direction==="asc"?1:-1:0}),f},[t,m]),y=f=>m.key!==f?null:m.direction==="asc"?" ":" ",p=({_key:f,label:x})=>d.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/50 select-none",onClick:()=>w(f),children:[x," ",y(f)]});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Gerenciar Estoque"}),!i&&d.jsxs("button",{onClick:()=>o(!0),className:"bg-pink-600 text-white px-4 py-2 rounded-lg flex items-center hover:bg-pink-700 transition",children:[d.jsx(Df,{className:"w-5 h-5 mr-2"}),"Novo Produto"]})]}),i&&d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex justify-between mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a?"Editar Produto":"Novo Produto"}),d.jsx("button",{onClick:v,children:d.jsx(lv,{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"})})]}),d.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome do Produto"}),d.jsx("input",{required:!0,value:u.name,onChange:f=>c({...u,name:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fornecedor"}),d.jsx("input",{required:!0,value:u.supplier,onChange:f=>c({...u,supplier:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Categoria"}),d.jsx("input",{list:"categories",value:u.category,onChange:f=>c({...u,category:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Selecione ou digite"}),d.jsx("datalist",{id:"categories",children:sx.map(f=>d.jsx("option",{value:f},f))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cor"}),d.jsx("input",{list:"colors",value:u.color,onChange:f=>c({...u,color:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Selecione ou digite"}),d.jsx("datalist",{id:"colors",children:ox.map(f=>d.jsx("option",{value:f},f))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tamanho"}),d.jsx("input",{list:"sizes",value:u.size,onChange:f=>c({...u,size:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Selecione ou digite"}),d.jsx("datalist",{id:"sizes",children:ix.map(f=>d.jsx("option",{value:f},f))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preo Venda (R$)"}),d.jsx("input",{type:"number",step:"0.01",required:!0,value:u.price,onChange:f=>c({...u,price:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Custo (R$)"}),d.jsx("input",{type:"number",step:"0.01",required:!0,value:u.cost,onChange:f=>c({...u,cost:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quantidade Atual"}),d.jsx("input",{type:"number",required:!0,value:u.stock,onChange:f=>c({...u,stock:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Estoque Mnimo"}),d.jsx("input",{type:"number",value:u.min_stock,onChange:f=>c({...u,min_stock:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),d.jsx("div",{className:"col-span-2 pt-4",children:d.jsxs("button",{type:"submit",className:"w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition font-medium flex justify-center items-center",children:[d.jsx(nv,{className:"w-5 h-5 mr-2"}),"Salvar Produto"]})})]})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:d.jsxs("tr",{children:[d.jsx(p,{_key:"name",label:"Produto"}),d.jsx(p,{_key:"color",label:"Cor/Tam"}),d.jsx(p,{_key:"stock",label:"Estoque"}),d.jsx(p,{_key:"price",label:"Preo"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Aes"})]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:_.map(f=>d.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 ${f.stock===0?"bg-red-50 dark:bg-red-900/10":""}`,children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f.name}),d.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.supplier," | ",f.category]})]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[f.color?`${f.color} / `:"",f.size]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f.stock===0?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 ring-2 ring-red-400 dark:ring-red-600":f.stock<=(f.min_stock||0)?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:f.stock===0?"SEM ESTOQUE":`${f.stock} un`})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f.price)}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>g(f),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",children:d.jsx(rv,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>n(f.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:d.jsx(Va,{className:"w-5 h-5"})})]})]},f.id))})]})})})]})}function lx(){const{products:t,addSale:e}=dt(),[r,n]=S.useState(""),[s,i]=S.useState([]),o=S.useMemo(()=>t.filter(k=>k.stock>0&&(k.name.toLowerCase().includes(r.toLowerCase())||k.category.toLowerCase().includes(r.toLowerCase()))),[t,r]),a=k=>{i(b=>{const E=b.find(T=>T.productId===k.id);return E?E.quantity>=k.stock?b:b.map(T=>T.productId===k.id?{...T,quantity:T.quantity+1}:T):[...b,{productId:k.id,name:k.name,price:k.price,quantity:1}]})},l=k=>{a(k),x("cart")},u=k=>{i(b=>b.filter(E=>E.productId!==k))},c=(k,b)=>{i(E=>E.map(T=>{if(T.productId===k){const U=T.quantity+b,$=t.find(Ne=>Ne.id===k);return U<1||U>$.stock?T:{...T,quantity:U}}return T}))},h=S.useMemo(()=>s.reduce((k,b)=>k+b.price*b.quantity,0),[s]),[g,v]=S.useState(""),[m,w]=S.useState(""),[_,y]=S.useState(""),p=()=>{if(s.length!==0){if(!g.trim()){alert("Por favor, informe o nome da cliente.");return}e({items:s,total:h,paymentMethod:"Dinheiro",customer_name:g,customer_phone:m,sale_date:_?new Date(_).toISOString():new Date().toISOString()}),i([]),v(""),w(""),y(""),alert("Venda realizada com sucesso!")}},[f,x]=S.useState("products");return d.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-[calc(100vh-140px)]",children:[d.jsxs("div",{className:"md:hidden flex bg-white dark:bg-gray-800 rounded-lg p-1 shadow-sm mb-4",children:[d.jsx("button",{onClick:()=>x("products"),className:`flex-1 py-2 text-sm font-medium rounded-md transition ${f==="products"?"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300":"text-gray-500 dark:text-gray-400"}`,children:"Produtos"}),d.jsxs("button",{onClick:()=>x("cart"),className:`flex-1 py-2 text-sm font-medium rounded-md transition ${f==="cart"?"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300":"text-gray-500 dark:text-gray-400"}`,children:["Carrinho (",s.reduce((k,b)=>k+b.quantity,0),")"]})]}),d.jsxs("div",{className:`flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col overflow-hidden transition-colors ${f==="cart"?"hidden md:flex":"flex"}`,children:[d.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700",children:d.jsxs("div",{className:"relative",children:[d.jsx(Mf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:r,onChange:k=>n(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 content-start",children:o.map(k=>d.jsxs("div",{className:`p-4 border rounded-lg transition dark:border-gray-600 relative ${k.stock>0?"bg-white dark:bg-gray-700 hover:shadow-md":"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-gray-800"}`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:k.name}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[k.size," | ",k.color," | ",k.category]})]}),d.jsx("span",{className:"font-bold text-pink-600 dark:text-pink-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k.price)})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[d.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500",children:["Estoque: ",k.stock]}),k.stock>0&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:b=>{b.stopPropagation(),a(k)},className:"p-2 bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400 rounded-lg hover:bg-pink-200 dark:hover:bg-pink-900/50 transition",title:"Adicionar ao carrinho",children:d.jsx(ji,{className:"w-4 h-4"})}),d.jsx("button",{onClick:b=>{b.stopPropagation(),l(k)},className:"p-2 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition",title:"Comprar agora",children:d.jsx(uv,{className:"w-4 h-4"})})]})]})]},k.id))})]}),d.jsxs("div",{className:`w-full md:w-96 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col transition-colors ${f==="products"?"hidden md:flex":"flex"}`,children:[d.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50 rounded-t-xl",children:d.jsxs("h2",{className:"font-bold text-gray-800 dark:text-white flex items-center",children:[d.jsx(ji,{className:"w-5 h-5 mr-2"}),"Carrinho"]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:s.length===0?d.jsx("div",{className:"text-center text-gray-400 mt-10",children:"Carrinho vazio"}):s.map(k=>d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-white",children:k.name}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k.price)})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>c(k.productId,-1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:d.jsx(tv,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-sm font-medium w-6 text-center text-gray-900 dark:text-white",children:k.quantity}),d.jsx("button",{onClick:()=>c(k.productId,1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:d.jsx(Df,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>u(k.productId),className:"ml-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded",children:d.jsx(iv,{className:"w-4 h-4"})})]})]},k.productId))}),d.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50 rounded-b-xl space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Cliente"}),d.jsx("input",{type:"text",value:g,onChange:k=>v(k.target.value),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Ex: Maria Silva"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone (Opcional)"}),d.jsx("input",{type:"tel",value:m,onChange:k=>w(k.target.value),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"(11) 99999-9999"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Data (Opcional)"}),d.jsx("input",{type:"date",value:_,onChange:k=>y(k.target.value),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 shadow-sm focus:border-pink-500 focus:ring-pink-500 border p-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),d.jsx("span",{className:"text-xs text-gray-400",children:"Deixe vazio para hoje"})]}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-gray-600",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total"}),d.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h)})]}),d.jsx("button",{onClick:p,disabled:s.length===0,className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Finalizar Venda"})]})]})]})}function ux(){const{sales:t,products:e,deleteSale:r}=dt(),[n,s]=S.useState(""),[i,o]=S.useState("desc"),[a,l]=S.useState(new Set),u=m=>{l(w=>{const _=new Set(w);return _.has(m)?_.delete(m):_.add(m),_})},c=async m=>{if(window.confirm(`Tem certeza que deseja excluir a venda de ${m.customer_name||"Cliente"}?

O estoque ser restaurado.`))try{await r(m.id),alert("Venda excluda com sucesso!")}catch(w){alert("Erro ao excluir venda: "+w.message)}},h=S.useMemo(()=>{let m=t.filter(w=>{var _;return(_=w.customer_name)==null?void 0:_.toLowerCase().includes(n.toLowerCase())});return m.sort((w,_)=>{const y=new Date(w.sale_date),p=new Date(_.sale_date);return i==="desc"?p-y:y-p}),m},[t,n,i]),g=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m),v=m=>new Date(m).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Histrico de Vendas"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-1 sm:w-64",children:[d.jsx(Mf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar por cliente...",value:n,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400"})]}),d.jsx("button",{onClick:()=>o(i==="desc"?"asc":"desc"),className:"px-4 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition text-gray-700 dark:text-gray-200 text-sm font-medium",children:i==="desc"?" Mais Recentes":" Mais Antigas"})]})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:h.length===0?d.jsx("div",{className:"p-12 text-center text-gray-400",children:n?"Nenhuma venda encontrada com esse nome.":"Nenhuma venda registrada ainda."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-600",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Data"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cliente"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Telefone"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Itens"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Detalhes"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:h.map(m=>{const w=a.has(m.id);return d.jsxs(d.Fragment,{children:[d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:v(m.sale_date)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:m.customer_name||"Cliente"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:m.customer_phone||"-"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600 dark:text-gray-400",children:m.items.length}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-green-600 dark:text-green-400",children:g(m.total)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("button",{onClick:()=>u(m.id),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition",children:w?d.jsx(Xy,{className:"w-5 h-5"}):d.jsx(Yy,{className:"w-5 h-5"})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("button",{onClick:()=>c(m),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition",title:"Excluir venda",children:d.jsx(Va,{className:"w-5 h-5"})})})]},m.id),w&&d.jsx("tr",{children:d.jsx("td",{colSpan:"7",className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/30",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"Itens da Venda:"}),m.items.map((_,y)=>{const p=e.find(f=>f.id===_.product_id);return d.jsxs("div",{className:"flex justify-between items-center text-sm py-2 border-b border-gray-200 dark:border-gray-600 last:border-0",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_.name||(p==null?void 0:p.name)||"Produto"}),p&&d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[p.color&&d.jsx("span",{children:p.color}),p.color&&p.size&&d.jsx("span",{children:"  "}),p.size&&d.jsx("span",{children:p.size}),(p.color||p.size)&&p.category&&d.jsx("span",{children:"  "}),p.category&&d.jsx("span",{children:p.category})]})]}),d.jsxs("div",{className:"text-right ml-4",children:[d.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:["Qtd: ",_.quantity]}),d.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:g(_.price)})]})]},y)})]})})},`${m.id}-details`)]})})})]})}),d.jsx("div",{className:"md:hidden divide-y divide-gray-100 dark:divide-gray-700",children:h.map(m=>d.jsxs("div",{className:"p-4 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white font-medium",children:[d.jsx(av,{className:"w-4 h-4 text-gray-400"}),m.customer_name||"Cliente"]}),m.customer_phone&&d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:m.customer_phone})]}),d.jsx("div",{className:"text-right",children:d.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:g(m.total)})})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Qy,{className:"w-4 h-4"}),v(m.sale_date)]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(sv,{className:"w-4 h-4"}),m.items.length," ",m.items.length===1?"item":"itens"]}),d.jsx("button",{onClick:()=>c(m),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition",title:"Excluir venda",children:d.jsx(Va,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:d.jsx("div",{className:"space-y-1",children:m.items.map((w,_)=>{const y=e.find(p=>p.id===w.product_id);return d.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[d.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[w.quantity,"x"]})," ",w.name||(y==null?void 0:y.name)||"Produto",y&&(y.color||y.size||y.category)&&d.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:[" ","(",[y.color,y.size,y.category].filter(Boolean).join(", "),")"]})]},_)})})})]},m.id))})]})}),h.length>0&&d.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 dark:from-pink-900/20 dark:to-rose-900/20 rounded-xl p-6 border border-pink-100 dark:border-pink-800",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Vendas"}),d.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[h.length," ",h.length===1?"venda":"vendas"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Total"}),d.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:g(h.reduce((m,w)=>m+w.total,0))})]})]})})]})}const cx=["rafaelmontes92@outlook.com","angelica.sfm@hotmail.com"];function dx(){const[t,e]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(""),[l,u]=S.useState(""),c=ou(),h=async g=>{if(g.preventDefault(),i(!0),a(""),u(""),!cx.includes(t.trim().toLowerCase())){u("Access Denied: This email is not authorized to access Angel Fit."),i(!1);return}try{const{data:v,error:m}=await X.auth.signInWithPassword({email:t,password:r});if(m)throw m;v.user&&c("/")}catch(v){u(v.message)}finally{i(!1)}};return d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-neutral-900 text-white p-4",children:d.jsxs("div",{className:"w-full max-w-md p-8 bg-neutral-800 rounded-2xl shadow-xl border border-neutral-700",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6 text-center bg-gradient-to-r from-pink-500 to-rose-400 bg-clip-text text-transparent",children:"Angel Fit Login"}),o&&d.jsx("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/50 text-green-400 rounded-lg text-sm text-center",children:o}),l&&d.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/50 text-red-400 rounded-lg text-sm text-center",children:l}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-neutral-400 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:t,onChange:g=>e(g.target.value),className:"w-full px-4 py-2 bg-neutral-900 border border-neutral-700 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all text-white placeholder-neutral-600",placeholder:"Enter your email",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-neutral-400 mb-1",children:"Senha"}),d.jsx("input",{type:"password",value:r,onChange:g=>n(g.target.value),className:"w-full px-4 py-2 bg-neutral-900 border border-neutral-700 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all text-white placeholder-neutral-600",placeholder:"Enter your password",required:!0,minLength:6})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-gradient-to-r from-pink-600 to-rose-500 hover:from-pink-500 hover:to-rose-400 text-white font-semibold rounded-lg shadow-lg hover:shadow-pink-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Processando...":"Entrar"})]})]})})}const hx=["rafaelmontes92@outlook.com","angelica.sfm@hotmail.com"];function fx(){const t=dt(s=>s.session),e=dt(s=>s.user);if(!dt(s=>s.authInitialized))return d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-neutral-900 text-white",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500"})});if(!t)return d.jsx(Iy,{to:"/login",replace:!0});const n=e==null?void 0:e.email;return n&&!hx.includes(n)?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-neutral-900 text-white",children:d.jsxs("div",{className:"text-center p-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-2",children:"Access Denied"}),d.jsxs("p",{className:"text-neutral-400",children:["Your email (",n,") is not authorized."]})]})}):d.jsx(Uf,{})}function px(){const t=dt(e=>e.checkSession);return S.useEffect(()=>{t()},[t]),d.jsx(Vy,{children:d.jsxs(Ly,{children:[d.jsx(_t,{path:"/login",element:d.jsx(dx,{})}),d.jsx(_t,{element:d.jsx(fx,{}),children:d.jsxs(_t,{path:"/",element:d.jsx(rx,{}),children:[d.jsx(_t,{index:!0,element:d.jsx(nx,{})}),d.jsx(_t,{path:"inventory",element:d.jsx(ax,{})}),d.jsx(_t,{path:"sales",element:d.jsx(lx,{})}),d.jsx(_t,{path:"sales-history",element:d.jsx(ux,{})})]})})]})})}Tf(document.getElementById("root")).render(d.jsx(S.StrictMode,{children:d.jsx(px,{})}));
